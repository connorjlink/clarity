var Ts=Object.defineProperty;var Qt=e=>{throw TypeError(e)};var Ls=(e,n,t)=>n in e?Ts(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var h=(e,n,t)=>Ls(e,typeof n!="symbol"?n+"":n,t),yt=(e,n,t)=>n.has(e)||Qt("Cannot "+t);var _=(e,n,t)=>(yt(e,n,"read from private field"),t?t.call(e):n.get(e)),I=(e,n,t)=>n.has(e)?Qt("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),D=(e,n,t,s)=>(yt(e,n,"write to private field"),s?s.call(e,t):n.set(e,t),t),qe=(e,n,t)=>(yt(e,n,"access private method"),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();const Rs=`
    .console {
        background: var(--dark-background-e);;
        color: #e0e0e0;
        max-height: 150px;
        overflow-y: auto;
        z-index: 1000;
        padding: 0.5rem 1rem;
        box-shadow: 0 -2px 8px rgba(0,0,0,0.3);
        pointer-events: auto;
        display: block;
        transition: opacity 0.3s ease-in-out;
        opacity: 1;
    }
        .console.fade-out {
            opacity: 0;
            display: none;
            pointer-events: none;
        }

    .console-line {
        white-space: pre-wrap;
        word-break: break-all;
    }
`,Cn=new CSSStyleSheet;Cn.replaceSync(Rs);class Ms extends HTMLElement{constructor(){super();h(this,"_messages",[]);h(this,"_visible",!0);h(this,"_endRef",null);this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Cn]}static get observedAttributes(){return["visible"]}get messages(){return this._messages}set messages(t){this._messages=t,this.render(),this.scrollToEnd()}get visible(){return this._visible}set visible(t){this._visible=t,this.render()}scrollToEnd(){this._endRef&&this._endRef.scrollIntoView({behavior:"smooth"})}connectedCallback(){this.render()}attributeChangedCallback(t,s,i){t==="visible"&&(this.visible=i!=="false")}render(){this.shadowRoot.innerHTML=`
            <div class="console ${this.visible?"":"fade-out"}">
                ${this._messages.map(t=>`<div class="console-line">${t.text}</div>`).join("")}
                <div id="end"></div>
            </div>
        `,this._endRef=this.shadowRoot.querySelector("#end"),this.scrollToEnd()}}customElements.define("output-window",Ms);class Is{constructor(n){h(this,"original");h(this,"addBuffer");h(this,"pieces");this.original=n,this.addBuffer="",this.pieces=[{buffer:"original",start:0,length:n.length}]}insert(n,t){if(t.length===0)return;const s=this.addBuffer.length;this.addBuffer+=t;let i=0,r=0;for(;r<this.pieces.length;r++){const c=this.pieces[r];if(i+c.length>=n)break;i+=c.length}if(r===this.pieces.length){this.pieces.push({buffer:"add",start:s,length:t.length});return}const o=this.pieces[r],l=n-i,a=[];l>0&&a.push({buffer:o.buffer,start:o.start,length:l}),a.push({buffer:"add",start:s,length:t.length}),l<o.length&&a.push({buffer:o.buffer,start:o.start+l,length:o.length-l}),this.pieces.splice(r,1,...a)}delete(n,t){let s=0,i=0;for(;i<this.pieces.length&&s+this.pieces[i].length<=n;)s+=this.pieces[i].length,i++;const r=i,o=n-s;let l=t;const a=[];for(;l>0&&i<this.pieces.length;){const c=this.pieces[i],d=i===r?o:0,u=c.length-d;Math.max(0,c.length-u),d>0&&a.push({buffer:c.buffer,start:c.start,length:d}),u<c.length&&a.push({buffer:c.buffer,start:c.start+d+l,length:c.length-(d+l)}),l-=u,i++}this.pieces.splice(r,i-r,...a)}getText(){let n="";for(const t of this.pieces){const s=t.buffer==="original"?this.original:this.addBuffer;n+=s.substr(t.start,t.length)}return n}}var Kt;(e=>{e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(Kt||(Kt={}));var en;(e=>{e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(en||(en={}));var tn;(e=>{e.None=0,e.Full=1,e.Incremental=2})(tn||(tn={}));var nn;(e=>{e.Text=1,e.Read=2,e.Write=3})(nn||(nn={}));var sn;(e=>{e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(sn||(sn={}));var rn;(e=>{e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(rn||(rn={}));const As=`
    source-editor {
        width: 100%;
        background: var(--dark-background-d);
        padding: 1rem;
        padding-left: 1rem;
        outline: none;
        display: flex;
        flex-direction: column;
        transition: border-color 100ms ease-in-out;
        overflow:auto;    
    }
        source-editor:focus {
            border-top-color: var(--accent);
        }
        source-editor pre {
            counter-reset: line;
        }
        source-editor code {
            display: flex;
            flex-direction: row; 
            counter-increment: line;
        }
        source-editor code:before {
            content: counter(line);
            padding-right: 1.5rem;
            color: var(--plain-text);
            width: 2rem;
            text-align: right;
        }

    .editor-shell {
        position: relative;
        font-family: Consolas;
        height: 300px;
        * {
            font-size: 14pt;
        }
    }
    .highlight-layer, .input-layer {
        white-space: pre-wrap;
        word-break: break-word;
        padding: 8px;
        line-height: 1.5;
        height: 100%;
        min-height: 100%;
        box-sizing: border-box;
    }
    .highlight-layer {
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        pointer-events: none;
        z-index: 1;
        color: #ccc;
        margin: 0;
        padding: 0;
    }
    .input-layer {
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        margin: 0 0 0 2rem;
        padding: 0;
        background: transparent;
        caret-color: var(--accent);
        z-index: 2;
        outline: none;
        user-select: none;
    }
`,Sn=new CSSStyleSheet;Sn.replaceSync(As);function xt(e){let n="";return e.childNodes.forEach((t,s,i)=>{t.nodeType===Node.TEXT_NODE?n+=t.data:t.tagName==="BR"?n+=`
`:t.tagName==="DIV"?(n+=xt(t),s<i.length-1&&(n+=`
`)):t.nodeType===Node.ELEMENT_NODE&&(n+=xt(t))}),n}function Ns(e){let n=0;const t=window.getSelection();if(t&&t.rangeCount>0){const s=t.getRangeAt(0),i=s.cloneRange();i.selectNodeContents(e),i.setEnd(s.endContainer,s.endOffset),n=i.toString().length}return n}function Os(e,n){const t=window.getSelection();if(!t)return;let s=0,i=[e],r,o=!1;for(;i.length&&!o&&(r=i.pop(),!!r);)if(r.nodeType===Node.TEXT_NODE){const l=r.length;if(s+l>=n){const a=document.createRange();a.setStart(r,n-s),a.collapse(!0),t.removeAllRanges(),t.addRange(a),o=!0}else s+=l}else{let l=Array.from(r.childNodes);for(let a=l.length-1;a>=0;a--)i.push(l[a])}}class Ds extends HTMLElement{constructor(){super();h(this,"_pieceTable");h(this,"_consoleListener",null);h(this,"_inputRef",null);h(this,"_highlightRef",null);h(this,"_sourceUri","");h(this,"_lastText","");h(this,"_client",null);h(this,"_hasInitialized",!1);h(this,"_boundInputCallback",this.inputCallback.bind(this));h(this,"_boundScrollCallback",this.scrollCallback.bind(this));h(this,"_boundKeydownCallback",this.keydownCallback.bind(this));this._pieceTable=new Is("function nvr main = () {}"),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Sn]}connectedCallback(){}disconnectedCallback(){var t;(t=this._client)==null||t.postMessage({type:"execute",method:"closeDocument",params:{uri:this._sourceUri}})}initialize(t,s,i){var r;this._hasInitialized=!0,this._consoleListener||(this._consoleListener=s),i&&(this._client=i,this._client.addEventListener("message",o=>{var l,a,c;o.data.type==="log"?(l=this._consoleListener)==null||l.notify(o.data.message):o.data.type==="error"?(a=this._consoleListener)==null||a.notify(o.data.message):o.data.type==="compileResult"&&((c=this._consoleListener)==null||c.notify(JSON.stringify(o.data.result)))}),this._client.addEventListener("messageerror",o=>{var l;(l=this._consoleListener)==null||l.notify(o.data)}),this._sourceUri=t),(r=this._client)==null||r.postMessage({type:"execute",method:"openDocument",params:{uri:this._sourceUri,sourceCode:this._pieceTable.getText()}}),this.render()}inputCallback(t){this.handleInputChange(t)}scrollCallback(t){this.syncScroll()}keydownCallback(t){this.handleKeyDown(t)}attachEventListeners(){var t,s,i;(t=this._inputRef)==null||t.addEventListener("input",this._boundInputCallback),(s=this._inputRef)==null||s.addEventListener("scroll",this._boundScrollCallback),(i=this._inputRef)==null||i.addEventListener("keydown",this._boundKeydownCallback)}detachEventListeners(){var t,s,i;(t=this._inputRef)==null||t.removeEventListener("input",this._boundInputCallback),(s=this._inputRef)==null||s.removeEventListener("scroll",this._boundScrollCallback),(i=this._inputRef)==null||i.removeEventListener("keydown",this._boundKeydownCallback)}handleInputChange(t){if(!this._inputRef)return;const s=xt(this._inputRef),i=Ns(this._inputRef);let r=0;for(;r<this._lastText.length&&r<s.length&&this._lastText[r]===s[r];)r++;let o=this._lastText.length-1,l=s.length-1;for(;o>=r&&l>=r&&this._lastText[o]===s[l];)o--,l--;o>=r&&this._pieceTable.delete(r,o-r+1),l>=r&&this._pieceTable.insert(r,s.slice(r,l+1)),this._lastText=s,this.renderHighlight([]),Os(this._inputRef,i)}handleKeyDown(t){t.key==="Tab"&&(t.preventDefault(),document.execCommand("insertText",!1,"    ")),t.key==="Enter"&&(t.preventDefault(),document.execCommand("insertLineBreak"))}renderHighlight(t){var s;this._highlightRef&&(this._pieceTable.getText(),(s=this._client)==null||s.postMessage({type:"execute",method:"recycle",params:{uri:this._sourceUri,deltas:t}}))}syncScroll(){this._inputRef&&this._highlightRef&&(this._highlightRef.scrollTop=this._inputRef.scrollTop,this._highlightRef.scrollLeft=this._inputRef.scrollLeft)}render(){if(!this._hasInitialized)throw new Error("call initialize() on SourceEditorElement before rendering.");const t=this._pieceTable.getText();this.shadowRoot.innerHTML=`
            <div class="editor-shell">
                <pre class="highlight-layer"></pre>
                <div class="input-layer" contenteditable="true" spellcheck="false"></div>
            </div>
        `,this._highlightRef=this.shadowRoot.querySelector(".highlight-layer"),this._inputRef=this.shadowRoot.querySelector(".input-layer"),this._inputRef&&(this._inputRef.textContent=t,this._lastText=t),this.attachEventListeners(),this.renderHighlight([])}}customElements.define("source-editor",Ds);const Ps=`
    .hex-shell {
        background: #181818;
        color: #ccc;
        font-family: 'Fira Mono', 'Consolas', monospace;
        font-size: 14px;
        padding: 8px;
        overflow: auto;
        width: fit-content;
        max-width: 100%;
    }

    .hex-address {
        color: #888;
        margin-right: 12px;
        font-weight: bold;
    }

    .hex-ascii {
        color: #6cf;
        margin-left: 2px;
    }

    .hex-highlight-layer span {
        transition: background-color 0.2s;
    }
`,$n=new CSSStyleSheet;$n.replaceSync(Ps);class zs extends HTMLElement{constructor(){super();h(this,"_data",new Uint8Array);h(this,"_columns",16);h(this,"_highlightRef",null);h(this,"_client",null);h(this,"_symbols",[]);h(this,"_sourceUri","");h(this,"_hasInitialized",!1);this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[$n]}connectedCallback(){}disconnectedCallback(){var t;(t=this._client)==null||t.postMessage({type:"execute",method:"closeDocument",params:{uri:this._sourceUri}})}initialize(t,s,i=16,r=null){var o,l;this._hasInitialized=!0,this._client=r,this._sourceUri=t,this._data=s,this._columns=i,(o=this._client)==null||o.addEventListener("message",a=>{a.data.type==="symbolInfo"&&a.data.uri===this._sourceUri&&(this._symbols=a.data.symbols,this.render())}),(l=this._client)==null||l.postMessage({type:"execute",method:"openDocument",params:{uri:this._sourceUri,sourceCode:Array.from(this._data).map(a=>a.toString(16).padStart(2,"0")).join(" ")}}),this.render()}setColumns(t){t!==this._columns&&(this._columns=t,this.render())}getSymbolAt(t){for(const s of this._symbols)if(t>=s.address&&t<s.address+s.length)return s;return null}render(){if(!this._hasInitialized)throw new Error("call initialize() on HexViewerElement before rendering.");this.shadowRoot.innerHTML=`
            <div class="hex-shell">
                <pre class="hex-highlight-layer"></pre>
            </div>
        `,this._highlightRef=this.shadowRoot.querySelector(".hex-highlight-layer"),this._highlightRef&&(this._highlightRef.innerHTML=this.renderHex())}renderHex(){let t="";for(let s=0;s<Math.ceil(this._data.length/this._columns);s++){const i=s*this._columns;t+=`<span class="hex-address">${i.toString(16).padStart(8,"0")}</span>  `;let r="",o="";for(let a=0;a<this._columns;a++){const c=i+a;if(c<this._data.length){const d=this.getSymbolAt(c),u=d?d.color:"#ccc",f=this._data[c].toString(16).padStart(2,"0")+" ";u!==r&&o?(t+=`<span style="color:${r}">${o}</span>`,o=f,r=u):(o+=f,r=u)}else o&&(t+=`<span style="color:${r}">${o}</span>`,o=""),t+="   "}o&&(t+=`<span style="color:${r}">${o}</span>`),t+=" ";let l="";for(let a=0;a<this._columns;a++){const c=i+a;if(c<this._data.length){const d=this._data[c];l+=d>=32&&d<=126?String.fromCharCode(d):"."}else l+=" "}t+=`<span class="hex-ascii">${l}</span>
`}return t}}customElements.define("hex-viewer",zs);class qs{constructor(n=[],t=[]){h(this,"nodes",new Map);h(this,"connections",new Map);n.forEach(s=>this.nodes.set(s.id,s)),t.forEach(s=>this.connect(s.from,s.to))}static connectionKey(n,t){return[n.nodeId,n.clickspotId,t.nodeId,t.clickspotId].sort().join("|")}getNodes(){return Array.from(this.nodes.values())}getAllConnections(){return Array.from(this.connections.values()).flatMap(n=>Array.from(n))}getConnections(n){const t=new Set;for(const s of this.connections.values())for(const i of s)(i.from.nodeId===n||i.to.nodeId===n)&&t.add(i);return t}addNode(n){this.nodes.set(n.id,n)}removeNode(n){this.nodes.delete(n);for(const[t,s]of Array.from(this.connections.entries()))for(const i of s)(i.from.nodeId===t||i.to.nodeId===t)&&s.delete(i),s.size===0&&this.connections.delete(t)}updateNodePosition(n,t){const s=this.nodes.get(n);s&&(s.position=t)}setParent(n,t){const s=this.nodes.get(n);s&&(s.parentId=t)}connect(n,t){var o,l,a,c;if(n.nodeId===t.nodeId)return;let s=this.connections.get(n.nodeId);s||(s=new Set,this.connections.set(n.nodeId,s)),s.add({from:n,to:t}),(o=document.getElementById(n.clickspotId))==null||o.classList.toggle("connected",!0);var i=(l=this.nodes.get(n.nodeId))==null?void 0:l.clickspots.find(d=>d.id===n.clickspotId);i&&(i.isConnected=!0),(a=document.getElementById(t.clickspotId))==null||a.classList.toggle("connected",!0);var r=(c=this.nodes.get(t.nodeId))==null?void 0:c.clickspots.find(d=>d.id===t.clickspotId);r&&(r.isConnected=!0)}disconnect(n){var i,r,o,l;for(const[a,c]of this.connections.entries())for(const d of c)if(d.from.nodeId===n.nodeId&&d.from.clickspotId===n.clickspotId||d.to.nodeId===n.nodeId&&d.to.clickspotId===n.clickspotId){(i=document.getElementById(d.from.clickspotId))==null||i.classList.toggle("connected",!1);var t=(r=this.nodes.get(d.from.nodeId))==null?void 0:r.clickspots.find(u=>u.id===d.from.clickspotId);t&&(t.isConnected=!1),(o=document.getElementById(d.to.clickspotId))==null||o.classList.toggle("connected",!1);var s=(l=this.nodes.get(d.to.nodeId))==null?void 0:l.clickspots.find(u=>u.id===d.to.clickspotId);s&&(s.isConnected=!1),c.delete(d),c.size===0&&this.connections.delete(a);break}}load(n,t){this.nodes.clear(),this.connections.clear(),n.forEach(s=>this.nodes.set(s.id,s)),t.forEach(s=>this.connect(s.from,s.to))}}const Hs=`
    .node {
        margin: 1rem;
        height: 100px;
        width: 200px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        -webkit-user-select: none;
        user-select: none;
        background: none;
        border-radius: var(--corner-radius);
        will-change: transform;
    }

    .node-header {
        font-size: 8pt;
        width: 100%;
        border-radius: var(--corner-radius) var(--corner-radius) 0 0;
        border: 1px solid var(--node-border);
        background: var(--keyword);
        display: flex;
        flex-direction: row;
        align-items: center;
    }
        .node-header .node-icon {
            height: 15px;
            padding: 0 1px;
        }

    .node-body {
        border-radius: 0 0 var(--corner-radius) var(--corner-radius);
        border: 1px solid var(--node-border);
        border-top: none;
        background: var(--dark-background-e);
        flex: 1;
        width: 100%;
    }

    .node-clickspot-container {
        position: absolute;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
    }
        .node-clickspot-container.left {
            left: 0;
            top: 0;
            transform: translateX(-50%);
        }
        .node-clickspot-container.right {
            right: 0;
            top: 0;
            transform: translateX(50%);
        }
        .node-clickspot-container.bottom {
            height: initial;
            width: 100%;
            flex-direction: row;
            bottom: 0;
            left: 0;
            transform: translateY(50%);
        }

    .node-clickspot {
        aspect-ratio: 1 / 1;
        width: var(--clickspot-width);
        background: var(--light-background-d);
        border: dashed 1px var(--light-background-ll);
        border-radius: 50%;
    }
        .node-clickspot.connected {
            background: var(--accent);
            border-color: var(--accent-hovered);
        }
`,Tn=new CSSStyleSheet;Tn.replaceSync(Hs);class Bs extends HTMLElement{constructor(){super();h(this,"onMove");h(this,"onConnectStart");h(this,"onConnectEnd");h(this,"onDisconnect");h(this,"onTempLine");h(this,"isClickspotConnected");h(this,"screenToWorld");h(this,"worldToScreen");h(this,"_areCallbacksSet",!1);h(this,"_contentRef");h(this,"_nodeId","");h(this,"_position",{x:0,y:0});h(this,"_clickspots",[]);h(this,"_isDragging",!1);h(this,"_dragOffset",{x:0,y:0});this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Tn]}static get observedAttributes(){return["id","x","y"]}setCallbacks(t){Object.assign(this,t),this._areCallbacksSet=!0}connectedCallback(){this.render()}attributeChangedCallback(t,s,i){t==="node-id"&&i&&(this._nodeId=i),this.render()}set data(t){this._nodeId=t.nodeId,this._position=t.position,this._clickspots=t.clickspots,this._isDragging=!1,this._dragOffset={x:0,y:0},this.render()}updateTransform(t){this._position=t,this._contentRef&&(this._contentRef.style.transform=`translate3d(${this._position.x}px, ${this._position.y}px, 0)`)}attachEventListeners(){var t,s;(t=this.querySelector(".node-header"))==null||t.addEventListener("mousedown",i=>{this.startNodeDrag(i)}),(s=this.querySelectorAll(".node-clickspot"))==null||s.forEach(i=>{i.addEventListener("mousedown",r=>{this.handleClickspotMouseDown(i.getAttribute("id"),r)})})}getLocationByClassList(t){return t.contains("left")?"left":t.contains("right")?"right":t.contains("bottom")?"bottom":null}startNodeDrag(t){if(t.button!==0)return;this._isDragging=!0;const s=this.screenToWorld({x:t.clientX,y:t.clientY});this._dragOffset={x:s.x-this._position.x,y:s.y-this._position.y};const i=o=>{var a;if(!this._isDragging)return;const l=this.screenToWorld({x:o.clientX,y:o.clientY});(a=this.onMove)==null||a.call(this,{x:l.x-this._dragOffset.x,y:l.y-this._dragOffset.y})},r=()=>{this._isDragging=!1,document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",r)}handleClickspotMouseDown(t,s){if(s.button===0)if(this.isClickspotConnected({nodeId:this._nodeId,clickspotId:t,location:null}))this.onDisconnect({nodeId:this._nodeId,clickspotId:t,location:null});else{const i=s.target.closest(".node-clickspot");if(!i){this.onTempLine(null);return}this._isDragging=!0;const r=i.getBoundingClientRect(),o={x:r.left+r.width/2,y:r.top+r.height/2},l=this.screenToWorld(o),a=s.target.closest(".node");if(!a){this.onTempLine(null);return}const c=a.getAttribute("id");if(!c){this.onTempLine(null);return}const d=i.closest(".node-clickspot-container");if(!d){this.onTempLine(null);return}const u=this.getLocationByClassList(d.classList);this.onConnectStart({nodeId:c,clickspotId:t,location:u});const f=g=>{if(!this._isDragging){this.onTempLine(null);return}const m={x:g.clientX,y:g.clientY},v=this.screenToWorld(m);this.onTempLine([{start:{x:l.x,y:l.y},end:{x:v.x,y:v.y}},u])},p=g=>{this._isDragging=!1,document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",p);const m={x:g.clientX,y:g.clientY},v=document.elementFromPoint(m.x,m.y);if(!v||!v.classList.contains("node-clickspot")||v.classList.contains("connected")){this.onTempLine(null);return}const k=v.getAttribute("id"),R=v.closest(".node");if(!R||!k){this.onTempLine(null);return}const b=R.getAttribute("id"),H=v.closest(".node-clickspot-container");if(!H){this.onTempLine(null);return}const ue=this.getLocationByClassList(H.classList);b&&b!==c&&this.onConnectEnd({nodeId:c,clickspotId:t,location:u},{nodeId:b,clickspotId:k,location:ue}),this.onTempLine(null)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",p)}}render(){this.shadowRoot.innerHTML=`
            <link rel="stylesheet" href="./tree_node.css">
            <div
                id="${this._nodeId}"
                class="node shadowed"
            >
                <div class="node-header">
                    <img src="../res/expression.svg" class="node-icon" alt="Node Icon" />
                    <span>Exponentiation Expression</span>
                </div>
                <div class="node-body">
                    ${["left","bottom","right"].map(t=>`
                        <div class="node-clickspot-container ${t}">
                            ${this._clickspots.filter(s=>s.location===t).map(s=>`
                                <button
                                    class="node-clickspot"
                                    id="${s.id}"
                                    class="${s.isConnected?"connected":""}"
                                ></button>
                            `).join("")}
                        </div>
                    `).join("")}
                    <div class="node-content">
                        <slot></slot>
                    </div>
                </div>
            </div>
        `,this._contentRef=this.shadowRoot.querySelector(`#${this._nodeId}`),this.updateTransform(this._position),this._areCallbacksSet&&this.attachEventListeners()}}customElements.define("tree-node",Bs);const Ws=`
    .wrapper {
        transform: translate(calc(-1 * var(--transform-size) / 2), calc(-1 * var(--transform-size) / 2));
    }
    .container {
        position: absolute;
        width: var(--transform-size);
        height: var(--transform-size);
        user-select: none;
        overflow: hidden;
        will-change: transform, scale, zoom;
        transform-origin: 50% 50%;
        z-index: -1000;
    }
`,Ln=new CSSStyleSheet;Ln.replaceSync(Ws);const Te=class Te extends HTMLElement{constructor(){super();h(this,"_container");h(this,"_scale",1);h(this,"_isPanning",!1);h(this,"_position",{x:0,y:0});h(this,"_lastPosition",{x:0,y:0});this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onWheel=this.onWheel.bind(this),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Ln]}connectedCallback(){this.render(),this.updateTransform(),this._container.addEventListener("mousedown",this.onMouseDown),this._container.addEventListener("wheel",this.onWheel,{passive:!1})}disconnectedCallback(){this._container.removeEventListener("mousedown",this.onMouseDown),this._container.removeEventListener("wheel",this.onWheel),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}screenToWorld(t){return{x:(t.x-this._position.x)/this._scale,y:(t.y-this._position.y)/this._scale}}worldToScreen(t){return{x:t.x*this._scale+this._position.x,y:t.y*this._scale+this._position.y}}onMouseDown(t){let s=t.target;for(;s;){if(s.nodeName.toLowerCase()==="tree-node")return;s=s.parentElement}this._isPanning=!0,this._lastPosition={x:t.clientX-this._position.x,y:t.clientY-this._position.y},window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this._container.style.cursor="grabbing"}onMouseMove(t){this._isPanning&&(this._position.x=t.clientX-this._lastPosition.x,this._position.y=t.clientY-this._lastPosition.y,this.updateTransform())}onMouseUp(){this._isPanning=!1,window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this._container.style.cursor="grab",setTimeout(()=>{this._isPanning||(this._container.style.cursor="default")},1e3)}onWheel(t){t.preventDefault();const s=-t.deltaY*.001,i=Math.min(Te.maxScale,Math.max(Te.minScale,this._scale+s)),r=this._container.getBoundingClientRect(),o=t.clientX-r.left,l=t.clientY-r.top,a=o-this._position.x,c=l-this._position.y,d=i/this._scale;this._position.x=o-a*d,this._position.y=l-c*d,this._scale=i,this.updateTransform()}updateTransform(){this._container.style.transform=`translate(${this._position.x}px, ${this._position.y}px)`,this._container.style.zoom=`${this._scale*100}%`}render(){this.shadowRoot.innerHTML=`
            <div class="wrapper">
                <div class="container">
                    <slot name="transformed-view-slot"></slot>
                </div>
            </div>
        `,this._container=this.shadowRoot.querySelector(".container")}};h(Te,"minScale",.2),h(Te,"maxScale",3);let kt=Te;customElements.define("transformed-view",kt);const Us=`
    transformed-view {
        display: block;
        width: 100%;
        height: 100%;
        z-index: -1000;
    }
    #connections-canvas {
        position:absolute;
        top:0;
        left:0;
        width: var(--transform-size);
        height: var(--transform-size);
        pointer-events:none;
    }
    #transform-content {
        position: absolute;
        top: 0;
        left: 0;
        width: var(--transform-size);
        height: var(--transform-size);
        transform: translate(50%, 50%);
    }
`,Rn=new CSSStyleSheet;Rn.replaceSync(Us);class Mn extends HTMLElement{constructor(){super();h(this,"_nodeManager");h(this,"_transformedViewRef");h(this,"_contentRef");h(this,"_connectionsCanvas");h(this,"_canvasRef");this._nodeManager=new qs([{id:"node1",label:"Hello, 123123",position:{x:100,y:100},clickspots:[{id:"clickspot-a",location:"left"},{id:"clickspot-b",location:"right"},{id:"clickspot-e",location:"bottom"}]},{id:"node2",label:"This is a new test node",position:{x:400,y:200},clickspots:[{id:"clickspot-c",location:"left"},{id:"clickspot-d",location:"bottom"}]},{id:"node3",label:"Testing testing testing",position:{x:550,y:400},clickspots:[{id:"clickspot-f",location:"left"},{id:"clickspot-g",location:"left"}]}]),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Rn]}connectedCallback(){this.render()}attributeChangedCallback(t,s,i){}getClickspotCenter(t,s){const i=document.querySelector(`#${s}`);if(!i||!this._transformedViewRef)return null;const r=i.getBoundingClientRect(),o=this._transformedViewRef.screenToWorld({x:r.left,y:r.top});return{x:o.x+r.width/2,y:o.y+r.height/2}}isClickspotConnected(t){const s=this._nodeManager.getConnections(t.nodeId);for(const i of s)if(i.from.clickspotId===t.clickspotId||i.to.clickspotId===t.clickspotId)return!0;return!1}handleConnectStart(t){}handleConnectEnd(t,s){t&&(t.nodeId!==s.nodeId||t.clickspotId!==s.clickspotId)&&(this._nodeManager.connect(t,s),this.handleTempLine(null)),this.renderLines()}handleRemoveLines(t){this._nodeManager.disconnect(t),!(!this._connectionsCanvas||!this._canvasRef)&&this.renderLines()}handleNodeMove(t,s){var o;this._nodeManager.updateNodePosition(t,s);const r=((o=this._contentRef)==null?void 0:o.querySelector(`#${t}`)).parentElement;r&&r.updateTransform(s),this.renderLines()}clearLines(){!this._connectionsCanvas||!this._canvasRef||this._canvasRef.clearRect(0,0,this._connectionsCanvas.width,this._connectionsCanvas.height)}renderLines(){if(!this._connectionsCanvas||!this._canvasRef)return;this.clearLines();const t=this._nodeManager.getAllConnections();for(const s of t){const i=this.getClickspotCenter(s.from.nodeId,s.from.clickspotId),r=this.getClickspotCenter(s.to.nodeId,s.to.clickspotId);if(!i||!r||!s.from.location||!s.to.location){console.warn(`Skipping connection from ${s.from.nodeId} to ${s.to.nodeId} due to missing clickspot centers or locations.`);continue}this.drawBezierPath(i,r,s.from.location,s.to.location,"rgb(143, 132, 213)",2,!1)}}handleTempLine(t){if(this.renderLines(),!t||!this._canvasRef)return;const{start:s,end:i}=t[0],r=t[1];this.drawBezierPath(s,i,r,null,"rgb(171, 167, 200)",2,!0)}getBezierPath(t,s,i){var p;const{start:r,end:o}=t,l=100;if(this._transformedViewRef){const g=(p=this._transformedViewRef)==null?void 0:p.getBoundingClientRect();r.x-=(g==null?void 0:g.left)||0,r.y-=(g==null?void 0:g.top)||0,o.x-=(g==null?void 0:g.left)||0,o.y-=(g==null?void 0:g.top)||0}let a=i;if(!i&&s){const g=o.x-r.x,m=o.y-r.y,v=Math.atan2(m,g)*180/Math.PI;s==="left"?v>-45&&v<45?a="left":v>=45&&v<=135?a="bottom":a=null:s==="right"?v>135||v<-135?a="right":v>=-135&&v<=-45?a="bottom":a=null:s==="bottom"&&(v>135||v<-135?a="right":v>-45&&v<45?a="left":v>=45&&v<=135&&(a="bottom"))}let c=r.x,d=r.y;s==="left"?c-=l:s==="right"?c+=l:s==="bottom"&&(d+=l);let u=o.x,f=o.y;return a==="left"?u-=l:a==="right"?u+=l:a==="bottom"&&(f+=l),[r.x,r.y,c,d,u,f,o.x,o.y]}drawBezierPath(t,s,i,r,o,l,a){if(!this._canvasRef)return;const[c,d,u,f,p,g,m,v]=this.getBezierPath({start:t,end:s},i,r);this._canvasRef.save(),this._canvasRef.beginPath(),a?this._canvasRef.setLineDash([4,4]):this._canvasRef.setLineDash([]),this._canvasRef.moveTo(c,d),this._canvasRef.bezierCurveTo(u,f,p,g,m,v),this._canvasRef.strokeStyle=o,this._canvasRef.lineWidth=l,this._canvasRef.stroke(),this._canvasRef.restore()}resizeCanvas(){if(!this._connectionsCanvas)return;const t=this._connectionsCanvas.parentElement;if(t){const s=t.getBoundingClientRect();this._connectionsCanvas.width=s.width,this._connectionsCanvas.height=s.height}}renderNodes(){if(!this._contentRef)return;const t=new Map;this._contentRef.querySelectorAll("tree-node").forEach(i=>{const r=i.getAttribute("id");r&&t.set(r,i)});const s=new Set;for(const i of this._nodeManager.getNodes()){s.add(i.id);let r=t.get(i.id);r||(r=document.createElement("tree-node"),r.data={nodeId:i.id,position:i.position,clickspots:i.clickspots},r.setCallbacks({onMove:l=>this.handleNodeMove(i.id,l),onConnectStart:l=>this.handleConnectStart(l),onConnectEnd:(l,a)=>this.handleConnectEnd(l,a),onDisconnect:l=>this.handleRemoveLines(l),onTempLine:l=>this.handleTempLine(l),isClickspotConnected:l=>this.isClickspotConnected(l),screenToWorld:l=>{var a;return((a=this._transformedViewRef)==null?void 0:a.screenToWorld(l))??l},worldToScreen:l=>{var a;return((a=this._transformedViewRef)==null?void 0:a.worldToScreen(l))??l}}),this._contentRef.appendChild(r));const o=r.querySelector(".node-content");o&&(o.textContent=i.label)}t.forEach((i,r)=>{s.has(r)||i.remove()})}render(){this.shadowRoot.innerHTML=`
            <transformed-view id="program-tree-transformed-view">
                <div id="transform-content" slot="transformed-view-slot" style="position:absolute; top:0; left:0; width:100%; height:100%;">
                    <canvas id="connections-canvas"></canvas>
                </div>
            </transformed-view>
        `,this._transformedViewRef=this.shadowRoot.querySelector("#program-tree-transformed-view"),this._contentRef=this._transformedViewRef.querySelector("#transform-content"),this._connectionsCanvas=this._contentRef.querySelector("#connections-canvas"),this._canvasRef=this._connectionsCanvas.getContext("2d"),window.addEventListener("resize",()=>{this.resizeCanvas(),this.renderLines()}),this.resizeCanvas(),this.renderLines(),this.renderNodes()}}h(Mn,"observedAttributes",[]);customElements.define("program-tree",Mn);class js extends HTMLElement{constructor(){super(...arguments);h(this,"tabsContent");h(this,"pages",[])}connectedCallback(){this.render(),window.addEventListener("popstate",s=>{var r;const i=((r=s.state)==null?void 0:r.tab)??this.getTabIndexFromUrl();typeof i=="number"&&i>=0&&i<this.pages.length&&this.activatePage(i,!1)});const t=this.getTabIndexFromUrl();typeof t=="number"&&t>=0&&t<this.pages.length&&this.activatePage(t,!1)}getTabIndexFromUrl(){let t=window.location.pathname.replace(/^\//,"");t.startsWith("clarity/")&&(t=t.substring(8));const s=Array.from(this.querySelectorAll("my-tab"));for(let i=0;i<s.length;i++)if(s[i].getAttribute("route")===t)return i;return 0}activatePage(t,s=!0){if(this.pages.forEach((i,r)=>{const o=this.tabsContent.querySelectorAll("input"),l=r===t;i.classList.toggle("active",l),o[r]&&(o[r].checked=l)}),s){const r=Array.from(this.querySelectorAll("my-tab"))[t].getAttribute("route")||"",l=`${window.location.origin}/clarity/${r}`;history.pushState({tab:t},"",l)}}render(){const t=this.querySelector("my-header");if(t){const r=t.children[0];if(r){let o=document.createElement("div");o.className="tabs-bar",r.classList.add("tabs-header"),o.appendChild(r),this.prepend(o)}t.remove()}this.tabsContent=document.createElement("div"),this.tabsContent.className="tabs-content";const s=this.querySelector(".tabs-bar");s?s.append(this.tabsContent):this.prepend(this.tabsContent),Array.from(this.querySelectorAll("my-tab")).forEach((r,o)=>{const l=r.getAttribute("label")||`Tab ${o+1}`,a=`tab-${o}`,c=`tabpanel-${o}`,d=document.createElement("input");d.type="radio",d.id=a,d.checked=o===0,d.addEventListener("change",()=>this.activatePage(o,!0));const u=document.createElement("label");u.htmlFor=a,u.textContent=l;const f=document.createElement("span");f.className="tab-radio-wrapper",f.appendChild(d),f.appendChild(u),this.tabsContent.appendChild(f),r.classList.add("page"),r.setAttribute("id",c),o===0&&r.classList.add("active"),this.pages.push(r)})}}customElements.define("my-tabview",js);class Fs extends HTMLElement{}customElements.define("my-tab",Fs);class Vs extends HTMLElement{}customElements.define("my-header",Vs);class Ys extends HTMLElement{constructor(){super()}connectedCallback(){this.render()}render(){const n=document.createElement("div");n.className="article-list";const t=this.querySelectorAll("my-article");for(let i=0;i<t.length;i++){const r=t[i],o=r.querySelector("my-article-header");if(!o){console.warn(`Article ${i} does not have a header.`);continue}const l=document.createElement("div");l.className="article-item shadowed hoverable",l.innerHTML=o.outerHTML,l.addEventListener("click",()=>{const a=this.querySelector(".article-content-container");a&&(n.style.display="none",a.style.display="flex",a.innerHTML=r.innerHTML)}),n.appendChild(l)}this.innerHTML="";let s=document.createElement("div");s.className="article-content-container",s.style.display="none",this.appendChild(n),this.appendChild(s)}}class Xs extends HTMLElement{constructor(){super(...arguments);h(this,"_rendered",!1)}connectedCallback(){this.render()}render(){if(this._rendered)return;this._rendered=!0;const t=this.getAttribute("article-title")||"Untitled Article",s=this.getAttribute("article-description")||"",i=document.createElement("header"),r=document.createElement("div"),o=document.createElement("h1");o.textContent=t;const l=document.createElement("p");l.className="article-desc",l.textContent=s,r.appendChild(o),r.appendChild(l),i.appendChild(r);const a=this.querySelector("symbol-icon");a&&i.prepend(a);const c=document.createElement("section"),d=document.createElement("main"),u=document.createElement("article"),f=this.querySelector("my-article-content");f&&u.appendChild(f),d.appendChild(u);const p=document.createElement("aside"),g=document.createElement("span");g.textContent="More Articles";const m=document.createElement("nav");m.className="article-nav",p.appendChild(g),p.appendChild(m),c.appendChild(d),c.appendChild(p);const v=document.createElement("footer"),k=document.createElement("div");k.innerHTML=`
            <span>Source code available at <a href="https://github.com/connorjlink/clarity">https://github.com/connorjlink/clarity</a>.</span>
            <br>
            <span>&copy; 2025 Connor J. Link. All Rights Reserved.</span>
        `,v.appendChild(k),this.textContent="",this.appendChild(i),this.appendChild(c),this.appendChild(v),Array.from(document.querySelectorAll("my-article-header symbol-icon"))}}class Gs extends HTMLElement{connectedCallback(){this.render()}render(){const n=this.getAttribute("article-title")||"Untitled Article",t=this.getAttribute("article-description")||"No description provided.",s=this.querySelector("symbol-icon");this.innerHTML=`
            <div class="article-header">
                ${s?s.outerHTML:""}
                <div>
                    <h2 class="article-title">${n}</h2>
                    <p class="article-desc">${t}</p>
                </div>
            </div>
        `}}customElements.define("my-articleselector",Ys);customElements.define("my-article-header",Gs);customElements.define("my-article",Xs);const In=`
    :host {
        display: block;
        width: 100%;
        height: 100%;
    }
    
    :host *, :host *::before, :host *::after {
        box-sizing: border-box;
    }

    pane-view {
        overflow-x: hidden;
    }

    .pane-row {
        display: grid;
        grid-template-rows: 1fr;
        will-change: grid-template-columns;
        height: 100%;
        width: 100%;
    }

    .pane-column {
        width: 100%;
        position: relative;
        background: var(--dark-background-d);
        z-index: 1;
    }
        .pane-column.hidden {
            display: none;
        }
    
    .handle {
        width: 1px;
        cursor: col-resize;
        background: var(--node-border);
        z-index: 3;
        height: 100%;
        transition: background-color 100ms ease-in-out;
    }
        .handle:hover {
            background: var(--accent-hovered);
            width: 2px;
        }
        .handle.dragging {
            background: var(--accent-selected);
        }

    .pane-descriptor {
        padding: 0.5rem;
        background: var(--dark-background-e);
        border-top: 1px solid var(--node-border);
        border-bottom: 1px solid var(--node-border);
        width: 100%;
        position: relative;
        z-index: 2;
    }
`,Js=new CSSStyleSheet;Js.replaceSync(In);const on="resizable-pane-widths";class Zs extends HTMLElement{constructor(){super();h(this,"columns",[]);h(this,"handles",[]);h(this,"widths",[]);h(this,"draggingIndex",null);h(this,"startX",0);h(this,"startWidths",[]);h(this,"visible",[]);h(this,"originalPanes",[]);h(this,"onHandleMouseDown",t=>{const s=t.target;this.draggingIndex=parseInt(s.dataset.index),this.startX=t.clientX,this.startWidths=this.getCurrentWidths(),s.classList.add("dragging"),t.preventDefault()});h(this,"onMouseMove",t=>{if(this.draggingIndex===null)return;const s=t.clientX-this.startX,i=this.draggingIndex;let r=[...this.startWidths];const o=50;r[i]+=s,r[i+1]-=s;for(let a=i+1;a<r.length;a++)if(r[a]<o){const c=o-r[a];r[a]=o,a+1<r.length&&(r[a+1]-=c)}for(let a=i;a>=0;a--)if(r[a]<o){const c=o-r[a];r[a]=o,a-1>=0&&(r[a-1]-=c)}for(let a=r.length-1;a>=0;a--)r[a]<o&&(r[a]=o);for(let a=0;a<r.length;a++)r[a]<o&&(r[a]=o);const l=r.reduce((a,c)=>a+c,0);this.widths=r.map(a=>a/l),this.applyWidths(),this.startWidths=r,this.startX=t.clientX});h(this,"onMouseUp",t=>{this.draggingIndex!==null&&(this.handles[this.draggingIndex].classList.remove("dragging"),this.saveWidths(),this.draggingIndex=null)})}connectedCallback(){this.originalPanes.length===0&&(this.originalPanes=Array.from(this.querySelectorAll(".pane-column"))),this.loadWidths(),this.render(),this.applyWidths(),this.addHandleEvents()}disconnectedCallback(){this.removeHandleEvents()}setVisiblePanes(t){this.visible=t,this.render(),this.applyWidths(),this.addHandleEvents()}render(){this.innerHTML=`<style>${In}</style>`;const t=document.createElement("div");t.className="pane-row",this.columns=[],this.handles=[],this.originalPanes.forEach((s,i)=>{if(Array.from(s.querySelectorAll(".handle")).forEach(r=>r.remove()),this.visible[i]&&(t.appendChild(s),this.columns.push(s),this.columns.length-1<this.visible.filter(Boolean).length-1)){const r=document.createElement("div");r.className="handle",r.dataset.index=(this.columns.length-1).toString(),t.appendChild(r),this.handles.push(r)}}),this.appendChild(t)}addHandleEvents(){this.handles.forEach(t=>{t.addEventListener("mousedown",this.onHandleMouseDown)}),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)}removeHandleEvents(){this.handles.forEach(t=>{t.removeEventListener("mousedown",this.onHandleMouseDown)}),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}getCurrentWidths(){return this.columns.map(t=>t.getBoundingClientRect().width)}applyWidths(){this.widths.length!==this.columns.length&&(this.widths=Array(this.columns.length).fill(1/this.columns.length));const t=this.querySelector(".pane-row");if(!t)return;let s="";for(let r=0;r<this.columns.length;r++)s+=`${this.widths[r]*100}% `,r<this.columns.length-1&&(s+="1px ");t.style.gridTemplateColumns=s.trim();let i=1;this.columns.forEach(r=>{r.classList.contains("hidden")||(r.style.gridColumn=`${i}`,i+=2)}),this.handles.forEach((r,o)=>{r.style.gridColumn=`${2*(o+1)}`})}saveWidths(){localStorage.setItem(on,JSON.stringify(this.widths))}loadWidths(){const t=localStorage.getItem(on);if(t)try{const s=JSON.parse(t);Array.isArray(s)&&s.length===this.columns.length&&(this.widths=s)}catch{}}}customElements.define("pane-view",Zs);const Qs=`
    .container {
        cursor: pointer;
        user-select: none;
        width: fit-content;
    }

    input {
        position: absolute;
        height: 1rem;
        width: 1rem;
        opacity: 0;
        margin: 0;
        z-index: 100;
        cursor: pointer;
    }
        input:checked ~ on-icon {
            display: flex;
        }
        input:not(:checked) ~ off-icon {
            display: flex;
        }

    on-icon, off-icon {
        display: none;
        align-items: center;
        justify-content: center;
        width: 1rem;
        height: 1rem;
    }

    svg {
        width: 0.75rem;
        height: 0.75rem;
        color: white;
    }
`,An=new CSSStyleSheet;An.replaceSync(Qs);class Ks extends HTMLElement{constructor(){super();h(this,"_checked",!0);h(this,"_onIcon",null);h(this,"_offIcon",null);h(this,"_titleText",null);this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[An]}get checked(){return this._checked}set checked(t){this._checked=t,this.render()}connectedCallback(){this._onIcon=this.querySelector("on-icon"),this._offIcon=this.querySelector("off-icon"),this._titleText=this.getAttribute("title")||null,this.render()}render(){this.shadowRoot.innerHTML=`
            <div class="container" title="${this._titleText||""}">
                <input type="checkbox" ${this._checked?"checked":""}>
            </div>
        `;const t=this.shadowRoot.querySelector("input");t.addEventListener("change",()=>{this._checked=t.checked,this.dispatchEvent(new CustomEvent("toggle-change",{detail:{checked:this._checked}}))});const s=this.shadowRoot.querySelector(".container");this._onIcon&&s.appendChild(this._onIcon),this._offIcon&&s.appendChild(this._offIcon)}}customElements.define("symbol-toggle",Ks);const er="5";var kn;typeof window<"u"&&((kn=window.__svelte??(window.__svelte={})).v??(kn.v=new Set)).add(er);let Ge=!1,tr=!1;function nr(){Ge=!0}nr();const sr=2,rr=8,ir=2,or="[",ar="]",Be={},S=Symbol(),lr="http://www.w3.org/1999/xhtml",Nn=!1;var On=Array.isArray,cr=Array.prototype.indexOf,dr=Array.from,it=Object.keys,Ne=Object.defineProperty,pe=Object.getOwnPropertyDescriptor,Dn=Object.getOwnPropertyDescriptors,ur=Object.prototype,hr=Array.prototype,Dt=Object.getPrototypeOf,an=Object.isExtensible;function fr(e){return e()}function ot(e){for(var n=0;n<e.length;n++)e[n]()}function pr(){var e,n,t=new Promise((s,i)=>{e=s,n=i});return{promise:t,resolve:e,reject:n}}const q=2,Pn=4,pt=8,gt=16,de=32,be=64,zn=128,j=256,at=512,$=1024,z=2048,Ee=4096,Oe=8192,xe=16384,Pt=32768,gr=65536,ln=1<<17,vr=1<<18,zt=1<<19,qt=1<<20,Ct=1<<21,Ht=1<<22,ge=1<<23,Le=Symbol("$state"),qn=Symbol("legacy props"),_r=Symbol(""),Bt=new class extends Error{constructor(){super(...arguments);h(this,"name","StaleReactionError");h(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},Hn=3,cn=8;function mr(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function yr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function wr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function br(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Er(e){throw new Error("https://svelte.dev/e/effect_orphan")}function xr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function kr(){throw new Error("https://svelte.dev/e/hydration_failed")}function Cr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Sr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function $r(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Tr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Wt(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let x=!1;function Ke(e){x=e}let E;function ye(e){if(e===null)throw Wt(),Be;return E=e}function Ut(){return ye(ze(E))}function Y(e){if(x){if(ze(E)!==null)throw Wt(),Be;E=e}}function Bn(e){return e===this.v}function Lr(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function Wn(e){return!Lr(e,this.v)}let C=null;function lt(e){C=e}function jt(e,n=!1,t){C={p:C,c:null,e:null,s:e,x:null,l:Ge&&!n?{s:null,u:null,$:[]}:null}}function Ft(e){var n=C,t=n.e;if(t!==null){n.e=null;for(var s of t)is(s)}return e!==void 0&&(n.x=e),C=n.p,e??{}}function Je(){return!Ge||C!==null&&C.l===null}const Rr=new WeakMap;function Mr(e){var n=w;if(n===null)return y.f|=ge,e;if((n.f&Pt)===0){if((n.f&zn)===0)throw!n.parent&&e instanceof Error&&Un(e),e;n.b.error(e)}else Vt(e,n)}function Vt(e,n){for(;n!==null;){if((n.f&zn)!==0)try{n.b.error(e);return}catch(t){e=t}n=n.parent}throw e instanceof Error&&Un(e),e}function Un(e){const n=Rr.get(e);n&&(Ne(e,"message",{value:n.message}),Ne(e,"stack",{value:n.stack}))}let Ue=[],St=[];function jn(){var e=Ue;Ue=[],ot(e)}function Ir(){var e=St;St=[],ot(e)}function Fn(e){Ue.length===0&&queueMicrotask(jn),Ue.push(e)}function Ar(){Ue.length>0&&jn(),St.length>0&&Ir()}function Nr(){for(var e=w.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&mr(),e}function Yt(e){var n=q|z,t=y!==null&&(y.f&q)!==0?y:null;return w===null||t!==null&&(t.f&j)!==0?n|=j:w.f|=zt,{ctx:C,deps:null,effects:null,equals:Bn,f:n,fn:e,reactions:null,rv:0,v:S,wv:0,parent:t??w,ac:null}}function Or(e,n){let t=w;t===null&&yr();var s=t.b,i=void 0,r=Gt(S),o=null,l=!y;return Yr(()=>{try{var a=e()}catch(p){a=Promise.reject(p)}var c=()=>a;i=(o==null?void 0:o.then(c,c))??Promise.resolve(a),o=i;var d=B,u=s.pending;l&&(s.update_pending_count(1),u||d.increment());const f=(p,g=void 0)=>{o=null,u||d.activate(),g?g!==Bt&&(r.f|=ge,Lt(r,g)):((r.f&ge)!==0&&(r.f^=ge),Lt(r,p)),l&&(s.update_pending_count(-1),u||d.decrement()),Gn()};if(i.then(f,p=>f(null,p||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(a=>{function c(d){function u(){d===i?a(r):c(i)}d.then(u,u)}c(i)})}function Vn(e){const n=Yt(e);return n.equals=Wn,n}function Yn(e){var n=e.effects;if(n!==null){e.effects=null;for(var t=0;t<n.length;t+=1)le(n[t])}}function Dr(e){for(var n=e.parent;n!==null;){if((n.f&q)===0)return n;n=n.parent}return null}function Xt(e){var n,t=w;ce(Dr(e));try{Yn(e),n=fs(e)}finally{ce(t)}return n}function Xn(e){var n=Xt(e);if(e.equals(n)||(e.v=n,e.wv=us()),!ke)if(oe!==null)oe.set(e,e.v);else{var t=(ae||(e.f&j)!==0)&&e.deps!==null?Ee:$;T(e,t)}}function Pr(e,n,t){const s=Je()?Yt:Vn;if(n.length===0){t(e.map(s));return}var i=B,r=w,o=zr(),l=Nr();Promise.all(n.map(a=>Or(a))).then(a=>{i==null||i.activate(),o();try{t([...e.map(s),...a])}catch(c){(r.f&xe)===0&&Vt(c,r)}i==null||i.deactivate(),Gn()}).catch(a=>{l.error(a)})}function zr(){var e=w,n=y,t=C;return function(){ce(e),Z(n),lt(t)}}function Gn(){ce(null),Z(null),lt(null)}const et=new Set;let B=null,oe=null,dn=new Set,ct=[];function Jn(){const e=ct.shift();ct.length>0&&queueMicrotask(Jn),e()}let Se=[],vt=null,$t=!1;var Ve,Me,Ie,re,Ye,Xe,he,Ae,ie,K,fe,te,Zn,Qn,Tt;const ft=class ft{constructor(){I(this,te);I(this,Ve,new Map);I(this,Me,new Map);I(this,Ie,new Set);I(this,re,0);I(this,Ye,null);I(this,Xe,!1);I(this,he,[]);I(this,Ae,[]);I(this,ie,[]);I(this,K,[]);I(this,fe,[]);h(this,"skipped_effects",new Set)}capture(n,t){_(this,Me).has(n)||_(this,Me).set(n,t),_(this,Ve).set(n,n.v)}activate(){B=this}deactivate(){B=null;for(const n of dn)if(dn.delete(n),n(),B!==null)break}neuter(){D(this,Xe,!0)}flush(){Se.length>0?this.flush_effects():qe(this,te,Tt).call(this),B===this&&(_(this,re)===0&&et.delete(this),this.deactivate())}flush_effects(){var n=Re;$t=!0;try{var t=0;for(pn(!0);Se.length>0;){if(t++>1e3){var s,i;qr()}qe(this,te,Zn).call(this,Se),_e.clear()}}finally{$t=!1,pn(n),vt=null}}increment(){D(this,re,_(this,re)+1)}decrement(){if(D(this,re,_(this,re)-1),_(this,re)===0){for(const n of _(this,ie))T(n,z),ve(n);for(const n of _(this,K))T(n,z),ve(n);for(const n of _(this,fe))T(n,z),ve(n);D(this,ie,[]),D(this,K,[]),this.flush()}else this.deactivate()}add_callback(n){_(this,Ie).add(n)}settled(){return(_(this,Ye)??D(this,Ye,pr())).promise}static ensure(n=!0){if(B===null){const t=B=new ft;et.add(B),n&&ft.enqueue(()=>{B===t&&t.flush()})}return B}static enqueue(n){ct.length===0&&queueMicrotask(Jn),ct.unshift(n)}};Ve=new WeakMap,Me=new WeakMap,Ie=new WeakMap,re=new WeakMap,Ye=new WeakMap,Xe=new WeakMap,he=new WeakMap,Ae=new WeakMap,ie=new WeakMap,K=new WeakMap,fe=new WeakMap,te=new WeakSet,Zn=function(n){var r;Se=[];var t=null;if(et.size>1){t=new Map,oe=new Map;for(const[o,l]of _(this,Ve))t.set(o,{v:o.v,wv:o.wv}),o.v=l;for(const o of et)if(o!==this)for(const[l,a]of _(o,Me))t.has(l)||(t.set(l,{v:l.v,wv:l.wv}),l.v=a)}for(const o of n)qe(this,te,Qn).call(this,o);if(_(this,he).length===0&&_(this,re)===0){var s=_(this,ie),i=_(this,K);D(this,ie,[]),D(this,K,[]),D(this,fe,[]),qe(this,te,Tt).call(this),un(s),un(i),(r=_(this,Ye))==null||r.resolve()}else{for(const o of _(this,ie))T(o,$);for(const o of _(this,K))T(o,$);for(const o of _(this,fe))T(o,$)}if(t){for(const[o,{v:l,wv:a}]of t)o.wv<=a&&(o.v=l);oe=null}for(const o of _(this,he))We(o);for(const o of _(this,Ae))We(o);D(this,he,[]),D(this,Ae,[])},Qn=function(n){var d;n.f^=$;for(var t=n.first;t!==null;){var s=t.f,i=(s&(de|be))!==0,r=i&&(s&$)!==0,o=r||(s&Oe)!==0||this.skipped_effects.has(t);if(!o&&t.fn!==null){if(i)t.f^=$;else if((s&Pn)!==0)_(this,K).push(t);else if(_t(t))if((s&Ht)!==0){var l=(d=t.b)!=null&&d.pending?_(this,Ae):_(this,he);l.push(t)}else(t.f&gt)!==0&&_(this,fe).push(t),We(t);var a=t.first;if(a!==null){t=a;continue}}var c=t.parent;for(t=t.next;t===null&&c!==null;)t=c.next,c=c.parent}},Tt=function(){if(!_(this,Xe))for(const n of _(this,Ie))n();_(this,Ie).clear()};let De=ft;function F(e){var n;const t=De.ensure(!1);for(;;){if(Ar(),Se.length===0)return t===B&&t.flush(),vt=null,n;t.flush_effects()}}function qr(){try{xr()}catch(e){Vt(e,vt)}}function un(e){var n=e.length;if(n!==0){for(var t=0;t<n;t++){var s=e[t];if((s.f&(xe|Oe))===0&&_t(s)){var i=ut;if(We(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?cs(s):s.fn=null),ut>i&&(s.f&qt)!==0)break}}for(;t<n;t+=1)ve(e[t])}}function ve(e){for(var n=vt=e;n.parent!==null;){n=n.parent;var t=n.f;if($t&&n===w&&(t&gt)!==0)return;if((t&(be|de))!==0){if((t&$)===0)return;n.f^=$}}Se.push(n)}const _e=new Map;function Gt(e,n){var t={f:0,v:e,reactions:null,equals:Bn,rv:0,wv:0};return t}function se(e,n){const t=Gt(e);return ei(t),t}function Kn(e,n=!1,t=!0){var i;const s=Gt(e);return n||(s.equals=Wn),Ge&&t&&C!==null&&C.l!==null&&((i=C.l).s??(i.s=[])).push(s),s}function G(e,n,t=!1){y!==null&&(!J||(y.f&ln)!==0)&&Je()&&(y.f&(q|gt|Ht|ln))!==0&&!(O!=null&&O.includes(e))&&Tr();let s=t?$e(n):n;return Lt(e,s)}function Lt(e,n){if(!e.equals(n)){var t=e.v;ke?_e.set(e,n):_e.set(e,t),e.v=n,De.ensure().capture(e,t),(e.f&q)!==0&&((e.f&z)!==0&&Xt(e),T(e,(e.f&j)===0?$:Ee)),e.wv=us(),es(e,z),Je()&&w!==null&&(w.f&$)!==0&&(w.f&(de|be))===0&&(W===null?ti([e]):W.push(e))}return n}function wt(e){G(e,e.v+1)}function es(e,n){var t=e.reactions;if(t!==null)for(var s=Je(),i=t.length,r=0;r<i;r++){var o=t[r],l=o.f;!s&&o===w||((l&z)===0&&T(o,n),(l&q)!==0?es(o,Ee):(l&z)===0&&ve(o))}}function $e(e){if(typeof e!="object"||e===null||Le in e)return e;const n=Dt(e);if(n!==ur&&n!==hr)return e;var t=new Map,s=On(e),i=se(0),r=me,o=l=>{if(me===r)return l();var a=y,c=me;Z(null),vn(r);var d=l();return Z(a),vn(c),d};return s&&t.set("length",se(e.length)),new Proxy(e,{defineProperty(l,a,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Sr();var d=t.get(a);return d===void 0?d=o(()=>{var u=se(c.value);return t.set(a,u),u}):G(d,c.value,!0),!0},deleteProperty(l,a){var c=t.get(a);if(c===void 0){if(a in l){const d=o(()=>se(S));t.set(a,d),wt(i)}}else G(c,S),wt(i);return!0},get(l,a,c){var p;if(a===Le)return e;var d=t.get(a),u=a in l;if(d===void 0&&(!u||(p=pe(l,a))!=null&&p.writable)&&(d=o(()=>{var g=$e(u?l[a]:S),m=se(g);return m}),t.set(a,d)),d!==void 0){var f=L(d);return f===S?void 0:f}return Reflect.get(l,a,c)},getOwnPropertyDescriptor(l,a){var c=Reflect.getOwnPropertyDescriptor(l,a);if(c&&"value"in c){var d=t.get(a);d&&(c.value=L(d))}else if(c===void 0){var u=t.get(a),f=u==null?void 0:u.v;if(u!==void 0&&f!==S)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(l,a){var f;if(a===Le)return!0;var c=t.get(a),d=c!==void 0&&c.v!==S||Reflect.has(l,a);if(c!==void 0||w!==null&&(!d||(f=pe(l,a))!=null&&f.writable)){c===void 0&&(c=o(()=>{var p=d?$e(l[a]):S,g=se(p);return g}),t.set(a,c));var u=L(c);if(u===S)return!1}return d},set(l,a,c,d){var b;var u=t.get(a),f=a in l;if(s&&a==="length")for(var p=c;p<u.v;p+=1){var g=t.get(p+"");g!==void 0?G(g,S):p in l&&(g=o(()=>se(S)),t.set(p+"",g))}if(u===void 0)(!f||(b=pe(l,a))!=null&&b.writable)&&(u=o(()=>se(void 0)),G(u,$e(c)),t.set(a,u));else{f=u.v!==S;var m=o(()=>$e(c));G(u,m)}var v=Reflect.getOwnPropertyDescriptor(l,a);if(v!=null&&v.set&&v.set.call(d,c),!f){if(s&&typeof a=="string"){var k=t.get("length"),R=Number(a);Number.isInteger(R)&&R>=k.v&&G(k,R+1)}wt(i)}return!0},ownKeys(l){L(i);var a=Reflect.ownKeys(l).filter(u=>{var f=t.get(u);return f===void 0||f.v!==S});for(var[c,d]of t)d.v!==S&&!(c in l)&&a.push(c);return a},setPrototypeOf(){$r()}})}var hn,ts,ns,ss;function Rt(){if(hn===void 0){hn=window,ts=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,t=Text.prototype;ns=pe(n,"firstChild").get,ss=pe(n,"nextSibling").get,an(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),an(t)&&(t.__t=void 0)}}function dt(e=""){return document.createTextNode(e)}function we(e){return ns.call(e)}function ze(e){return ss.call(e)}function X(e,n){if(!x)return we(e);var t=we(E);if(t===null)t=E.appendChild(dt());else if(n&&t.nodeType!==Hn){var s=dt();return t==null||t.before(s),ye(s),s}return ye(t),t}function Hr(e,n){if(!x){var t=we(e);return t instanceof Comment&&t.data===""?ze(t):t}return E}function V(e,n=1,t=!1){let s=x?E:e;for(var i;n--;)i=s,s=ze(s);if(!x)return s;if(t&&(s==null?void 0:s.nodeType)!==Hn){var r=dt();return s===null?i==null||i.after(r):s.before(r),ye(r),r}return ye(s),s}function Br(e){e.textContent=""}function rs(e){w===null&&y===null&&Er(),y!==null&&(y.f&j)!==0&&w===null&&br(),ke&&wr()}function Wr(e,n){var t=n.last;t===null?n.last=n.first=e:(t.next=e,e.prev=t,n.last=e)}function ne(e,n,t,s=!0){var i=w;i!==null&&(i.f&Oe)!==0&&(e|=Oe);var r={ctx:C,deps:null,nodes_start:null,nodes_end:null,f:e|z,first:null,fn:n,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{We(r),r.f|=Pt}catch(a){throw le(r),a}else n!==null&&ve(r);var o=t&&r.deps===null&&r.first===null&&r.nodes_start===null&&r.teardown===null&&(r.f&zt)===0;if(!o&&s&&(i!==null&&Wr(r,i),y!==null&&(y.f&q)!==0)){var l=y;(l.effects??(l.effects=[])).push(r)}return r}function Ur(e){const n=ne(pt,null,!1);return T(n,$),n.teardown=e,n}function fn(e){rs();var n=w.f,t=!y&&(n&de)!==0&&(n&Pt)===0;if(t){var s=C;(s.e??(s.e=[])).push(e)}else return is(e)}function is(e){return ne(Pn|qt,e,!1)}function jr(e){return rs(),ne(pt|qt,e,!0)}function Fr(e){De.ensure();const n=ne(be,e,!0);return()=>{le(n)}}function Vr(e){De.ensure();const n=ne(be,e,!0);return(t={})=>new Promise(s=>{t.outro?Qr(n,()=>{le(n),s(void 0)}):(le(n),s(void 0))})}function Yr(e){return ne(Ht|zt,e,!0)}function Xr(e,n=0){return ne(pt|n,e,!0)}function os(e,n=[],t=[]){Pr(n,t,s=>{ne(pt,()=>e(...s.map(L)),!0)})}function Gr(e,n=!0){return ne(de,e,!0,n)}function as(e){var n=e.teardown;if(n!==null){const t=ke,s=y;gn(!0),Z(null);try{n.call(null)}finally{gn(t),Z(s)}}}function ls(e,n=!1){var i;var t=e.first;for(e.first=e.last=null;t!==null;){(i=t.ac)==null||i.abort(Bt);var s=t.next;(t.f&be)!==0?t.parent=null:le(t,n),t=s}}function Jr(e){for(var n=e.first;n!==null;){var t=n.next;(n.f&de)===0&&le(n),n=t}}function le(e,n=!0){var t=!1;(n||(e.f&vr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Zr(e.nodes_start,e.nodes_end),t=!0),ls(e,n&&!t),ht(e,0),T(e,xe);var s=e.transitions;if(s!==null)for(const r of s)r.stop();as(e);var i=e.parent;i!==null&&i.first!==null&&cs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Zr(e,n){for(;e!==null;){var t=e===n?null:ze(e);e.remove(),e=t}}function cs(e){var n=e.parent,t=e.prev,s=e.next;t!==null&&(t.next=s),s!==null&&(s.prev=t),n!==null&&(n.first===e&&(n.first=s),n.last===e&&(n.last=t))}function Qr(e,n){var t=[];ds(e,t,!0),Kr(t,()=>{le(e),n&&n()})}function Kr(e,n){var t=e.length;if(t>0){var s=()=>--t||n();for(var i of e)i.out(s)}else n()}function ds(e,n,t){if((e.f&Oe)===0){if(e.f^=Oe,e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&n.push(o);for(var s=e.first;s!==null;){var i=s.next,r=(s.f&gr)!==0||(s.f&de)!==0;ds(s,n,r?t:!1),s=i}}}let Re=!1;function pn(e){Re=e}let ke=!1;function gn(e){ke=e}let y=null,J=!1;function Z(e){y=e}let w=null;function ce(e){w=e}let O=null;function ei(e){y!==null&&(O===null?O=[e]:O.push(e))}let N=null,P=0,W=null;function ti(e){W=e}let ut=1,je=0,me=je;function vn(e){me=e}let ae=!1;function us(){return++ut}function _t(e){var u;var n=e.f;if((n&z)!==0)return!0;if((n&Ee)!==0){var t=e.deps,s=(n&j)!==0;if(t!==null){var i,r,o=(n&at)!==0,l=s&&w!==null&&!ae,a=t.length;if((o||l)&&(w===null||(w.f&xe)===0)){var c=e,d=c.parent;for(i=0;i<a;i++)r=t[i],(o||!((u=r==null?void 0:r.reactions)!=null&&u.includes(c)))&&(r.reactions??(r.reactions=[])).push(c);o&&(c.f^=at),l&&d!==null&&(d.f&j)===0&&(c.f^=j)}for(i=0;i<a;i++)if(r=t[i],_t(r)&&Xn(r),r.wv>e.wv)return!0}(!s||w!==null&&!ae)&&T(e,$)}return!1}function hs(e,n,t=!0){var s=e.reactions;if(s!==null&&!(O!=null&&O.includes(e)))for(var i=0;i<s.length;i++){var r=s[i];(r.f&q)!==0?hs(r,n,!1):n===r&&(t?T(r,z):(r.f&$)!==0&&T(r,Ee),ve(r))}}function fs(e){var g;var n=N,t=P,s=W,i=y,r=ae,o=O,l=C,a=J,c=me,d=e.f;N=null,P=0,W=null,ae=(d&j)!==0&&(J||!Re||y===null),y=(d&(de|be))===0?e:null,O=null,lt(e.ctx),J=!1,me=++je,e.ac!==null&&(e.ac.abort(Bt),e.ac=null);try{e.f|=Ct;var u=(0,e.fn)(),f=e.deps;if(N!==null){var p;if(ht(e,P),f!==null&&P>0)for(f.length=P+N.length,p=0;p<N.length;p++)f[P+p]=N[p];else e.deps=f=N;if(!ae||(d&q)!==0&&e.reactions!==null)for(p=P;p<f.length;p++)((g=f[p]).reactions??(g.reactions=[])).push(e)}else f!==null&&P<f.length&&(ht(e,P),f.length=P);if(Je()&&W!==null&&!J&&f!==null&&(e.f&(q|Ee|z))===0)for(p=0;p<W.length;p++)hs(W[p],e);return i!==null&&i!==e&&(je++,W!==null&&(s===null?s=W:s.push(...W))),(e.f&ge)!==0&&(e.f^=ge),u}catch(m){return Mr(m)}finally{e.f^=Ct,N=n,P=t,W=s,y=i,ae=r,O=o,lt(l),J=a,me=c}}function ni(e,n){let t=n.reactions;if(t!==null){var s=cr.call(t,e);if(s!==-1){var i=t.length-1;i===0?t=n.reactions=null:(t[s]=t[i],t.pop())}}t===null&&(n.f&q)!==0&&(N===null||!N.includes(n))&&(T(n,Ee),(n.f&(j|at))===0&&(n.f^=at),Yn(n),ht(n,0))}function ht(e,n){var t=e.deps;if(t!==null)for(var s=n;s<t.length;s++)ni(e,t[s])}function We(e){var n=e.f;if((n&xe)===0){T(e,$);var t=w,s=Re;w=e,Re=!0;try{(n&gt)!==0?Jr(e):ls(e),as(e);var i=fs(e);e.teardown=typeof i=="function"?i:null,e.wv=ut;var r;Nn&&tr&&(e.f&z)!==0&&e.deps}finally{Re=s,w=t}}}function L(e){var n=e.f,t=(n&q)!==0;if(y!==null&&!J){var s=w!==null&&(w.f&xe)!==0;if(!s&&!(O!=null&&O.includes(e))){var i=y.deps;if((y.f&Ct)!==0)e.rv<je&&(e.rv=je,N===null&&i!==null&&i[P]===e?P++:N===null?N=[e]:(!ae||!N.includes(e))&&N.push(e));else{(y.deps??(y.deps=[])).push(e);var r=e.reactions;r===null?e.reactions=[y]:r.includes(y)||r.push(y)}}}else if(t&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&(l.f&j)===0&&(o.f^=j)}if(ke){if(_e.has(e))return _e.get(e);if(t){o=e;var a=o.v;return((o.f&$)===0&&o.reactions!==null||ps(o))&&(a=Xt(o)),_e.set(o,a),a}}else if(t){if(o=e,oe!=null&&oe.has(o))return oe.get(o);_t(o)&&Xn(o)}if((e.f&ge)!==0)throw e.v;return e.v}function ps(e){if(e.v===S)return!0;if(e.deps===null)return!1;for(const n of e.deps)if(_e.has(n)||(n.f&q)!==0&&ps(n))return!0;return!1}function si(e){var n=J;try{return J=!0,e()}finally{J=n}}const ri=-7169;function T(e,n){e.f=e.f&ri|n}function ii(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Le in e)Mt(e);else if(!Array.isArray(e))for(let n in e){const t=e[n];typeof t=="object"&&t&&Le in t&&Mt(t)}}}function Mt(e,n=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!n.has(e)){n.add(e),e instanceof Date&&e.getTime();for(let s in e)try{Mt(e[s],n)}catch{}const t=Dt(e);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const s=Dn(t);for(let i in s){const r=s[i].get;if(r)try{r.call(e)}catch{}}}}}function oi(e){var n=y,t=w;Z(null),ce(null);try{return e()}finally{Z(n),ce(t)}}const ai=new Set,_n=new Set;function li(e,n,t,s={}){function i(r){if(s.capture||He.call(n,r),!r.cancelBubble)return oi(()=>t==null?void 0:t.call(this,r))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Fn(()=>{n.addEventListener(e,i,s)}):n.addEventListener(e,i,s),i}function mn(e,n,t,s,i){var r={capture:s,passive:i},o=li(e,n,t,r);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&Ur(()=>{n.removeEventListener(e,o,r)})}function He(e){var R;var n=this,t=n.ownerDocument,s=e.type,i=((R=e.composedPath)==null?void 0:R.call(e))||[],r=i[0]||e.target,o=0,l=e.__root;if(l){var a=i.indexOf(l);if(a!==-1&&(n===document||n===window)){e.__root=n;return}var c=i.indexOf(n);if(c===-1)return;a<=c&&(o=a)}if(r=i[o]||e.target,r!==n){Ne(e,"currentTarget",{configurable:!0,get(){return r||t}});var d=y,u=w;Z(null),ce(null);try{for(var f,p=[];r!==null;){var g=r.assignedSlot||r.parentNode||r.host||null;try{var m=r["__"+s];if(m!=null&&(!r.disabled||e.target===r))if(On(m)){var[v,...k]=m;v.apply(r,[e,...k])}else m.call(r,e)}catch(b){f?p.push(b):f=b}if(e.cancelBubble||g===n||g===null)break;r=g}if(f){for(let b of p)queueMicrotask(()=>{throw b});throw f}}finally{e.__root=n,delete e.currentTarget,Z(d),ce(u)}}}function gs(e){var n=document.createElement("template");return n.innerHTML=e.replaceAll("<!>","<!---->"),n.content}function Fe(e,n){var t=w;t.nodes_start===null&&(t.nodes_start=e,t.nodes_end=n)}function ci(e,n){var t=(n&ir)!==0,s,i=!e.startsWith("<!>");return()=>{if(x)return Fe(E,null),E;s===void 0&&(s=gs(i?e:"<!>"+e));var r=t||ts?document.importNode(s,!0):s.cloneNode(!0);{var o=we(r),l=r.lastChild;Fe(o,l)}return r}}function di(e,n,t="svg"){var s=!e.startsWith("<!>"),i=`<${t}>${s?e:"<!>"+e}</${t}>`,r;return()=>{if(x)return Fe(E,null),E;if(!r){var o=gs(i),l=we(o);r=we(l)}var a=r.cloneNode(!0);return Fe(a,a),a}}function ui(e,n){return di(e,n,"svg")}function Jt(e,n){if(x){w.nodes_end=E,Ut();return}e!==null&&e.before(n)}const hi=["touchstart","touchmove"];function fi(e){return hi.includes(e)}function It(e,n){var t=n==null?"":typeof n=="object"?n+"":n;t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t+"")}function vs(e,n){return _s(e,n)}function pi(e,n){Rt(),n.intro=n.intro??!1;const t=n.target,s=x,i=E;try{for(var r=we(t);r&&(r.nodeType!==cn||r.data!==or);)r=ze(r);if(!r)throw Be;Ke(!0),ye(r),Ut();const o=_s(e,{...n,anchor:r});if(E===null||E.nodeType!==cn||E.data!==ar)throw Wt(),Be;return Ke(!1),o}catch(o){if(o===Be)return n.recover===!1&&kr(),Rt(),Br(t),Ke(!1),vs(e,n);throw o}finally{Ke(s),ye(i)}}const Ce=new Map;function _s(e,{target:n,anchor:t,props:s={},events:i,context:r,intro:o=!0}){Rt();var l=new Set,a=u=>{for(var f=0;f<u.length;f++){var p=u[f];if(!l.has(p)){l.add(p);var g=fi(p);n.addEventListener(p,He,{passive:g});var m=Ce.get(p);m===void 0?(document.addEventListener(p,He,{passive:g}),Ce.set(p,1)):Ce.set(p,m+1)}}};a(dr(ai)),_n.add(a);var c=void 0,d=Vr(()=>{var u=t??n.appendChild(dt());return Gr(()=>{if(r){jt({});var f=C;f.c=r}i&&(s.$$events=i),x&&Fe(u,null),c=e(u,s)||{},x&&(w.nodes_end=E),r&&Ft()}),()=>{var g;for(var f of l){n.removeEventListener(f,He);var p=Ce.get(f);--p===0?(document.removeEventListener(f,He),Ce.delete(f)):Ce.set(f,p)}_n.delete(a),u!==t&&((g=u.parentNode)==null||g.removeChild(u))}});return At.set(c,d),c}let At=new WeakMap;function gi(e,n){const t=At.get(e);return t?(At.delete(e),t(n)):Promise.resolve()}function vi(e,n,t,s,i){var l;x&&Ut();var r=(l=n.$$slots)==null?void 0:l[t],o=!1;r===!0&&(r=n.children,o=!0),r===void 0||r(e,o?()=>s:s)}function ms(e,n){Fn(()=>{var t=e.getRootNode(),s=t.host?t:t.head??t.ownerDocument.head;if(!s.querySelector("#"+n.hash)){const i=document.createElement("style");i.id=n.hash,i.textContent=n.code,s.appendChild(i)}})}const yn=[...` 	
\r\f \v\uFEFF`];function _i(e,n,t){var s=e==null?"":""+e;if(t){for(var i in t)if(t[i])s=s?s+" "+i:i;else if(s.length)for(var r=i.length,o=0;(o=s.indexOf(i,o))>=0;){var l=o+r;(o===0||yn.includes(s[o-1]))&&(l===s.length||yn.includes(s[l]))?s=(o===0?"":s.substring(0,o))+s.substring(l+1):o=l}}return s===""?null:s}function mi(e,n){return e==null?null:String(e)}function wn(e,n,t,s,i,r){var o=e.__className;if(x||o!==t||o===void 0){var l=_i(t,s,r);(!x||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=t}else if(r&&i!==r)for(var a in r){var c=!!r[a];(i==null||c!==!!i[a])&&e.classList.toggle(a,c)}return r}function yi(e,n,t,s){var i=e.__style;if(x||i!==n){var r=mi(n);(!x||r!==e.getAttribute("style"))&&(r==null?e.removeAttribute("style"):e.style.cssText=r),e.__style=n}return s}const wi=Symbol("is custom element"),bi=Symbol("is html");function A(e,n,t,s){var i=Ei(e);x&&(i[n]=e.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&e.nodeName==="LINK")||i[n]!==(i[n]=t)&&(n==="loading"&&(e[_r]=t),t==null?e.removeAttribute(n):typeof t!="string"&&xi(e).includes(n)?e[n]=t:e.setAttribute(n,t))}function Ei(e){return e.__attributes??(e.__attributes={[wi]:e.nodeName.includes("-"),[bi]:e.namespaceURI===lr})}var bn=new Map;function xi(e){var n=bn.get(e.nodeName);if(n)return n;bn.set(e.nodeName,n=[]);for(var t,s=e,i=Element.prototype;i!==s;){t=Dn(s);for(var r in t)t[r].set&&n.push(r);s=Dt(s)}return n}function ki(e=!1){const n=C,t=n.l.u;if(!t)return;let s=()=>ii(n.s);if(e){let i=0,r={};const o=Yt(()=>{let l=!1;const a=n.s;for(const c in a)a[c]!==r[c]&&(r[c]=a[c],l=!0);return l&&i++,i});s=()=>L(o)}t.b.length&&jr(()=>{En(n,s),ot(t.b)}),fn(()=>{const i=si(()=>t.m.map(fr));return()=>{for(const r of i)typeof r=="function"&&r()}}),t.a.length&&fn(()=>{En(n,s),ot(t.a)})}function En(e,n){if(e.l.s)for(const t of e.l.s)L(t);n()}let tt=!1;function Ci(e){var n=tt;try{return tt=!1,[e(),tt]}finally{tt=n}}function Q(e,n,t,s){var R;var i=!Ge||(t&sr)!==0,r=(t&rr)!==0,o=s,l=!0,a=()=>(l&&(l=!1,o=s),o),c;{var d=Le in e||qn in e;c=((R=pe(e,n))==null?void 0:R.set)??(d&&n in e?b=>e[n]=b:void 0)}var u,f=!1;[u,f]=Ci(()=>e[n]),u===void 0&&s!==void 0&&(u=a(),c&&(i&&Cr(),c(u)));var p;if(i?p=()=>{var b=e[n];return b===void 0?a():(l=!0,b)}:p=()=>{var b=e[n];return b!==void 0&&(o=void 0),b===void 0?o:b},c){var g=e.$$legacy;return function(b,H){return arguments.length>0?((!i||!H||g||f)&&c(H?p():b),b):p()}}var m=!1,v=Vn(()=>(m=!1,p()));L(v);var k=w;return function(b,H){if(arguments.length>0){const ue=H?L(v):i&&r?$e(b):b;return G(v,ue),m=!0,o!==void 0&&(o=ue),b}return ke&&m||(k.f&xe)!==0?v.v:L(v)}}function Si(e){return new $i(e)}var ee,U;class $i{constructor(n){I(this,ee);I(this,U);var r;var t=new Map,s=(o,l)=>{var a=Kn(l,!1,!1);return t.set(o,a),a};const i=new Proxy({...n.props||{},$$events:{}},{get(o,l){return L(t.get(l)??s(l,Reflect.get(o,l)))},has(o,l){return l===qn?!0:(L(t.get(l)??s(l,Reflect.get(o,l))),Reflect.has(o,l))},set(o,l,a){return G(t.get(l)??s(l,a),a),Reflect.set(o,l,a)}});D(this,U,(n.hydrate?pi:vs)(n.component,{target:n.target,anchor:n.anchor,props:i,context:n.context,intro:n.intro??!1,recover:n.recover})),(!((r=n==null?void 0:n.props)!=null&&r.$$host)||n.sync===!1)&&F(),D(this,ee,i.$$events);for(const o of Object.keys(_(this,U)))o==="$set"||o==="$destroy"||o==="$on"||Ne(this,o,{get(){return _(this,U)[o]},set(l){_(this,U)[o]=l},enumerable:!0});_(this,U).$set=o=>{Object.assign(i,o)},_(this,U).$destroy=()=>{gi(_(this,U))}}$set(n){_(this,U).$set(n)}$on(n,t){_(this,ee)[n]=_(this,ee)[n]||[];const s=(...i)=>t.call(this,...i);return _(this,ee)[n].push(s),()=>{_(this,ee)[n]=_(this,ee)[n].filter(i=>i!==s)}}$destroy(){_(this,U).$destroy()}}ee=new WeakMap,U=new WeakMap;let ys;typeof HTMLElement=="function"&&(ys=class extends HTMLElement{constructor(n,t,s){super();h(this,"$$ctor");h(this,"$$s");h(this,"$$c");h(this,"$$cn",!1);h(this,"$$d",{});h(this,"$$r",!1);h(this,"$$p_d",{});h(this,"$$l",{});h(this,"$$l_u",new Map);h(this,"$$me");this.$$ctor=n,this.$$s=t,s&&this.attachShadow({mode:"open"})}addEventListener(n,t,s){if(this.$$l[n]=this.$$l[n]||[],this.$$l[n].push(t),this.$$c){const i=this.$$c.$on(n,t);this.$$l_u.set(t,i)}super.addEventListener(n,t,s)}removeEventListener(n,t,s){if(super.removeEventListener(n,t,s),this.$$c){const i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(i){return r=>{const o=document.createElement("slot");i!=="default"&&(o.name=i),Jt(r,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},s=Ti(this);for(const i of this.$$s)i in s&&(i==="default"&&!this.$$d.children?(this.$$d.children=n(i),t.default=!0):t[i]=n(i));for(const i of this.attributes){const r=this.$$g_p(i.name);r in this.$$d||(this.$$d[r]=st(r,i.value,this.$$p_d,"toProp"))}for(const i in this.$$p_d)!(i in this.$$d)&&this[i]!==void 0&&(this.$$d[i]=this[i],delete this[i]);this.$$c=Si({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=Fr(()=>{Xr(()=>{var i;this.$$r=!0;for(const r of it(this.$$c)){if(!((i=this.$$p_d[r])!=null&&i.reflect))continue;this.$$d[r]=this.$$c[r];const o=st(r,this.$$d[r],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[r].attribute||r):this.setAttribute(this.$$p_d[r].attribute||r,o)}this.$$r=!1})});for(const i in this.$$l)for(const r of this.$$l[i]){const o=this.$$c.$on(i,r);this.$$l_u.set(r,o)}this.$$l={}}}attributeChangedCallback(n,t,s){var i;this.$$r||(n=this.$$g_p(n),this.$$d[n]=st(n,s,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[n]:this.$$d[n]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(n){return it(this.$$p_d).find(t=>this.$$p_d[t].attribute===n||!this.$$p_d[t].attribute&&t.toLowerCase()===n)||n}});function st(e,n,t,s){var r;const i=(r=t[e])==null?void 0:r.type;if(n=i==="Boolean"&&typeof n!="boolean"?n!=null:n,!s||!t[e])return n;if(s==="toAttribute")switch(i){case"Object":case"Array":return n==null?null:JSON.stringify(n);case"Boolean":return n?"":null;case"Number":return n??null;default:return n}else switch(i){case"Object":case"Array":return n&&JSON.parse(n);case"Boolean":return n;case"Number":return n!=null?+n:n;default:return n}}function Ti(e){const n={};return e.childNodes.forEach(t=>{n[t.slot||"default"]=!0}),n}function ws(e,n,t,s,i,r){let o=class extends ys{constructor(){super(e,t,i),this.$$p_d=n}static get observedAttributes(){return it(n).map(l=>(n[l].attribute||l).toLowerCase())}};return it(n).forEach(l=>{Ne(o.prototype,l,{get(){return this.$$c&&l in this.$$c?this.$$c[l]:this.$$d[l]},set(a){var u;a=st(l,a,n),this.$$d[l]=a;var c=this.$$c;if(c){var d=(u=pe(c,l))==null?void 0:u.get;d?c[l]=a:c.$set({[l]:a})}}})}),s.forEach(l=>{Ne(o.prototype,l,{get(){var a;return(a=this.$$c)==null?void 0:a[l]}})}),e.element=o,o}var Li=ci('<button class="header svelte-188d8wh"><span><svg viewBox="0 0 16 16" fill="none" width="16" height="16"><path d="M5 6l3 3 3-3" stroke="#aaa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span> <span class="header-text"> </span></button> <div><!></div>',1);const Ri={hash:"svelte-188d8wh",code:`:host {display:block;border:1px solid var(--dark-background-l);border-radius:4px;overflow:hidden;background:var(--dark-background);width:50%;max-width:700px;}.header.svelte-188d8wh {display:flex;align-items:center;cursor:pointer;padding:1rem;background:var(--dark-background-e);border:none;font-family:var(--global-font);width:100%;}.caret.svelte-188d8wh {transition:transform 0.2s;margin-right:1rem;width:1em;height:1em;display:inline-block;vertical-align:middle;transform:rotate(-90deg);}:host([expanded]) .caret.svelte-188d8wh,\r
.caret.expanded.svelte-188d8wh {transform:rotate(0deg);}.content.svelte-188d8wh {padding:1rem;display:none;}.content.expanded.svelte-188d8wh {display:block;}`};function Mi(e,n){jt(n,!1),ms(e,Ri);let t=Q(n,"header",12,""),s=Kn(!1);function i(){G(s,!L(s))}var r=Li(),o=Hr(r),l=X(o);let a;var c=V(l,2),d=X(c,!0);Y(c),Y(o);var u=V(o,2);let f;var p=X(u);return vi(p,n,"default",{}),Y(u),os((g,m)=>{A(o,"aria-expanded",L(s)),a=wn(l,1,"caret svelte-188d8wh",null,a,g),It(d,t()),f=wn(u,1,"content svelte-188d8wh",null,f,m)},[()=>({expanded:L(s)}),()=>({expanded:L(s)})]),mn("click",o,i),mn("keydown",o,g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),i())}),Jt(e,r),Ft({get header(){return t()},set header(g){t(g),F()}})}customElements.define("collapse-view",ws(Mi,{header:{}},["default"],[],!0));var Ii=ui('<svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" class="svelte-u4n63s"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%"></stop><stop offset="100%"></stop></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%"></stop><stop offset="100%"></stop></linearGradient><filter x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="5" dy="5" stdDeviation="10" flood-color="rgba(0,0,0,0.5)"></feDropShadow></filter><filter x="-50%" y="-50%" width="200%" height="200%"><feDropShadow dx="25" dy="25" stdDeviation="25" flood-color="rgba(0,0,0,0.75)"></feDropShadow></filter></defs><g><rect x="0" y="0" width="300" height="300"></rect></g><text x="155" y="170" text-anchor="middle" dominant-baseline="middle" font-size="180" opacity="1.0"> </text><text x="150" y="165" text-anchor="middle" dominant-baseline="middle" font-size="180" stroke="rgba(255,255,255,0.3)" stroke-width="1"> </text></svg>');const Ai={hash:"svelte-u4n63s",code:":host {display:inline-block;}svg.svelte-u4n63s {filter:none;}"};function Ni(e,n){jt(n,!1),ms(e,Ai);let t=Q(n,"text",12,"Hz"),s=Q(n,"size",12,300),i=Q(n,"radius",12,"0.5rem"),r=Q(n,"shadowColor",12,"var(--haze-color-shadow)"),o=Q(n,"foregroundTopColor",12,"var(--haze-color-foreground-top)"),l=Q(n,"foregroundBottomColor",12,"var(--haze-color-foreground-bottom)"),a=Q(n,"backgroundTopColor",12,"var(--haze-color-background-top)"),c=Q(n,"backgroundBottomColor",12,"var(--haze-color-background-bottom)");const d=Math.random().toString(36).substring(2,9),u=`bgGradient-${d}`,f=`textGradient-${d}`,p=`dropShadow-${d}`,g=`richShadow-${d}`;ki();var m=Ii(),v=X(m),k=X(v),R=X(k),b=V(R);Y(k);var H=V(k),ue=X(H),xs=V(ue);Y(H);var Zt=V(H),ks=V(Zt);Y(v);var mt=V(v),Cs=X(mt);Y(mt);var Ze=V(mt),Ss=X(Ze,!0);Y(Ze);var Qe=V(Ze),$s=X(Qe,!0);return Y(Qe),Y(m),os(()=>{yi(m,i()?`border-radius: ${i()};`:""),A(m,"width",s()),A(m,"height",s()),A(k,"id",u),A(R,"stop-color",a()),A(b,"stop-color",c()),A(H,"id",f),A(ue,"stop-color",o()),A(xs,"stop-color",l()),A(Zt,"id",p),A(ks,"id",g),A(Cs,"fill",`url(#${u})`),A(Ze,"fill",r()),It(Ss,t()),A(Qe,"fill",`url(#${f})`),A(Qe,"filter",`url(#${p}) url(#${g})`),It($s,t())}),Jt(e,m),Ft({get text(){return t()},set text(M){t(M),F()},get size(){return s()},set size(M){s(M),F()},get radius(){return i()},set radius(M){i(M),F()},get shadowColor(){return r()},set shadowColor(M){r(M),F()},get foregroundTopColor(){return o()},set foregroundTopColor(M){o(M),F()},get foregroundBottomColor(){return l()},set foregroundBottomColor(M){l(M),F()},get backgroundTopColor(){return a()},set backgroundTopColor(M){a(M),F()},get backgroundBottomColor(){return c()},set backgroundBottomColor(M){c(M),F()}})}customElements.define("symbol-icon",ws(Ni,{text:{},size:{},radius:{},shadowColor:{},foregroundTopColor:{},foregroundBottomColor:{},backgroundTopColor:{},backgroundBottomColor:{}},[],[],!0));const bs="pane-visibility";function Oi(){const e=localStorage.getItem(bs);if(e)try{const n=JSON.parse(e);if(Array.isArray(n))return n}catch{}return null}function xn(e){localStorage.setItem(bs,JSON.stringify(e))}window.addEventListener("DOMContentLoaded",()=>{const e=Array.from(document.querySelectorAll("symbol-toggle")),n=document.querySelector("pane-view");let t=Oi();(!t||t.length!==e.length)&&(t=Array(e.length).fill(!0),xn(t)),e.forEach((a,c)=>{a.checked=t[c]??!0,a.addEventListener("toggle-change",d=>{t[c]=d.detail.checked,xn(t),n.setVisiblePanes(t)})}),n.setVisiblePanes(t);const s=n.querySelector("#source-pane source-editor");s&&(s.attachEventListeners(),s.initialize("file:///c:/Users/Connor/Desktop/clarity/src/index.ts",Et,rt)),n.querySelector("program-tree");const i=n.querySelector("#ir-pane source-editor");i&&(i.attachEventListeners(),i.initialize("file:///c:/Users/Connor/Desktop/clarity/src/index.ts",Et,rt));const r=n.querySelector("#asm-pane source-editor");r&&(r.attachEventListeners(),r.initialize("file:///c:/Users/Connor/Desktop/clarity/src/index.ts",Et,rt));const o=new Uint8Array([72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33]),l=n.querySelector("hex-viewer");l&&l.initialize("file:///mock.bin",o,16)});const Pe=document.querySelector("output-window");Pe.messages=[];Pe.visible=!1;var nt;const Di=()=>{Pe.visible=!0,nt!==void 0&&clearTimeout(nt),nt=window.setTimeout(()=>{Pe.visible=!1,nt=void 0},3e3)};let bt=1;const Et={notify:e=>{console.log(e);const n=[...Pe.messages];n.length>0&&n[n.length-1].rawText===e?(bt++,n[n.length-1].text=`${e} [x${bt}]`):(bt=1,n.push({id:Date.now().toString(),text:e,rawText:e,visible:!0})),Pe.messages=n,Di()}},Pi=new Worker(new URL("/clarity/assets/LanguageServerWorker-BOXhEwlU.js",import.meta.url),{type:"module"}),rt=new Worker(new URL("/clarity/assets/LanguageClientWorker-2arvf2PA.js",import.meta.url),{type:"module"}),Es=new MessageChannel,Nt=Es.port1,Ot=Es.port2;Pi.postMessage({type:"connect",port:Nt},[Nt]);rt.postMessage({type:"connect",port:Ot},[Ot]);Nt.start();Ot.start();
