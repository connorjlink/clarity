var Ls=Object.defineProperty;var en=t=>{throw TypeError(t)};var Ms=(t,n,e)=>n in t?Ls(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var h=(t,n,e)=>Ms(t,typeof n!="symbol"?n+"":n,e),Et=(t,n,e)=>n.has(t)||en("Cannot "+e);var _=(t,n,e)=>(Et(t,n,"read from private field"),e?e.call(t):n.get(t)),I=(t,n,e)=>n.has(t)?en("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,e),z=(t,n,e,s)=>(Et(t,n,"write to private field"),s?s.call(t,e):n.set(t,e),e),Be=(t,n,e)=>(Et(t,n,"access private method"),e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();const Is=`
    .console {
        background: var(--dark-background-e);;
        color: #e0e0e0;
        max-height: 150px;
        overflow-y: auto;
        z-index: 1000;
        padding: 0.5rem 1rem;
        box-shadow: 0 -2px 8px rgba(0,0,0,0.3);
        pointer-events: auto;
        display: block;
        transition: opacity 0.3s ease-in-out;
        opacity: 1;
    }
        .console.fade-out {
            opacity: 0;
            display: none;
            pointer-events: none;
        }

    .console-line {
        white-space: pre-wrap;
        word-break: break-all;
    }
`,Rn=new CSSStyleSheet;Rn.replaceSync(Is);class As extends HTMLElement{constructor(){super();h(this,"_messages",[]);h(this,"_visible",!0);h(this,"_endRef",null);this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Rn]}static get observedAttributes(){return["visible"]}get messages(){return this._messages}set messages(e){this._messages=e,this.render(),this.scrollToEnd()}get visible(){return this._visible}set visible(e){this._visible=e,this.render()}scrollToEnd(){this._endRef&&this._endRef.scrollIntoView({behavior:"smooth"})}connectedCallback(){this.render()}attributeChangedCallback(e,s,r){e==="visible"&&(this.visible=r!=="false")}render(){this.shadowRoot.innerHTML=`
            <div class="console ${this.visible?"":"fade-out"}">
                ${this._messages.map(e=>`<div class="console-line">${e.text}</div>`).join("")}
                <div id="end"></div>
            </div>
        `,this._endRef=this.shadowRoot.querySelector("#end"),this.scrollToEnd()}}customElements.define("output-window",As);class Ns{constructor(n){h(this,"original");h(this,"addBuffer");h(this,"pieces");this.original=n,this.addBuffer="",this.pieces=[{buffer:"original",start:0,length:n.length}]}insert(n,e){if(e.length===0)return;const s=this.addBuffer.length;this.addBuffer+=e;let r=0,i=0;for(;i<this.pieces.length;i++){const c=this.pieces[i];if(r+c.length>=n)break;r+=c.length}if(i===this.pieces.length){this.pieces.push({buffer:"add",start:s,length:e.length});return}const o=this.pieces[i],a=n-r,l=[];a>0&&l.push({buffer:o.buffer,start:o.start,length:a}),l.push({buffer:"add",start:s,length:e.length}),a<o.length&&l.push({buffer:o.buffer,start:o.start+a,length:o.length-a}),this.pieces.splice(i,1,...l)}delete(n,e){let s=0,r=0;for(;r<this.pieces.length&&s+this.pieces[r].length<=n;)s+=this.pieces[r].length,r++;const i=r,o=n-s;let a=e;const l=[];for(;a>0&&r<this.pieces.length;){const c=this.pieces[r],d=r===i?o:0,u=c.length-d;Math.max(0,c.length-u),d>0&&l.push({buffer:c.buffer,start:c.start,length:d}),u<c.length&&l.push({buffer:c.buffer,start:c.start+d+a,length:c.length-(d+a)}),a-=u,r++}this.pieces.splice(i,r-i,...l)}getText(){let n="";for(const e of this.pieces){const s=e.buffer==="original"?this.original:this.addBuffer;n+=s.substr(e.start,e.length)}return n}}var tn;(t=>{t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(tn||(tn={}));var nn;(t=>{t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(nn||(nn={}));var sn;(t=>{t.None=0,t.Full=1,t.Incremental=2})(sn||(sn={}));var rn;(t=>{t.Text=1,t.Read=2,t.Write=3})(rn||(rn={}));var on;(t=>{t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(on||(on={}));var an;(t=>{t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(an||(an={}));const Ps=`
    *, *::before, *::after {
        box-sizing: border-box;
    }
    .pane-descriptor {
        display: flex;
        padding: 0.5rem;
        background: var(--dark-background-e);
        border-top: 1px solid var(--node-border);
        border-bottom: 1px solid var(--node-border);
        width: 100%;
        position: relative;
        z-index: 2;
    }
        .pane-descriptor .grow {
            flex: 1;
            text-align: right;
            color: var(--dark-foreground-ll);
        }
`,Tn=new CSSStyleSheet;Tn.replaceSync(Ps);class Os extends HTMLElement{constructor(){super();h(this,"_header","");h(this,"_pluginNameRef","");h(this,"_pluginRef",null);this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Tn]}connectedCallback(){this._header=this.getAttribute("data-header")||"",this._pluginNameRef=this.getAttribute("id")||"",this.render()}getPlugin(){return this._pluginRef}render(){if(this.shadowRoot.innerHTML=`
            <div class="pane-descriptor">${this._header}</div>
        `,this._pluginNameRef){const e=document.createElement("span");e.className="grow",this.shadowRoot.querySelector(".pane-descriptor").appendChild(e),this._pluginRef=e}}}customElements.define("pane-status",Os);const zs=`
    .editor-shell {
        position: relative;
        font-family: Consolas;
        height: 300px;
    }
    .highlight-layer, .input-layer {
        white-space: pre-wrap;
        word-break: break-word;
        padding: 8px;
        line-height: 1.5;
        height: 100%;
        min-height: 100%;
        box-sizing: border-box;
    }
    .highlight-layer {
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        pointer-events: none;
        z-index: 1;
        color: #ccc;
        margin: 0;
        padding: 0;
    }
    .input-layer {
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        margin: 0 0 0 2rem;
        padding: 0;
        background: transparent;
        caret-color: var(--accent);
        z-index: 2;
        outline: none;
        user-select: none;
    }
`,Ln=new CSSStyleSheet;Ln.replaceSync(zs);const Ds=.2,qs=3;function lt(t){let n="";return t.childNodes.forEach((e,s,r)=>{e.nodeType===Node.TEXT_NODE?n+=e.data:e.tagName==="BR"?n+=`
`:e.tagName==="DIV"?(n+=lt(e),s<r.length-1&&(n+=`
`)):e.nodeType===Node.ELEMENT_NODE&&(n+=lt(e))}),n}function ln(t){let n=0;const e=window.getSelection();if(e&&e.rangeCount>0){const s=e.getRangeAt(0),r=s.cloneRange();r.selectNodeContents(t),r.setEnd(s.endContainer,s.endOffset),n=r.toString().length}return n}function Hs(t,n){const e=window.getSelection();if(!e)return;let s=0,r=[t],i,o=!1;for(;r.length&&!o&&(i=r.pop(),!!i);)if(i.nodeType===Node.TEXT_NODE){const a=i.length;if(s+a>=n){const l=document.createRange();l.setStart(i,n-s),l.collapse(!0),e.removeAllRanges(),e.addRange(l),o=!0}else s+=a}else{let a=Array.from(i.childNodes);for(let l=a.length-1;l>=0;l--)r.push(a[l])}}class Ws extends HTMLElement{constructor(){super();h(this,"_pieceTable");h(this,"_consoleListener",null);h(this,"_inputRef",null);h(this,"_highlightRef",null);h(this,"_sourceUri","");h(this,"_lastText","");h(this,"_client",null);h(this,"_hasInitialized",!1);h(this,"_editorZoom",1);h(this,"_cursorLine",null);h(this,"_cursorColumn",null);h(this,"_lastCaretOffset",null);h(this,"_zoomPlugin");h(this,"_boundInputCallback",this.inputCallback.bind(this));h(this,"_boundScrollCallback",this.scrollCallback.bind(this));h(this,"_boundKeydownCallback",this.keydownCallback.bind(this));h(this,"_boundWheelCallback",this.wheelCallback.bind(this));this._pieceTable=new Ns("function nvr main = () {}"),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Ln]}connectedCallback(){const e=this.getAttribute("data-plugin")||"";e&&(this._zoomPlugin=document.querySelector(`#${e}`))}disconnectedCallback(){var e;(e=this._client)==null||e.postMessage({type:"execute",method:"closeDocument",params:{uri:this._sourceUri}})}initialize(e,s,r){var i;this._hasInitialized=!0,this._consoleListener||(this._consoleListener=s),r&&(this._client=r,this._client.addEventListener("message",o=>{var a,l,c;o.data.type==="log"?(a=this._consoleListener)==null||a.notify(o.data.message):o.data.type==="error"?(l=this._consoleListener)==null||l.notify(o.data.message):o.data.type==="compileResult"&&((c=this._consoleListener)==null||c.notify(JSON.stringify(o.data.result)))}),this._client.addEventListener("messageerror",o=>{var a;(a=this._consoleListener)==null||a.notify(o.data)}),this._sourceUri=e),(i=this._client)==null||i.postMessage({type:"execute",method:"openDocument",params:{uri:this._sourceUri,sourceCode:this._pieceTable.getText()}}),this.render()}inputCallback(e){this.handleInputChange(e)}scrollCallback(e){this.syncScroll()}keydownCallback(e){this.handleKeyDown(e)}wheelCallback(e){if(e.shiftKey){e.preventDefault();const s=-e.deltaY*.001;let r=this._editorZoom+s;r=Math.max(Ds,Math.min(qs,r)),this._editorZoom=r,this.updateEditorZoom()}}attachEventListeners(){var e,s,r,i,o,a,l,c;(e=this._inputRef)==null||e.addEventListener("input",this._boundInputCallback),(s=this._inputRef)==null||s.addEventListener("scroll",this._boundScrollCallback),(r=this._inputRef)==null||r.addEventListener("keydown",this._boundKeydownCallback),(i=this._inputRef)==null||i.addEventListener("wheel",this._boundWheelCallback,{passive:!1}),(o=this._inputRef)==null||o.addEventListener("keyup",()=>this.updateCursorPositionCache()),(a=this._inputRef)==null||a.addEventListener("mouseup",()=>this.updateCursorPositionCache()),(l=this._inputRef)==null||l.addEventListener("focus",()=>this.updateCursorPositionCache()),(c=this._inputRef)==null||c.addEventListener("blur",()=>this.updateCursorPositionCache()),document.addEventListener("selectionchange",()=>this.updateCursorPositionCache())}detachEventListeners(){var e,s,r,i,o,a,l,c;(e=this._inputRef)==null||e.removeEventListener("input",this._boundInputCallback),(s=this._inputRef)==null||s.removeEventListener("scroll",this._boundScrollCallback),(r=this._inputRef)==null||r.removeEventListener("keydown",this._boundKeydownCallback),(i=this._inputRef)==null||i.removeEventListener("wheel",this._boundWheelCallback),(o=this._inputRef)==null||o.removeEventListener("keyup",()=>this.updateCursorPositionCache()),(a=this._inputRef)==null||a.removeEventListener("mouseup",()=>this.updateCursorPositionCache()),(l=this._inputRef)==null||l.removeEventListener("focus",()=>this.updateCursorPositionCache()),(c=this._inputRef)==null||c.removeEventListener("blur",()=>this.updateCursorPositionCache()),document.removeEventListener("selectionchange",()=>this.updateCursorPositionCache())}updateCursorPositionCache(){if(!this._inputRef){this._cursorLine=null,this._cursorColumn=null,this._lastCaretOffset=null;return}const e=window.getSelection();if(!e||e.rangeCount===0||!e.isCollapsed){this._cursorLine=null,this._cursorColumn=null,this._lastCaretOffset=null;return}const s=ln(this._inputRef);if(s===this._lastCaretOffset)return;this._lastCaretOffset=s;const r=lt(this._inputRef);let i=0,o=0,a=0;for(;a<s;a++)r[a]===`
`?(i++,o=0):o++;this._cursorLine=i+1,this._cursorColumn=o+1,this.updateEditorZoom()}showCursorInfo(){return this._cursorLine!==null&&this._cursorColumn!==null?`LN:${this._cursorLine} COL:${this._cursorColumn} | `:""}updateEditorZoom(){const e=Math.floor(this._editorZoom*100);this.style.setProperty("--editor-zoom",`${e}%`),this.shadowRoot&&this.shadowRoot.host.style.setProperty("--editor-zoom",`${e}%`),this._inputRef&&(this._inputRef.style.fontSize=`${this._editorZoom}rem`),this._highlightRef&&(this._highlightRef.style.fontSize=`${this._editorZoom}rem`);const s=this._zoomPlugin.getPlugin();s&&(s.innerHTML=`${this.showCursorInfo()}${e}%`)}handleInputChange(e){if(!this._inputRef)return;const s=lt(this._inputRef),r=ln(this._inputRef);let i=0;for(;i<this._lastText.length&&i<s.length&&this._lastText[i]===s[i];)i++;let o=this._lastText.length-1,a=s.length-1;for(;o>=i&&a>=i&&this._lastText[o]===s[a];)o--,a--;o>=i&&this._pieceTable.delete(i,o-i+1),a>=i&&this._pieceTable.insert(i,s.slice(i,a+1)),this._lastText=s,this.renderHighlight([]),Hs(this._inputRef,r),this.updateCursorPositionCache()}handleKeyDown(e){e.key==="Tab"&&(e.preventDefault(),document.execCommand("insertText",!1,"    ")),e.key==="Enter"&&(e.preventDefault(),document.execCommand("insertLineBreak")),setTimeout(()=>this.updateCursorPositionCache(),0)}renderHighlight(e){var s;this._highlightRef&&(this._pieceTable.getText(),(s=this._client)==null||s.postMessage({type:"execute",method:"recycle",params:{uri:this._sourceUri,deltas:e}}))}syncScroll(){this._inputRef&&this._highlightRef&&(this._highlightRef.scrollTop=this._inputRef.scrollTop,this._highlightRef.scrollLeft=this._inputRef.scrollLeft)}render(){if(!this._hasInitialized)throw new Error("call initialize() on SourceEditorElement before rendering.");const e=this._pieceTable.getText();this.shadowRoot.innerHTML=`
            <div class="editor-shell">
                <pre class="highlight-layer"></pre>
                <div class="input-layer" contenteditable="true" spellcheck="false"></div>
            </div>
        `,this._highlightRef=this.shadowRoot.querySelector(".highlight-layer"),this._inputRef=this.shadowRoot.querySelector(".input-layer"),this._inputRef&&(this._inputRef.textContent=e,this._lastText=e),this.attachEventListeners(),this.updateEditorZoom(),this.renderHighlight([]),this.updateCursorPositionCache()}}customElements.define("source-editor",Ws);const Bs=`
    :host *, :host *::after, :host *::before {
        box-sizing: border-box;
    }

    .hex-shell {
        color: var(--light-foreground);
        padding: 1rem;
        overflow-x: hidden;
        overflow-y: auto;
        height: 100%;
        width: 100%;
    }

    .hex-table {
        font-family: var(--global-font);
        border-collapse: collapse;
        width: 100%;
    }
        .hex-table th,
        .hex-table td {
            text-align: center;
            vertical-align: middle;
        }
        .hex-table th {
            color: var(--dark-foreground-l);
        }

    .header-spacer-row {
        height: 0.5rem;
    }

    .hex-offset {
        font-weight: normal;
    }
        th.hex-offset {
            color: var(--accent);
        }

    .hex-address {
        font-weight: bold;
        color: var(--light-foreground-l);
        padding-right: 1rem;
    }

    .hex-byte {
        width: fit-content;
    }
    
    .hex-ascii {
        color: var(--secondary);
        padding-left: 1rem;
    }

    .hex-highlight-layer {
        margin: 0;
    }
`,Mn=new CSSStyleSheet;Mn.replaceSync(Bs);class Fs extends HTMLElement{constructor(){super();h(this,"_data",new Uint8Array);h(this,"_columns",16);h(this,"_highlightRef",null);h(this,"_client",null);h(this,"_symbols",[]);h(this,"_sourceUri","");h(this,"_hasInitialized",!1);h(this,"_resizeObserver",null);this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Mn]}connectedCallback(){const e=this.parentElement??this;this._resizeObserver=new ResizeObserver(()=>this._onResize()),this._resizeObserver.observe(e)}disconnectedCallback(){var e,s;(e=this._resizeObserver)==null||e.disconnect(),(s=this._client)==null||s.postMessage({type:"execute",method:"closeDocument",params:{uri:this._sourceUri}})}initialize(e,s,r=16,i=null){var a,l;this._hasInitialized&&this.unload(),this._hasInitialized=!0,this._client=i,this._sourceUri=e,this._data=s,this._columns=r;const o=document.querySelector("#exe-hex-plugin");o&&(o.getPlugin().innerHTML=`${s.length} bytes`),(a=this._client)==null||a.addEventListener("message",c=>{c.data.type==="symbolInfo"&&c.data.uri===this._sourceUri&&(this._symbols=c.data.symbols,this.render())}),(l=this._client)==null||l.postMessage({type:"execute",method:"openDocument",params:{uri:this._sourceUri,sourceCode:Array.from(this._data).map(c=>c.toString(16).padStart(2,"0")).join(" ")}}),this.render()}unload(){var e;(e=this._client)==null||e.postMessage({type:"execute",method:"closeDocument",params:{uri:this._sourceUri}})}setColumns(e){e!==this._columns&&(this._columns=e,this.render())}_onResize(){const e=parseInt(getComputedStyle(this.shadowRoot.host).fontSize.replace("px","")),s=e*8,r=this._columns*8,i=e*2,o=this.getBoundingClientRect().width-s-r-i,a=Math.max(1,o/24);Math.abs(a-this._columns)>.5&&this.setColumns(Math.floor(a))}getSymbolAt(e){for(const s of this._symbols)if(e>=s.address&&e<s.address+s.length)return s;return null}render(){if(!this._hasInitialized)throw new Error("call initialize() on HexViewerElement before rendering.");this.shadowRoot.innerHTML=`
            <div class="hex-shell">
                <pre class="hex-highlight-layer"></pre>
            </div>
        `,this._highlightRef=this.shadowRoot.querySelector(".hex-highlight-layer"),this._highlightRef&&(this._highlightRef.innerHTML=this.renderHex())}renderHex(){let e='<table class="hex-table"><thead>';e+="<tr>",e+='<th class="hex-address">Address</th>',e+='<th colspan="'+this._columns+'">Offset</th>',e+='<th class="hex-ascii">ASCII</th>',e+="</tr>",e+='<tr class="header-spacer-row"></tr>',e+='<tr class="hex-offset-row">',e+="<th></th>";for(let s=0;s<this._columns;s++)e+=`<th class="hex-offset">+${s.toString(16).toUpperCase()}</th>`;e+="<th></th>",e+="</tr>",e+='<tr class="header-spacer-row"></tr>',e+="</thead><tbody>";for(let s=0;s<Math.ceil(this._data.length/this._columns);s++){const r=s*this._columns;e+="<tr>",e+=`<td class="hex-address">${r.toString(16).padStart(8,"0")}</td>`;for(let i=0;i<this._columns;i++){const o=r+i;if(o<this._data.length){const a=this.getSymbolAt(o),l=a?a.color:"#ccc",c=this._data[o].toString(16).padStart(2,"0");e+=`<td class="hex-byte" style="color:${l}">${c}</td>`}else e+="<td></td>"}e+='<td class="hex-ascii">';for(let i=0;i<this._columns;i++){const o=r+i;if(o<this._data.length){const a=this._data[o];e+=a>=32&&a<=126?String.fromCharCode(a):"."}else e+=" "}e+="</td>",e+="</tr>"}return e+="</tbody></table>",e}}customElements.define("hex-viewer",Fs);class Us{constructor(n=[],e=[]){h(this,"nodes",new Map);h(this,"connections",new Map);n.forEach(s=>this.nodes.set(s.id,s)),e.forEach(s=>this.connect(s.from,s.to))}static connectionKey(n,e){return[n.nodeId,n.clickspotId,e.nodeId,e.clickspotId].sort().join("|")}getNodes(){return Array.from(this.nodes.values())}getAllConnections(){return Array.from(this.connections.values()).flatMap(n=>Array.from(n))}getConnections(n){const e=new Set;for(const s of this.connections.values())for(const r of s)(r.from.nodeId===n||r.to.nodeId===n)&&e.add(r);return e}addNode(n){this.nodes.set(n.id,n)}removeNode(n){this.nodes.delete(n);for(const[e,s]of Array.from(this.connections.entries()))for(const r of s)(r.from.nodeId===e||r.to.nodeId===e)&&s.delete(r),s.size===0&&this.connections.delete(e)}updateNodePosition(n,e){const s=this.nodes.get(n);s&&(s.position=e)}setParent(n,e){const s=this.nodes.get(n);s&&(s.parentId=e)}connect(n,e){var a,l;if(n.nodeId===e.nodeId)return;let s=this.connections.get(n.nodeId);s||(s=new Set,this.connections.set(n.nodeId,s)),s.add({from:n,to:e});const r=document.querySelector("program-tree");r&&(r.setNodeConnected(n.nodeId,n.clickspotId,!0),r.setNodeConnected(e.nodeId,e.clickspotId,!0));var i=(a=this.nodes.get(n.nodeId))==null?void 0:a.clickspots.find(c=>c.id===n.clickspotId);i&&(i.isConnected=!0);var o=(l=this.nodes.get(e.nodeId))==null?void 0:l.clickspots.find(c=>c.id===e.clickspotId);o&&(o.isConnected=!0)}disconnect(n){var r,i;for(const[o,a]of this.connections.entries())for(const l of a)if(l.from.nodeId===n.nodeId&&l.from.clickspotId===n.clickspotId||l.to.nodeId===n.nodeId&&l.to.clickspotId===n.clickspotId){const c=document.querySelector("program-tree");c&&(c.setNodeConnected(l.from.nodeId,l.from.clickspotId,!1),c.setNodeConnected(l.to.nodeId,l.to.clickspotId,!1));var e=(r=this.nodes.get(l.from.nodeId))==null?void 0:r.clickspots.find(d=>d.id===l.from.clickspotId);e&&(e.isConnected=!1);var s=(i=this.nodes.get(l.to.nodeId))==null?void 0:i.clickspots.find(d=>d.id===l.to.clickspotId);s&&(s.isConnected=!1),a.delete(l),a.size===0&&this.connections.delete(o);break}}load(n,e){this.nodes.clear(),this.connections.clear(),n.forEach(s=>this.nodes.set(s.id,s)),e.forEach(s=>this.connect(s.from,s.to))}}const Vs=`
    :host {
        position: absolute;
    }

    .node {
        margin: 1rem;
        height: 100px;
        width: 200px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        -webkit-user-select: none;
        user-select: none;
        background: none;
        border-radius: var(--corner-radius);
        will-change: transform;
    }

    .node-header {
        font-size: 8pt;
        width: 100%;
        border-radius: var(--corner-radius) var(--corner-radius) 0 0;
        border: 1px solid var(--node-border);
        background: var(--keyword);
        display: flex;
        flex-direction: row;
        align-items: center;
    }
        .node-header .node-icon {
            height: 15px;
            padding: 0 1px;
        }

    .node-body {
        border-radius: 0 0 var(--corner-radius) var(--corner-radius);
        border: 1px solid var(--node-border);
        border-top: none;
        background: var(--dark-background-e);
        flex: 1;
        width: 100%;
    }

    .node-clickspot-container {
        position: absolute;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
    }
        .node-clickspot-container.left {
            left: 0;
            top: 0;
            transform: translateX(-50%);
        }
        .node-clickspot-container.right {
            right: 0;
            top: 0;
            transform: translateX(50%);
        }
        .node-clickspot-container.bottom {
            height: initial;
            width: 100%;
            flex-direction: row;
            bottom: 0;
            left: 0;
            transform: translateY(50%);
        }

    .node-clickspot {
        aspect-ratio: 1 / 1;
        width: var(--clickspot-width);
        background: var(--light-background-d);
        border: dashed 1px var(--light-background-ll);
        border-radius: 50%;
    }
        .node-clickspot.connected {
            background: var(--accent);
            border-color: var(--accent-hovered);
        }
        .node-clickspot:hover {
            background: var(--light-background);
        }
        .node-clickspot.connected:hover {
            background: var(--accent-hovered);
        }
`,In=new CSSStyleSheet;In.replaceSync(Vs);class js extends HTMLElement{constructor(){super();h(this,"onMove");h(this,"onConnectStart");h(this,"onConnectEnd");h(this,"onDisconnect");h(this,"onTempLine");h(this,"isClickspotConnected");h(this,"screenToWorld");h(this,"worldToScreen");h(this,"_areCallbacksSet",!1);h(this,"_contentRef");h(this,"_nodeId","");h(this,"_position",{x:0,y:0});h(this,"_clickspots",[]);h(this,"_isDragging",!1);h(this,"_dragOffset",{x:0,y:0});this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[In]}static get observedAttributes(){return["id","x","y"]}setCallbacks(e){Object.assign(this,e),this._areCallbacksSet=!0}connectedCallback(){this.render()}attributeChangedCallback(e,s,r){e==="node-id"&&r&&(this._nodeId=r),this.render()}set data(e){this._nodeId=e.nodeId,this._position=e.position,this._clickspots=e.clickspots,this._isDragging=!1,this._dragOffset={x:0,y:0},this.render()}elementFromPoint(e,s){const r=this.shadowRoot.elementFromPoint(e,s);return r||null}clickspotFromId(e){return this.shadowRoot.querySelector(`#${e}`)}getBoundingClientRect(){const e=this.shadowRoot.querySelector(`#${this._nodeId}`);return e?e.getBoundingClientRect():new DOMRect(0,0,0,0)}getRealNode(){return this.shadowRoot.querySelector(`#${this._nodeId}`)}updateTransform(e){this._position=e,this._contentRef&&(this._contentRef.style.transform=`translate3d(${this._position.x}px, ${this._position.y}px, 0)`)}setConnected(e,s){const r=this.clickspotFromId(e);r&&r.classList.toggle("connected",s)}attachEventListeners(){var e,s;(e=this.shadowRoot.querySelector(".node-header"))==null||e.addEventListener("mousedown",r=>{this.startNodeDrag(r)}),(s=this.shadowRoot.querySelectorAll(".node-clickspot"))==null||s.forEach(r=>{r.addEventListener("mousedown",i=>{this.handleClickspotMouseDown(r.getAttribute("id"),i)})})}getLocationByClassList(e){return e.contains("left")?"left":e.contains("right")?"right":e.contains("bottom")?"bottom":null}startNodeDrag(e){if(e.button!==0)return;this._isDragging=!0;const s=this.screenToWorld({x:e.clientX,y:e.clientY});this._dragOffset={x:s.x-this._position.x,y:s.y-this._position.y};const r=o=>{var l;if(!this._isDragging)return;const a=this.screenToWorld({x:o.clientX,y:o.clientY});(l=this.onMove)==null||l.call(this,{x:a.x-this._dragOffset.x,y:a.y-this._dragOffset.y})},i=()=>{this._isDragging=!1,document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)}handleClickspotMouseDown(e,s){if(s.button===0)if(this.isClickspotConnected({nodeId:this._nodeId,clickspotId:e,location:null}))this.onDisconnect({nodeId:this._nodeId,clickspotId:e,location:null});else{const r=s.target.closest(".node-clickspot");if(!r){this.onTempLine(null);return}this._isDragging=!0;const i=r.getBoundingClientRect(),o={x:i.left+i.width/2,y:i.top+i.height/2},a=this.screenToWorld(o),l=s.target.closest(".node");if(!l){this.onTempLine(null);return}const c=l.getAttribute("id");if(!c){this.onTempLine(null);return}const d=r.closest(".node-clickspot-container");if(!d){this.onTempLine(null);return}const u=this.getLocationByClassList(d.classList);this.onConnectStart({nodeId:c,clickspotId:e,location:u});const f=v=>{if(!this._isDragging){this.onTempLine(null);return}const g={x:v.clientX,y:v.clientY},b=this.screenToWorld(g);this.onTempLine([{start:{x:a.x,y:a.y},end:{x:b.x,y:b.y}},u])},p=v=>{this._isDragging=!1,document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",p);const g={x:v.clientX,y:v.clientY},b=Array.from(this.parentElement.querySelectorAll("tree-node"));let E=null,C=null;for(const Se of b){const $e=Se.getBoundingClientRect();if(g.x>=$e.left&&g.x<=$e.right&&g.y>=$e.top&&g.y<=$e.bottom){const re=Se.elementFromPoint(g.x,g.y);if(re&&re.classList.contains("node-clickspot")&&!re.classList.contains("connected")){E=Se.getRealNode(),C=re;break}}}if(!E){this.onTempLine(null);return}if(!C||!C.classList.contains("node-clickspot")||C.classList.contains("connected")){this.onTempLine(null);return}const w=C.getAttribute("id"),O=E.getAttribute("id");if(!w||!O){this.onTempLine(null);return}const se=C.closest(".node-clickspot-container");if(!se){this.onTempLine(null);return}const Ct=this.getLocationByClassList(se.classList);O&&O!==c&&this.onConnectEnd({nodeId:c,clickspotId:e,location:u},{nodeId:O,clickspotId:w,location:Ct}),this.onTempLine(null)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",p)}}render(){this.shadowRoot.innerHTML=`
            <div
                id="${this._nodeId}"
                class="node shadowed"
            >
                <div class="node-header">
                    <img src="/res/expression.svg" class="node-icon" />
                    <span>Exponentiation Expression</span>
                </div>
                <div class="node-body">
                    ${["left","bottom","right"].map(e=>`
                        <div class="node-clickspot-container ${e}">
                            ${this._clickspots.filter(s=>s.location===e).map(s=>`
                                <button
                                    class="node-clickspot"
                                    id="${s.id}"
                                    class="${s.isConnected?"connected":""}"
                                ></button>
                            `).join("")}
                        </div>
                    `).join("")}
                    <div class="node-content">
                        <slot></slot>
                    </div>
                </div>
            </div>
        `,this._contentRef=this.shadowRoot.querySelector(`#${this._nodeId}`),this.updateTransform(this._position),this._areCallbacksSet&&this.attachEventListeners()}}customElements.define("tree-node",js);const Ys=`
    .wrapper {
        transform: translate(calc(-1 * var(--transform-size) / 2), calc(-1 * var(--transform-size) / 2));
    }
    .container {
        position: absolute;
        width: var(--transform-size);
        height: var(--transform-size);
        user-select: none;
        overflow: hidden;
        will-change: transform, scale, zoom;
        transform-origin: 50% 50%;
    }
`,An=new CSSStyleSheet;An.replaceSync(Ys);const Me=class Me extends HTMLElement{constructor(){super();h(this,"_container");h(this,"_scale",1);h(this,"_scalePlugin");h(this,"_isPanning",!1);h(this,"_position",{x:0,y:0});h(this,"_lastPosition",{x:0,y:0});this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onWheel=this.onWheel.bind(this),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[An],this._scalePlugin=document.querySelector("#ast-zoom-plugin")}connectedCallback(){this.render(),this.updateTransform(),this._container.addEventListener("mousedown",this.onMouseDown),this._container.addEventListener("wheel",this.onWheel,{passive:!1})}disconnectedCallback(){this._container.removeEventListener("mousedown",this.onMouseDown),this._container.removeEventListener("wheel",this.onWheel),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}screenToWorld(e){return{x:(e.x-this._position.x)/this._scale,y:(e.y-this._position.y)/this._scale}}worldToScreen(e){return{x:e.x*this._scale+this._position.x,y:e.y*this._scale+this._position.y}}getTransform(){return{scale:this._scale,position:{...this._position}}}updateTransform(){this._container.style.transform=`translate(${this._position.x}px, ${this._position.y}px) scale(${this._scale})`,this._scalePlugin.getPlugin().innerHTML=`${Math.floor(parseFloat(this._scale.toFixed(2))*100)}%`}onMouseDown(e){let s=e.target;for(;s;){if(s.nodeName.toLowerCase()==="tree-node")return;s=s.parentElement}this._isPanning=!0,this._lastPosition={x:e.clientX-this._position.x,y:e.clientY-this._position.y},window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this._container.style.cursor="grabbing"}onMouseMove(e){this._isPanning&&(this._position.x=e.clientX-this._lastPosition.x,this._position.y=e.clientY-this._lastPosition.y,this.updateTransform())}onMouseUp(){this._isPanning=!1,window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this._container.style.cursor="grab",setTimeout(()=>{this._isPanning||(this._container.style.cursor="default")},1e3)}onWheel(e){e.preventDefault();const s=-e.deltaY*.001,r=Math.min(Me.maxScale,Math.max(Me.minScale,this._scale+s)),i=this.getBoundingClientRect(),o=e.clientX-i.left,a=e.clientY-i.top,l=o-this._position.x,c=a-this._position.y,d=r/this._scale;this._position.x=o-l*d,this._position.y=a-c*d,this._scale=r,this.updateTransform()}render(){this.shadowRoot.innerHTML=`
            <div class="wrapper">
                <div class="container">
                    <slot name="transformed-view-slot"></slot>
                </div>
            </div>
        `,this._container=this.shadowRoot.querySelector(".container")}};h(Me,"minScale",.2),h(Me,"maxScale",3);let $t=Me;customElements.define("transformed-view",$t);const Xs=`
    transformed-view {
        display: block;
        width: 100%;
        height: 100%;
    }
    #connections-canvas {
        position:absolute;
        top:0;
        left:0;
        width: var(--transform-size);
        height: var(--transform-size);
        pointer-events:none;
    }
    #transform-content {
        position: absolute;
        top: 0;
        left: 0;
        width: var(--transform-size);
        height: var(--transform-size);
        transform: translate(50%, 50%);
    }
`,Nn=new CSSStyleSheet;Nn.replaceSync(Xs);class Pn extends HTMLElement{constructor(){super();h(this,"_nodeManager");h(this,"_transformedViewRef");h(this,"_contentRef");h(this,"_connectionsCanvas");h(this,"_canvasRef");this._nodeManager=new Us([{id:"node1",label:"Hello, 123123",position:{x:100,y:100},clickspots:[{id:"clickspot-a",location:"left"},{id:"clickspot-b",location:"right"},{id:"clickspot-e",location:"bottom"}]},{id:"node2",label:"This is a new test node",position:{x:400,y:200},clickspots:[{id:"clickspot-c",location:"left"},{id:"clickspot-d",location:"bottom"}]},{id:"node3",label:"Testing testing testing",position:{x:550,y:400},clickspots:[{id:"clickspot-f",location:"left"},{id:"clickspot-g",location:"left"}]}]),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Nn]}connectedCallback(){this.render()}attributeChangedCallback(e,s,r){}setNodeConnected(e,s,r){const i=this.shadowRoot.querySelector(`tree-node[data-node-id="${e}"]`);i&&i.setConnected(s,r)}getClickspotCenterScreen(e,s){const r=this.shadowRoot.querySelector(`tree-node[data-node-id="${e}"]`);if(!r||!this._connectionsCanvas)return null;const i=r.clickspotFromId(s);if(!i)return null;const o=i.getBoundingClientRect(),a=this._connectionsCanvas.getBoundingClientRect();return{x:o.left+o.width/2-a.left,y:o.top+o.height/2-a.top}}isClickspotConnected(e){const s=this._nodeManager.getConnections(e.nodeId);for(const r of s)if(r.from.clickspotId===e.clickspotId||r.to.clickspotId===e.clickspotId)return!0;return!1}handleConnectStart(e){}handleConnectEnd(e,s){e&&(e.nodeId!==s.nodeId||e.clickspotId!==s.clickspotId)&&(this._nodeManager.connect(e,s),this.handleTempLine(null)),this.renderLines()}handleRemoveLines(e){this._nodeManager.disconnect(e),!(!this._connectionsCanvas||!this._canvasRef)&&this.renderLines()}handleNodeMove(e,s){this._nodeManager.updateNodePosition(e,s);const r=this.shadowRoot.querySelector(`tree-node[data-node-id="${e}"]`);r&&r.updateTransform(s),this.renderLines()}clearLines(){!this._connectionsCanvas||!this._canvasRef||this._canvasRef.clearRect(0,0,this._connectionsCanvas.width,this._connectionsCanvas.height)}renderLines(){if(!this._connectionsCanvas||!this._canvasRef||!this._transformedViewRef)return;this.clearLines();const e=this._nodeManager.getAllConnections();for(const s of e){const r=this.getClickspotCenterScreen(s.from.nodeId,s.from.clickspotId),i=this.getClickspotCenterScreen(s.to.nodeId,s.to.clickspotId);!r||!i||!s.from.location||this.drawBezierPathScreen(r,i,s.from.location,s.to.location,"rgb(143, 132, 213)",2,!1)}}handleTempLine(e){var d;if(this.renderLines(),!e||!this._canvasRef)return;const{start:s,end:r}=e[0],i=e[1],o=this.getBoundingClientRect()||{left:0,top:0},a=(d=this._transformedViewRef)==null?void 0:d.getTransform();a&&(s.x*=a.scale,s.y*=a.scale,r.x*=a.scale,r.y*=a.scale);const l={x:s.x-o.left,y:s.y-o.top},c={x:r.x-o.left,y:r.y-o.top};this.drawBezierPathScreen(l,c,i,null,"rgb(171, 167, 200)",2,!0)}getBezierPath(e,s,r){const{start:i,end:o}=e,a=100;let l=r;if(!r&&s){const p=o.x-i.x,v=o.y-i.y,g=Math.atan2(v,p)*180/Math.PI;s==="left"?g>-45&&g<45?l="left":g>=45&&g<=135?l="bottom":l=null:s==="right"?g>135||g<-135?l="right":g>=-135&&g<=-45?l="bottom":l=null:s==="bottom"&&(g>135||g<-135?l="right":g>-45&&g<45?l="left":g>=45&&g<=135&&(l="bottom"))}let c=i.x,d=i.y;s==="left"?c-=a:s==="right"?c+=a:s==="bottom"&&(d+=a);let u=o.x,f=o.y;return l==="left"?u-=a:l==="right"?u+=a:l==="bottom"&&(f+=a),[i.x,i.y,c,d,u,f,o.x,o.y]}drawBezierPathScreen(e,s,r,i,o,a,l){var g;if(!this._canvasRef)return;const c=(g=this._transformedViewRef)==null?void 0:g.getTransform();c&&(e.x/=c.scale,e.y/=c.scale,s.x/=c.scale,s.y/=c.scale);const d=100;let u=e.x,f=e.y;r==="left"?u-=d:r==="right"?u+=d:r==="bottom"&&(f+=d);let p=s.x,v=s.y;i==="left"?p-=d:i==="right"?p+=d:i==="bottom"&&(v+=d),this._canvasRef.save(),l?this._canvasRef.setLineDash([4,4]):this._canvasRef.setLineDash([]),this._canvasRef.beginPath(),this._canvasRef.moveTo(e.x,e.y),this._canvasRef.bezierCurveTo(u,f,p,v,s.x,s.y),this._canvasRef.strokeStyle=o,this._canvasRef.lineWidth=a,this._canvasRef.stroke(),this._canvasRef.restore()}resizeCanvas(){if(!this._connectionsCanvas)return;const e=this._connectionsCanvas.parentElement;if(e){const s=e.getBoundingClientRect();this._connectionsCanvas.width=s.width,this._connectionsCanvas.height=s.height}}renderNodes(){if(!this._contentRef)return;const e=new Map;this._contentRef.querySelectorAll("tree-node").forEach(r=>{const i=r.getAttribute("id");i&&e.set(i,r)});const s=new Set;for(const r of this._nodeManager.getNodes()){s.add(r.id);let i=e.get(r.id);i||(i=document.createElement("tree-node"),i.data={nodeId:r.id,position:r.position,clickspots:r.clickspots},i.setCallbacks({onMove:a=>this.handleNodeMove(r.id,a),onConnectStart:a=>this.handleConnectStart(a),onConnectEnd:(a,l)=>this.handleConnectEnd(a,l),onDisconnect:a=>this.handleRemoveLines(a),onTempLine:a=>this.handleTempLine(a),isClickspotConnected:a=>this.isClickspotConnected(a),screenToWorld:a=>{var l;return((l=this._transformedViewRef)==null?void 0:l.screenToWorld(a))??a},worldToScreen:a=>{var l;return((l=this._transformedViewRef)==null?void 0:l.worldToScreen(a))??a}}),i.setAttribute("data-node-id",r.id),this._contentRef.appendChild(i));const o=i.querySelector(".node-content");o&&(o.textContent=r.label)}e.forEach((r,i)=>{s.has(i)||r.remove()})}render(){this.shadowRoot.innerHTML=`
            <transformed-view id="program-tree-transformed-view">
                <div id="transform-content" slot="transformed-view-slot">
                    <canvas id="connections-canvas"></canvas>
                </div>
            </transformed-view>
        `,this._transformedViewRef=this.shadowRoot.querySelector("#program-tree-transformed-view"),this._contentRef=this._transformedViewRef.querySelector("#transform-content"),this._connectionsCanvas=this._contentRef.querySelector("#connections-canvas"),this._canvasRef=this._connectionsCanvas.getContext("2d"),window.addEventListener("resize",()=>{this.resizeCanvas(),this.renderLines()}),this.resizeCanvas(),this.renderLines(),this.renderNodes()}}h(Pn,"observedAttributes",[]);customElements.define("program-tree",Pn);class Gs extends HTMLElement{constructor(){super(...arguments);h(this,"tabsContent");h(this,"pages",[])}connectedCallback(){this.render(),window.addEventListener("popstate",s=>{var i;const r=((i=s.state)==null?void 0:i.tab)??this.getTabIndexFromUrl();typeof r=="number"&&r>=0&&r<this.pages.length&&this.activatePage(r,!1)});const e=this.getTabIndexFromUrl();typeof e=="number"&&e>=0&&e<this.pages.length&&this.activatePage(e,!1)}getTabIndexFromUrl(){let e=window.location.pathname.replace(/^\//,"");e.startsWith("clarity/")&&(e=e.substring(8));const s=Array.from(this.querySelectorAll("my-tab"));for(let r=0;r<s.length;r++)if(s[r].getAttribute("route")===e)return r;return 0}activatePage(e,s=!0){if(this.pages.forEach((r,i)=>{const o=this.tabsContent.querySelectorAll("input"),a=i===e;r.classList.toggle("active",a),o[i]&&(o[i].checked=a)}),s){const i=Array.from(this.querySelectorAll("my-tab"))[e].getAttribute("route")||"",a=`${window.location.origin}/clarity/${i}`;history.pushState({tab:e},"",a)}}render(){const e=this.querySelector("my-header");if(e){const i=e.children[0];if(i){let o=document.createElement("div");o.className="tabs-bar",i.classList.add("tabs-header"),o.appendChild(i),this.prepend(o)}e.remove()}this.tabsContent=document.createElement("div"),this.tabsContent.className="tabs-content";const s=this.querySelector(".tabs-bar");s?s.append(this.tabsContent):this.prepend(this.tabsContent),Array.from(this.querySelectorAll("my-tab")).forEach((i,o)=>{const a=i.getAttribute("label")||`Tab ${o+1}`,l=`tab-${o}`,c=`tabpanel-${o}`,d=document.createElement("input");d.type="radio",d.id=l,d.checked=o===0,d.addEventListener("change",()=>this.activatePage(o,!0));const u=document.createElement("label");u.htmlFor=l,u.textContent=a;const f=document.createElement("span");f.className="tab-radio-wrapper",f.appendChild(d),f.appendChild(u),this.tabsContent.appendChild(f),i.classList.add("page"),i.setAttribute("id",c),o===0&&i.classList.add("active"),this.pages.push(i)})}}customElements.define("my-tabview",Gs);class Zs extends HTMLElement{}customElements.define("my-tab",Zs);class Js extends HTMLElement{}customElements.define("my-header",Js);class Qs extends HTMLElement{constructor(){super()}connectedCallback(){this.render()}render(){const n=document.createElement("div");n.className="article-list";const e=this.querySelectorAll("my-article");for(let r=0;r<e.length;r++){const i=e[r],o=i.querySelector("my-article-header");if(!o){console.warn(`Article ${r} does not have a header.`);continue}const a=document.createElement("div");a.className="article-item shadowed hoverable",a.innerHTML=o.outerHTML,a.addEventListener("click",()=>{const l=this.querySelector(".article-content-container");l&&(n.style.display="none",l.style.display="flex",l.innerHTML=i.innerHTML)}),n.appendChild(a)}this.innerHTML="";let s=document.createElement("div");s.className="article-content-container",s.style.display="none",this.appendChild(n),this.appendChild(s)}}class Ks extends HTMLElement{constructor(){super(...arguments);h(this,"_rendered",!1)}connectedCallback(){this.render()}render(){if(this._rendered)return;this._rendered=!0;const e=this.getAttribute("article-title")||"Untitled Article",s=this.getAttribute("article-description")||"",r=document.createElement("header"),i=document.createElement("div"),o=document.createElement("h1");o.textContent=e;const a=document.createElement("p");a.className="article-desc",a.textContent=s,i.appendChild(o),i.appendChild(a),r.appendChild(i);const l=this.querySelector("symbol-icon");l&&r.prepend(l);const c=document.createElement("section"),d=document.createElement("main"),u=document.createElement("article"),f=this.querySelector("my-article-content");f&&u.appendChild(f),d.appendChild(u);const p=document.createElement("aside"),v=document.createElement("span");v.textContent="More Articles";const g=document.createElement("nav");g.className="article-nav",p.appendChild(v),p.appendChild(g),c.appendChild(d),c.appendChild(p);const b=document.createElement("footer"),E=document.createElement("div");E.innerHTML=`
            <span>Source code available at <a href="https://github.com/connorjlink/clarity">https://github.com/connorjlink/clarity</a>.</span>
            <br>
            <span>&copy; 2025 Connor J. Link. All Rights Reserved.</span>
        `,b.appendChild(E),this.textContent="",this.appendChild(r),this.appendChild(c),this.appendChild(b),Array.from(document.querySelectorAll("my-article-header symbol-icon"))}}class er extends HTMLElement{connectedCallback(){this.render()}render(){const n=this.getAttribute("article-title")||"Untitled Article",e=this.getAttribute("article-description")||"No description provided.",s=this.querySelector("symbol-icon");this.innerHTML=`
            <div class="article-header">
                ${s?s.outerHTML:""}
                <div>
                    <h2 class="article-title">${n}</h2>
                    <p class="article-desc">${e}</p>
                </div>
            </div>
        `}}customElements.define("my-articleselector",Qs);customElements.define("my-article-header",er);customElements.define("my-article",Ks);const On=`
    :host {
        display: block;
        width: 100%;
        height: 100%;
    }
    
    :host *, :host *::before, :host *::after {
        box-sizing: border-box;
    }

    pane-view {
        overflow-x: hidden;
    }

    .pane-row {
        display: grid;
        grid-template-rows: 1fr;
        will-change: grid-template-columns;
        height: 100%;
        width: 100%;
    }

    .pane-column {
        width: 100%;
        position: relative;
        background: var(--dark-background-d);
        z-index: 1;
    }
        .pane-column.hidden {
            display: none;
        }
    
    .handle {
        width: 1px;
        cursor: col-resize;
        background: var(--node-border);
        z-index: 3;
        height: 100%;
        transition: background-color 100ms ease-in-out;
    }
        .handle:hover {
            background: var(--accent-hovered);
            width: 2px;
        }
        .handle.dragging {
            background: var(--accent-selected);
        }

    .pane-descriptor {
        padding: 0.5rem;
        background: var(--dark-background-e);
        border-top: 1px solid var(--node-border);
        border-bottom: 1px solid var(--node-border);
        width: 100%;
        position: relative;
        z-index: 2;
    }
`,tr=new CSSStyleSheet;tr.replaceSync(On);const cn="resizable-pane-widths";class nr extends HTMLElement{constructor(){super();h(this,"columns",[]);h(this,"handles",[]);h(this,"widths",[]);h(this,"draggingIndex",null);h(this,"startX",0);h(this,"startWidths",[]);h(this,"visible",[]);h(this,"originalPanes",[]);h(this,"onHandleMouseDown",e=>{const s=e.target;this.draggingIndex=parseInt(s.dataset.index),this.startX=e.clientX,this.startWidths=this.getCurrentWidths(),s.classList.add("dragging"),e.preventDefault()});h(this,"onMouseMove",e=>{if(this.draggingIndex===null)return;const s=e.clientX-this.startX,r=this.draggingIndex;let i=[...this.startWidths];const o=50;i[r]+=s,i[r+1]-=s;for(let l=r+1;l<i.length;l++)if(i[l]<o){const c=o-i[l];i[l]=o,l+1<i.length&&(i[l+1]-=c)}for(let l=r;l>=0;l--)if(i[l]<o){const c=o-i[l];i[l]=o,l-1>=0&&(i[l-1]-=c)}for(let l=i.length-1;l>=0;l--)i[l]<o&&(i[l]=o);for(let l=0;l<i.length;l++)i[l]<o&&(i[l]=o);const a=i.reduce((l,c)=>l+c,0);this.widths=i.map(l=>l/a),this.applyWidths(),this.startWidths=i,this.startX=e.clientX});h(this,"onMouseUp",e=>{this.draggingIndex!==null&&(this.handles[this.draggingIndex].classList.remove("dragging"),this.saveWidths(),this.draggingIndex=null)})}connectedCallback(){this.originalPanes.length===0&&(this.originalPanes=Array.from(this.querySelectorAll(".pane-column"))),this.loadWidths(),this.render(),this.applyWidths(),this.addHandleEvents()}disconnectedCallback(){this.removeHandleEvents()}setVisiblePanes(e){this.visible=e,this.render(),this.applyWidths(),this.addHandleEvents()}render(){this.innerHTML=`<style>${On}</style>`;const e=document.createElement("div");e.className="pane-row",this.columns=[],this.handles=[],this.originalPanes.forEach((s,r)=>{if(Array.from(s.querySelectorAll(".handle")).forEach(i=>i.remove()),this.visible[r]&&(e.appendChild(s),this.columns.push(s),this.columns.length-1<this.visible.filter(Boolean).length-1)){const i=document.createElement("div");i.className="handle",i.dataset.index=(this.columns.length-1).toString(),e.appendChild(i),this.handles.push(i)}}),this.appendChild(e)}addHandleEvents(){this.handles.forEach(e=>{e.addEventListener("mousedown",this.onHandleMouseDown)}),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)}removeHandleEvents(){this.handles.forEach(e=>{e.removeEventListener("mousedown",this.onHandleMouseDown)}),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}getCurrentWidths(){return this.columns.map(e=>e.getBoundingClientRect().width)}applyWidths(){this.widths.length!==this.columns.length&&(this.widths=Array(this.columns.length).fill(1/this.columns.length));const e=this.querySelector(".pane-row");if(!e)return;let s="";for(let i=0;i<this.columns.length;i++)s+=`${this.widths[i]*100}% `,i<this.columns.length-1&&(s+="1px ");e.style.gridTemplateColumns=s.trim();let r=1;this.columns.forEach(i=>{i.classList.contains("hidden")||(i.style.gridColumn=`${r}`,r+=2)}),this.handles.forEach((i,o)=>{i.style.gridColumn=`${2*(o+1)}`})}saveWidths(){localStorage.setItem(cn,JSON.stringify(this.widths))}loadWidths(){const e=localStorage.getItem(cn);if(e)try{const s=JSON.parse(e);Array.isArray(s)&&s.length===this.columns.length&&(this.widths=s)}catch{}}}customElements.define("pane-view",nr);const sr=`
    .container {
        cursor: pointer;
        user-select: none;
        width: fit-content;
    }

    input {
        position: absolute;
        height: 1rem;
        width: 1rem;
        opacity: 0;
        margin: 0;
        z-index: 100;
        cursor: pointer;
    }
        input:checked ~ on-icon {
            display: flex;
        }
        input:not(:checked) ~ off-icon {
            display: flex;
        }

    on-icon, off-icon {
        display: none;
        align-items: center;
        justify-content: center;
        width: 1rem;
        height: 1rem;
    }

    svg {
        width: 0.75rem;
        height: 0.75rem;
        color: white;
    }
`,zn=new CSSStyleSheet;zn.replaceSync(sr);class rr extends HTMLElement{constructor(){super();h(this,"_checked",!0);h(this,"_onIcon",null);h(this,"_offIcon",null);h(this,"_titleText",null);this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[zn]}get checked(){return this._checked}set checked(e){this._checked=e,this.render()}connectedCallback(){this._onIcon=this.querySelector("on-icon"),this._offIcon=this.querySelector("off-icon"),this._titleText=this.getAttribute("title")||null,this.render()}render(){this.shadowRoot.innerHTML=`
            <div class="container" title="${this._titleText||""}">
                <input type="checkbox" ${this._checked?"checked":""}>
            </div>
        `;const e=this.shadowRoot.querySelector("input");e.addEventListener("change",()=>{this._checked=e.checked,this.dispatchEvent(new CustomEvent("toggle-change",{detail:{checked:this._checked}}))});const s=this.shadowRoot.querySelector(".container");this._onIcon&&s.appendChild(this._onIcon),this._offIcon&&s.appendChild(this._offIcon)}}customElements.define("symbol-toggle",rr);const ir="5";var $n;typeof window<"u"&&(($n=window.__svelte??(window.__svelte={})).v??($n.v=new Set)).add(ir);let Ke=!1,or=!1;function ar(){Ke=!0}ar();const lr=2,cr=8,dr=2,hr="[",ur="]",Ve={},$=Symbol(),fr="http://www.w3.org/1999/xhtml",Dn=!1;var qn=Array.isArray,pr=Array.prototype.indexOf,gr=Array.from,ct=Object.keys,ze=Object.defineProperty,ge=Object.getOwnPropertyDescriptor,Hn=Object.getOwnPropertyDescriptors,vr=Object.prototype,_r=Array.prototype,qt=Object.getPrototypeOf,dn=Object.isExtensible;function mr(t){return t()}function dt(t){for(var n=0;n<t.length;n++)t[n]()}function yr(){var t,n,e=new Promise((s,r)=>{t=s,n=r});return{promise:e,resolve:t,reject:n}}const H=2,Wn=4,mt=8,yt=16,ue=32,Ce=64,Bn=128,U=256,ht=512,R=1024,q=2048,Ee=4096,De=8192,xe=16384,Ht=32768,wr=65536,hn=1<<17,br=1<<18,Wt=1<<19,Bt=1<<20,Rt=1<<21,Ft=1<<22,ve=1<<23,Ie=Symbol("$state"),Fn=Symbol("legacy props"),Cr=Symbol(""),Ut=new class extends Error{constructor(){super(...arguments);h(this,"name","StaleReactionError");h(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},Un=3,un=8;function Er(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function xr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function kr(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Sr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function $r(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Rr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Tr(){throw new Error("https://svelte.dev/e/hydration_failed")}function Lr(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Mr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ir(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ar(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Vt(t){console.warn("https://svelte.dev/e/hydration_mismatch")}let k=!1;function st(t){k=t}let x;function we(t){if(t===null)throw Vt(),Ve;return x=t}function jt(){return we(We(x))}function Y(t){if(k){if(We(x)!==null)throw Vt(),Ve;x=t}}function Vn(t){return t===this.v}function Nr(t,n){return t!=t?n==n:t!==n||t!==null&&typeof t=="object"||typeof t=="function"}function jn(t){return!Nr(t,this.v)}let S=null;function ut(t){S=t}function Yt(t,n=!1,e){S={p:S,c:null,e:null,s:t,x:null,l:Ke&&!n?{s:null,u:null,$:[]}:null}}function Xt(t){var n=S,e=n.e;if(e!==null){n.e=null;for(var s of e)cs(s)}return t!==void 0&&(n.x=t),S=n.p,t??{}}function et(){return!Ke||S!==null&&S.l===null}const Pr=new WeakMap;function Or(t){var n=y;if(n===null)return m.f|=ve,t;if((n.f&Ht)===0){if((n.f&Bn)===0)throw!n.parent&&t instanceof Error&&Yn(t),t;n.b.error(t)}else Gt(t,n)}function Gt(t,n){for(;n!==null;){if((n.f&Bn)!==0)try{n.b.error(t);return}catch(e){t=e}n=n.parent}throw t instanceof Error&&Yn(t),t}function Yn(t){const n=Pr.get(t);n&&(ze(t,"message",{value:n.message}),ze(t,"stack",{value:n.stack}))}let Ye=[],Tt=[];function Xn(){var t=Ye;Ye=[],dt(t)}function zr(){var t=Tt;Tt=[],dt(t)}function Gn(t){Ye.length===0&&queueMicrotask(Xn),Ye.push(t)}function Dr(){Ye.length>0&&Xn(),Tt.length>0&&zr()}function qr(){for(var t=y.b;t!==null&&!t.has_pending_snippet();)t=t.parent;return t===null&&Er(),t}function Zt(t){var n=H|q,e=m!==null&&(m.f&H)!==0?m:null;return y===null||e!==null&&(e.f&U)!==0?n|=U:y.f|=Wt,{ctx:S,deps:null,effects:null,equals:Vn,f:n,fn:t,reactions:null,rv:0,v:$,wv:0,parent:e??y,ac:null}}function Hr(t,n){let e=y;e===null&&xr();var s=e.b,r=void 0,i=Qt($),o=null,a=!m;return Qr(()=>{try{var l=t()}catch(p){l=Promise.reject(p)}var c=()=>l;r=(o==null?void 0:o.then(c,c))??Promise.resolve(l),o=r;var d=W,u=s.pending;a&&(s.update_pending_count(1),u||d.increment());const f=(p,v=void 0)=>{o=null,u||d.activate(),v?v!==Ut&&(i.f|=ve,It(i,v)):((i.f&ve)!==0&&(i.f^=ve),It(i,p)),a&&(s.update_pending_count(-1),u||d.decrement()),Kn()};if(r.then(f,p=>f(null,p||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(l=>{function c(d){function u(){d===r?l(i):c(r)}d.then(u,u)}c(r)})}function Zn(t){const n=Zt(t);return n.equals=jn,n}function Jn(t){var n=t.effects;if(n!==null){t.effects=null;for(var e=0;e<n.length;e+=1)de(n[e])}}function Wr(t){for(var n=t.parent;n!==null;){if((n.f&H)===0)return n;n=n.parent}return null}function Jt(t){var n,e=y;he(Wr(t));try{Jn(t),n=_s(t)}finally{he(e)}return n}function Qn(t){var n=Jt(t);if(t.equals(n)||(t.v=n,t.wv=gs()),!ke)if(le!==null)le.set(t,t.v);else{var e=(ce||(t.f&U)!==0)&&t.deps!==null?Ee:R;T(t,e)}}function Br(t,n,e){const s=et()?Zt:Zn;if(n.length===0){e(t.map(s));return}var r=W,i=y,o=Fr(),a=qr();Promise.all(n.map(l=>Hr(l))).then(l=>{r==null||r.activate(),o();try{e([...t.map(s),...l])}catch(c){(i.f&xe)===0&&Gt(c,i)}r==null||r.deactivate(),Kn()}).catch(l=>{a.error(l)})}function Fr(){var t=y,n=m,e=S;return function(){he(t),J(n),ut(e)}}function Kn(){he(null),J(null),ut(null)}const rt=new Set;let W=null,le=null,fn=new Set,ft=[];function es(){const t=ft.shift();ft.length>0&&queueMicrotask(es),t()}let Te=[],wt=null,Lt=!1;var Ze,Ne,Pe,oe,Je,Qe,fe,Oe,ae,K,pe,te,ts,ns,Mt;const _t=class _t{constructor(){I(this,te);I(this,Ze,new Map);I(this,Ne,new Map);I(this,Pe,new Set);I(this,oe,0);I(this,Je,null);I(this,Qe,!1);I(this,fe,[]);I(this,Oe,[]);I(this,ae,[]);I(this,K,[]);I(this,pe,[]);h(this,"skipped_effects",new Set)}capture(n,e){_(this,Ne).has(n)||_(this,Ne).set(n,e),_(this,Ze).set(n,n.v)}activate(){W=this}deactivate(){W=null;for(const n of fn)if(fn.delete(n),n(),W!==null)break}neuter(){z(this,Qe,!0)}flush(){Te.length>0?this.flush_effects():Be(this,te,Mt).call(this),W===this&&(_(this,oe)===0&&rt.delete(this),this.deactivate())}flush_effects(){var n=Ae;Lt=!0;try{var e=0;for(_n(!0);Te.length>0;){if(e++>1e3){var s,r;Ur()}Be(this,te,ts).call(this,Te),me.clear()}}finally{Lt=!1,_n(n),wt=null}}increment(){z(this,oe,_(this,oe)+1)}decrement(){if(z(this,oe,_(this,oe)-1),_(this,oe)===0){for(const n of _(this,ae))T(n,q),_e(n);for(const n of _(this,K))T(n,q),_e(n);for(const n of _(this,pe))T(n,q),_e(n);z(this,ae,[]),z(this,K,[]),this.flush()}else this.deactivate()}add_callback(n){_(this,Pe).add(n)}settled(){return(_(this,Je)??z(this,Je,yr())).promise}static ensure(n=!0){if(W===null){const e=W=new _t;rt.add(W),n&&_t.enqueue(()=>{W===e&&e.flush()})}return W}static enqueue(n){ft.length===0&&queueMicrotask(es),ft.unshift(n)}};Ze=new WeakMap,Ne=new WeakMap,Pe=new WeakMap,oe=new WeakMap,Je=new WeakMap,Qe=new WeakMap,fe=new WeakMap,Oe=new WeakMap,ae=new WeakMap,K=new WeakMap,pe=new WeakMap,te=new WeakSet,ts=function(n){var i;Te=[];var e=null;if(rt.size>1){e=new Map,le=new Map;for(const[o,a]of _(this,Ze))e.set(o,{v:o.v,wv:o.wv}),o.v=a;for(const o of rt)if(o!==this)for(const[a,l]of _(o,Ne))e.has(a)||(e.set(a,{v:a.v,wv:a.wv}),a.v=l)}for(const o of n)Be(this,te,ns).call(this,o);if(_(this,fe).length===0&&_(this,oe)===0){var s=_(this,ae),r=_(this,K);z(this,ae,[]),z(this,K,[]),z(this,pe,[]),Be(this,te,Mt).call(this),pn(s),pn(r),(i=_(this,Je))==null||i.resolve()}else{for(const o of _(this,ae))T(o,R);for(const o of _(this,K))T(o,R);for(const o of _(this,pe))T(o,R)}if(e){for(const[o,{v:a,wv:l}]of e)o.wv<=l&&(o.v=a);le=null}for(const o of _(this,fe))je(o);for(const o of _(this,Oe))je(o);z(this,fe,[]),z(this,Oe,[])},ns=function(n){var d;n.f^=R;for(var e=n.first;e!==null;){var s=e.f,r=(s&(ue|Ce))!==0,i=r&&(s&R)!==0,o=i||(s&De)!==0||this.skipped_effects.has(e);if(!o&&e.fn!==null){if(r)e.f^=R;else if((s&Wn)!==0)_(this,K).push(e);else if(bt(e))if((s&Ft)!==0){var a=(d=e.b)!=null&&d.pending?_(this,Oe):_(this,fe);a.push(e)}else(e.f&yt)!==0&&_(this,pe).push(e),je(e);var l=e.first;if(l!==null){e=l;continue}}var c=e.parent;for(e=e.next;e===null&&c!==null;)e=c.next,c=c.parent}},Mt=function(){if(!_(this,Qe))for(const n of _(this,Pe))n();_(this,Pe).clear()};let qe=_t;function V(t){var n;const e=qe.ensure(!1);for(;;){if(Dr(),Te.length===0)return e===W&&e.flush(),wt=null,n;e.flush_effects()}}function Ur(){try{Rr()}catch(t){Gt(t,wt)}}function pn(t){var n=t.length;if(n!==0){for(var e=0;e<n;e++){var s=t[e];if((s.f&(xe|De))===0&&bt(s)){var r=gt;if(je(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?fs(s):s.fn=null),gt>r&&(s.f&Bt)!==0)break}}for(;e<n;e+=1)_e(t[e])}}function _e(t){for(var n=wt=t;n.parent!==null;){n=n.parent;var e=n.f;if(Lt&&n===y&&(e&yt)!==0)return;if((e&(Ce|ue))!==0){if((e&R)===0)return;n.f^=R}}Te.push(n)}const me=new Map;function Qt(t,n){var e={f:0,v:t,reactions:null,equals:Vn,rv:0,wv:0};return e}function ie(t,n){const e=Qt(t);return ii(e),e}function ss(t,n=!1,e=!0){var r;const s=Qt(t);return n||(s.equals=jn),Ke&&e&&S!==null&&S.l!==null&&((r=S.l).s??(r.s=[])).push(s),s}function G(t,n,e=!1){m!==null&&(!Z||(m.f&hn)!==0)&&et()&&(m.f&(H|yt|Ft|hn))!==0&&!(P!=null&&P.includes(t))&&Ar();let s=e?Le(n):n;return It(t,s)}function It(t,n){if(!t.equals(n)){var e=t.v;ke?me.set(t,n):me.set(t,e),t.v=n,qe.ensure().capture(t,e),(t.f&H)!==0&&((t.f&q)!==0&&Jt(t),T(t,(t.f&U)===0?R:Ee)),t.wv=gs(),rs(t,q),et()&&y!==null&&(y.f&R)!==0&&(y.f&(ue|Ce))===0&&(B===null?oi([t]):B.push(t))}return n}function xt(t){G(t,t.v+1)}function rs(t,n){var e=t.reactions;if(e!==null)for(var s=et(),r=e.length,i=0;i<r;i++){var o=e[i],a=o.f;!s&&o===y||((a&q)===0&&T(o,n),(a&H)!==0?rs(o,Ee):(a&q)===0&&_e(o))}}function Le(t){if(typeof t!="object"||t===null||Ie in t)return t;const n=qt(t);if(n!==vr&&n!==_r)return t;var e=new Map,s=qn(t),r=ie(0),i=ye,o=a=>{if(ye===i)return a();var l=m,c=ye;J(null),yn(i);var d=a();return J(l),yn(c),d};return s&&e.set("length",ie(t.length)),new Proxy(t,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Mr();var d=e.get(l);return d===void 0?d=o(()=>{var u=ie(c.value);return e.set(l,u),u}):G(d,c.value,!0),!0},deleteProperty(a,l){var c=e.get(l);if(c===void 0){if(l in a){const d=o(()=>ie($));e.set(l,d),xt(r)}}else G(c,$),xt(r);return!0},get(a,l,c){var p;if(l===Ie)return t;var d=e.get(l),u=l in a;if(d===void 0&&(!u||(p=ge(a,l))!=null&&p.writable)&&(d=o(()=>{var v=Le(u?a[l]:$),g=ie(v);return g}),e.set(l,d)),d!==void 0){var f=L(d);return f===$?void 0:f}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var d=e.get(l);d&&(c.value=L(d))}else if(c===void 0){var u=e.get(l),f=u==null?void 0:u.v;if(u!==void 0&&f!==$)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(a,l){var f;if(l===Ie)return!0;var c=e.get(l),d=c!==void 0&&c.v!==$||Reflect.has(a,l);if(c!==void 0||y!==null&&(!d||(f=ge(a,l))!=null&&f.writable)){c===void 0&&(c=o(()=>{var p=d?Le(a[l]):$,v=ie(p);return v}),e.set(l,c));var u=L(c);if(u===$)return!1}return d},set(a,l,c,d){var w;var u=e.get(l),f=l in a;if(s&&l==="length")for(var p=c;p<u.v;p+=1){var v=e.get(p+"");v!==void 0?G(v,$):p in a&&(v=o(()=>ie($)),e.set(p+"",v))}if(u===void 0)(!f||(w=ge(a,l))!=null&&w.writable)&&(u=o(()=>ie(void 0)),G(u,Le(c)),e.set(l,u));else{f=u.v!==$;var g=o(()=>Le(c));G(u,g)}var b=Reflect.getOwnPropertyDescriptor(a,l);if(b!=null&&b.set&&b.set.call(d,c),!f){if(s&&typeof l=="string"){var E=e.get("length"),C=Number(l);Number.isInteger(C)&&C>=E.v&&G(E,C+1)}xt(r)}return!0},ownKeys(a){L(r);var l=Reflect.ownKeys(a).filter(u=>{var f=e.get(u);return f===void 0||f.v!==$});for(var[c,d]of e)d.v!==$&&!(c in a)&&l.push(c);return l},setPrototypeOf(){Ir()}})}var gn,is,os,as;function At(){if(gn===void 0){gn=window,is=/Firefox/.test(navigator.userAgent);var t=Element.prototype,n=Node.prototype,e=Text.prototype;os=ge(n,"firstChild").get,as=ge(n,"nextSibling").get,dn(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),dn(e)&&(e.__t=void 0)}}function pt(t=""){return document.createTextNode(t)}function be(t){return os.call(t)}function We(t){return as.call(t)}function X(t,n){if(!k)return be(t);var e=be(x);if(e===null)e=x.appendChild(pt());else if(n&&e.nodeType!==Un){var s=pt();return e==null||e.before(s),we(s),s}return we(e),e}function Vr(t,n){if(!k){var e=be(t);return e instanceof Comment&&e.data===""?We(e):e}return x}function j(t,n=1,e=!1){let s=k?x:t;for(var r;n--;)r=s,s=We(s);if(!k)return s;if(e&&(s==null?void 0:s.nodeType)!==Un){var i=pt();return s===null?r==null||r.after(i):s.before(i),we(i),i}return we(s),s}function jr(t){t.textContent=""}function ls(t){y===null&&m===null&&$r(),m!==null&&(m.f&U)!==0&&y===null&&Sr(),ke&&kr()}function Yr(t,n){var e=n.last;e===null?n.last=n.first=t:(e.next=t,t.prev=e,n.last=t)}function ne(t,n,e,s=!0){var r=y;r!==null&&(r.f&De)!==0&&(t|=De);var i={ctx:S,deps:null,nodes_start:null,nodes_end:null,f:t|q,first:null,fn:n,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(e)try{je(i),i.f|=Ht}catch(l){throw de(i),l}else n!==null&&_e(i);var o=e&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&Wt)===0;if(!o&&s&&(r!==null&&Yr(i,r),m!==null&&(m.f&H)!==0)){var a=m;(a.effects??(a.effects=[])).push(i)}return i}function Xr(t){const n=ne(mt,null,!1);return T(n,R),n.teardown=t,n}function vn(t){ls();var n=y.f,e=!m&&(n&ue)!==0&&(n&Ht)===0;if(e){var s=S;(s.e??(s.e=[])).push(t)}else return cs(t)}function cs(t){return ne(Wn|Bt,t,!1)}function Gr(t){return ls(),ne(mt|Bt,t,!0)}function Zr(t){qe.ensure();const n=ne(Ce,t,!0);return()=>{de(n)}}function Jr(t){qe.ensure();const n=ne(Ce,t,!0);return(e={})=>new Promise(s=>{e.outro?si(n,()=>{de(n),s(void 0)}):(de(n),s(void 0))})}function Qr(t){return ne(Ft|Wt,t,!0)}function Kr(t,n=0){return ne(mt|n,t,!0)}function ds(t,n=[],e=[]){Br(n,e,s=>{ne(mt,()=>t(...s.map(L)),!0)})}function ei(t,n=!0){return ne(ue,t,!0,n)}function hs(t){var n=t.teardown;if(n!==null){const e=ke,s=m;mn(!0),J(null);try{n.call(null)}finally{mn(e),J(s)}}}function us(t,n=!1){var r;var e=t.first;for(t.first=t.last=null;e!==null;){(r=e.ac)==null||r.abort(Ut);var s=e.next;(e.f&Ce)!==0?e.parent=null:de(e,n),e=s}}function ti(t){for(var n=t.first;n!==null;){var e=n.next;(n.f&ue)===0&&de(n),n=e}}function de(t,n=!0){var e=!1;(n||(t.f&br)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(ni(t.nodes_start,t.nodes_end),e=!0),us(t,n&&!e),vt(t,0),T(t,xe);var s=t.transitions;if(s!==null)for(const i of s)i.stop();hs(t);var r=t.parent;r!==null&&r.first!==null&&fs(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function ni(t,n){for(;t!==null;){var e=t===n?null:We(t);t.remove(),t=e}}function fs(t){var n=t.parent,e=t.prev,s=t.next;e!==null&&(e.next=s),s!==null&&(s.prev=e),n!==null&&(n.first===t&&(n.first=s),n.last===t&&(n.last=e))}function si(t,n){var e=[];ps(t,e,!0),ri(e,()=>{de(t),n&&n()})}function ri(t,n){var e=t.length;if(e>0){var s=()=>--e||n();for(var r of t)r.out(s)}else n()}function ps(t,n,e){if((t.f&De)===0){if(t.f^=De,t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&n.push(o);for(var s=t.first;s!==null;){var r=s.next,i=(s.f&wr)!==0||(s.f&ue)!==0;ps(s,n,i?e:!1),s=r}}}let Ae=!1;function _n(t){Ae=t}let ke=!1;function mn(t){ke=t}let m=null,Z=!1;function J(t){m=t}let y=null;function he(t){y=t}let P=null;function ii(t){m!==null&&(P===null?P=[t]:P.push(t))}let N=null,D=0,B=null;function oi(t){B=t}let gt=1,Xe=0,ye=Xe;function yn(t){ye=t}let ce=!1;function gs(){return++gt}function bt(t){var u;var n=t.f;if((n&q)!==0)return!0;if((n&Ee)!==0){var e=t.deps,s=(n&U)!==0;if(e!==null){var r,i,o=(n&ht)!==0,a=s&&y!==null&&!ce,l=e.length;if((o||a)&&(y===null||(y.f&xe)===0)){var c=t,d=c.parent;for(r=0;r<l;r++)i=e[r],(o||!((u=i==null?void 0:i.reactions)!=null&&u.includes(c)))&&(i.reactions??(i.reactions=[])).push(c);o&&(c.f^=ht),a&&d!==null&&(d.f&U)===0&&(c.f^=U)}for(r=0;r<l;r++)if(i=e[r],bt(i)&&Qn(i),i.wv>t.wv)return!0}(!s||y!==null&&!ce)&&T(t,R)}return!1}function vs(t,n,e=!0){var s=t.reactions;if(s!==null&&!(P!=null&&P.includes(t)))for(var r=0;r<s.length;r++){var i=s[r];(i.f&H)!==0?vs(i,n,!1):n===i&&(e?T(i,q):(i.f&R)!==0&&T(i,Ee),_e(i))}}function _s(t){var v;var n=N,e=D,s=B,r=m,i=ce,o=P,a=S,l=Z,c=ye,d=t.f;N=null,D=0,B=null,ce=(d&U)!==0&&(Z||!Ae||m===null),m=(d&(ue|Ce))===0?t:null,P=null,ut(t.ctx),Z=!1,ye=++Xe,t.ac!==null&&(t.ac.abort(Ut),t.ac=null);try{t.f|=Rt;var u=(0,t.fn)(),f=t.deps;if(N!==null){var p;if(vt(t,D),f!==null&&D>0)for(f.length=D+N.length,p=0;p<N.length;p++)f[D+p]=N[p];else t.deps=f=N;if(!ce||(d&H)!==0&&t.reactions!==null)for(p=D;p<f.length;p++)((v=f[p]).reactions??(v.reactions=[])).push(t)}else f!==null&&D<f.length&&(vt(t,D),f.length=D);if(et()&&B!==null&&!Z&&f!==null&&(t.f&(H|Ee|q))===0)for(p=0;p<B.length;p++)vs(B[p],t);return r!==null&&r!==t&&(Xe++,B!==null&&(s===null?s=B:s.push(...B))),(t.f&ve)!==0&&(t.f^=ve),u}catch(g){return Or(g)}finally{t.f^=Rt,N=n,D=e,B=s,m=r,ce=i,P=o,ut(a),Z=l,ye=c}}function ai(t,n){let e=n.reactions;if(e!==null){var s=pr.call(e,t);if(s!==-1){var r=e.length-1;r===0?e=n.reactions=null:(e[s]=e[r],e.pop())}}e===null&&(n.f&H)!==0&&(N===null||!N.includes(n))&&(T(n,Ee),(n.f&(U|ht))===0&&(n.f^=ht),Jn(n),vt(n,0))}function vt(t,n){var e=t.deps;if(e!==null)for(var s=n;s<e.length;s++)ai(t,e[s])}function je(t){var n=t.f;if((n&xe)===0){T(t,R);var e=y,s=Ae;y=t,Ae=!0;try{(n&yt)!==0?ti(t):us(t),hs(t);var r=_s(t);t.teardown=typeof r=="function"?r:null,t.wv=gt;var i;Dn&&or&&(t.f&q)!==0&&t.deps}finally{Ae=s,y=e}}}function L(t){var n=t.f,e=(n&H)!==0;if(m!==null&&!Z){var s=y!==null&&(y.f&xe)!==0;if(!s&&!(P!=null&&P.includes(t))){var r=m.deps;if((m.f&Rt)!==0)t.rv<Xe&&(t.rv=Xe,N===null&&r!==null&&r[D]===t?D++:N===null?N=[t]:(!ce||!N.includes(t))&&N.push(t));else{(m.deps??(m.deps=[])).push(t);var i=t.reactions;i===null?t.reactions=[m]:i.includes(m)||i.push(m)}}}else if(e&&t.deps===null&&t.effects===null){var o=t,a=o.parent;a!==null&&(a.f&U)===0&&(o.f^=U)}if(ke){if(me.has(t))return me.get(t);if(e){o=t;var l=o.v;return((o.f&R)===0&&o.reactions!==null||ms(o))&&(l=Jt(o)),me.set(o,l),l}}else if(e){if(o=t,le!=null&&le.has(o))return le.get(o);bt(o)&&Qn(o)}if((t.f&ve)!==0)throw t.v;return t.v}function ms(t){if(t.v===$)return!0;if(t.deps===null)return!1;for(const n of t.deps)if(me.has(n)||(n.f&H)!==0&&ms(n))return!0;return!1}function li(t){var n=Z;try{return Z=!0,t()}finally{Z=n}}const ci=-7169;function T(t,n){t.f=t.f&ci|n}function di(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Ie in t)Nt(t);else if(!Array.isArray(t))for(let n in t){const e=t[n];typeof e=="object"&&e&&Ie in e&&Nt(e)}}}function Nt(t,n=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!n.has(t)){n.add(t),t instanceof Date&&t.getTime();for(let s in t)try{Nt(t[s],n)}catch{}const e=qt(t);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const s=Hn(e);for(let r in s){const i=s[r].get;if(i)try{i.call(t)}catch{}}}}}function hi(t){var n=m,e=y;J(null),he(null);try{return t()}finally{J(n),he(e)}}const ui=new Set,wn=new Set;function fi(t,n,e,s={}){function r(i){if(s.capture||Fe.call(n,i),!i.cancelBubble)return hi(()=>e==null?void 0:e.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Gn(()=>{n.addEventListener(t,r,s)}):n.addEventListener(t,r,s),r}function bn(t,n,e,s,r){var i={capture:s,passive:r},o=fi(t,n,e,i);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&Xr(()=>{n.removeEventListener(t,o,i)})}function Fe(t){var C;var n=this,e=n.ownerDocument,s=t.type,r=((C=t.composedPath)==null?void 0:C.call(t))||[],i=r[0]||t.target,o=0,a=t.__root;if(a){var l=r.indexOf(a);if(l!==-1&&(n===document||n===window)){t.__root=n;return}var c=r.indexOf(n);if(c===-1)return;l<=c&&(o=l)}if(i=r[o]||t.target,i!==n){ze(t,"currentTarget",{configurable:!0,get(){return i||e}});var d=m,u=y;J(null),he(null);try{for(var f,p=[];i!==null;){var v=i.assignedSlot||i.parentNode||i.host||null;try{var g=i["__"+s];if(g!=null&&(!i.disabled||t.target===i))if(qn(g)){var[b,...E]=g;b.apply(i,[t,...E])}else g.call(i,t)}catch(w){f?p.push(w):f=w}if(t.cancelBubble||v===n||v===null)break;i=v}if(f){for(let w of p)queueMicrotask(()=>{throw w});throw f}}finally{t.__root=n,delete t.currentTarget,J(d),he(u)}}}function ys(t){var n=document.createElement("template");return n.innerHTML=t.replaceAll("<!>","<!---->"),n.content}function Ge(t,n){var e=y;e.nodes_start===null&&(e.nodes_start=t,e.nodes_end=n)}function pi(t,n){var e=(n&dr)!==0,s,r=!t.startsWith("<!>");return()=>{if(k)return Ge(x,null),x;s===void 0&&(s=ys(r?t:"<!>"+t));var i=e||is?document.importNode(s,!0):s.cloneNode(!0);{var o=be(i),a=i.lastChild;Ge(o,a)}return i}}function gi(t,n,e="svg"){var s=!t.startsWith("<!>"),r=`<${e}>${s?t:"<!>"+t}</${e}>`,i;return()=>{if(k)return Ge(x,null),x;if(!i){var o=ys(r),a=be(o);i=be(a)}var l=i.cloneNode(!0);return Ge(l,l),l}}function vi(t,n){return gi(t,n,"svg")}function Kt(t,n){if(k){y.nodes_end=x,jt();return}t!==null&&t.before(n)}const _i=["touchstart","touchmove"];function mi(t){return _i.includes(t)}function Pt(t,n){var e=n==null?"":typeof n=="object"?n+"":n;e!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=e,t.nodeValue=e+"")}function ws(t,n){return bs(t,n)}function yi(t,n){At(),n.intro=n.intro??!1;const e=n.target,s=k,r=x;try{for(var i=be(e);i&&(i.nodeType!==un||i.data!==hr);)i=We(i);if(!i)throw Ve;st(!0),we(i),jt();const o=bs(t,{...n,anchor:i});if(x===null||x.nodeType!==un||x.data!==ur)throw Vt(),Ve;return st(!1),o}catch(o){if(o===Ve)return n.recover===!1&&Tr(),At(),jr(e),st(!1),ws(t,n);throw o}finally{st(s),we(r)}}const Re=new Map;function bs(t,{target:n,anchor:e,props:s={},events:r,context:i,intro:o=!0}){At();var a=new Set,l=u=>{for(var f=0;f<u.length;f++){var p=u[f];if(!a.has(p)){a.add(p);var v=mi(p);n.addEventListener(p,Fe,{passive:v});var g=Re.get(p);g===void 0?(document.addEventListener(p,Fe,{passive:v}),Re.set(p,1)):Re.set(p,g+1)}}};l(gr(ui)),wn.add(l);var c=void 0,d=Jr(()=>{var u=e??n.appendChild(pt());return ei(()=>{if(i){Yt({});var f=S;f.c=i}r&&(s.$$events=r),k&&Ge(u,null),c=t(u,s)||{},k&&(y.nodes_end=x),i&&Xt()}),()=>{var v;for(var f of a){n.removeEventListener(f,Fe);var p=Re.get(f);--p===0?(document.removeEventListener(f,Fe),Re.delete(f)):Re.set(f,p)}wn.delete(l),u!==e&&((v=u.parentNode)==null||v.removeChild(u))}});return Ot.set(c,d),c}let Ot=new WeakMap;function wi(t,n){const e=Ot.get(t);return e?(Ot.delete(t),e(n)):Promise.resolve()}function bi(t,n,e,s,r){var a;k&&jt();var i=(a=n.$$slots)==null?void 0:a[e],o=!1;i===!0&&(i=n.children,o=!0),i===void 0||i(t,o?()=>s:s)}function Cs(t,n){Gn(()=>{var e=t.getRootNode(),s=e.host?e:e.head??e.ownerDocument.head;if(!s.querySelector("#"+n.hash)){const r=document.createElement("style");r.id=n.hash,r.textContent=n.code,s.appendChild(r)}})}const Cn=[...` 	
\r\f \v\uFEFF`];function Ci(t,n,e){var s=t==null?"":""+t;if(e){for(var r in e)if(e[r])s=s?s+" "+r:r;else if(s.length)for(var i=r.length,o=0;(o=s.indexOf(r,o))>=0;){var a=o+i;(o===0||Cn.includes(s[o-1]))&&(a===s.length||Cn.includes(s[a]))?s=(o===0?"":s.substring(0,o))+s.substring(a+1):o=a}}return s===""?null:s}function Ei(t,n){return t==null?null:String(t)}function En(t,n,e,s,r,i){var o=t.__className;if(k||o!==e||o===void 0){var a=Ci(e,s,i);(!k||a!==t.getAttribute("class"))&&(a==null?t.removeAttribute("class"):t.className=a),t.__className=e}else if(i&&r!==i)for(var l in i){var c=!!i[l];(r==null||c!==!!r[l])&&t.classList.toggle(l,c)}return i}function xi(t,n,e,s){var r=t.__style;if(k||r!==n){var i=Ei(n);(!k||i!==t.getAttribute("style"))&&(i==null?t.removeAttribute("style"):t.style.cssText=i),t.__style=n}return s}const ki=Symbol("is custom element"),Si=Symbol("is html");function A(t,n,e,s){var r=$i(t);k&&(r[n]=t.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&t.nodeName==="LINK")||r[n]!==(r[n]=e)&&(n==="loading"&&(t[Cr]=e),e==null?t.removeAttribute(n):typeof e!="string"&&Ri(t).includes(n)?t[n]=e:t.setAttribute(n,e))}function $i(t){return t.__attributes??(t.__attributes={[ki]:t.nodeName.includes("-"),[Si]:t.namespaceURI===fr})}var xn=new Map;function Ri(t){var n=xn.get(t.nodeName);if(n)return n;xn.set(t.nodeName,n=[]);for(var e,s=t,r=Element.prototype;r!==s;){e=Hn(s);for(var i in e)e[i].set&&n.push(i);s=qt(s)}return n}function Ti(t=!1){const n=S,e=n.l.u;if(!e)return;let s=()=>di(n.s);if(t){let r=0,i={};const o=Zt(()=>{let a=!1;const l=n.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],a=!0);return a&&r++,r});s=()=>L(o)}e.b.length&&Gr(()=>{kn(n,s),dt(e.b)}),vn(()=>{const r=li(()=>e.m.map(mr));return()=>{for(const i of r)typeof i=="function"&&i()}}),e.a.length&&vn(()=>{kn(n,s),dt(e.a)})}function kn(t,n){if(t.l.s)for(const e of t.l.s)L(e);n()}let it=!1;function Li(t){var n=it;try{return it=!1,[t(),it]}finally{it=n}}function Q(t,n,e,s){var C;var r=!Ke||(e&lr)!==0,i=(e&cr)!==0,o=s,a=!0,l=()=>(a&&(a=!1,o=s),o),c;{var d=Ie in t||Fn in t;c=((C=ge(t,n))==null?void 0:C.set)??(d&&n in t?w=>t[n]=w:void 0)}var u,f=!1;[u,f]=Li(()=>t[n]),u===void 0&&s!==void 0&&(u=l(),c&&(r&&Lr(),c(u)));var p;if(r?p=()=>{var w=t[n];return w===void 0?l():(a=!0,w)}:p=()=>{var w=t[n];return w!==void 0&&(o=void 0),w===void 0?o:w},c){var v=t.$$legacy;return function(w,O){return arguments.length>0?((!r||!O||v||f)&&c(O?p():w),w):p()}}var g=!1,b=Zn(()=>(g=!1,p()));L(b);var E=y;return function(w,O){if(arguments.length>0){const se=O?L(b):r&&i?Le(w):w;return G(b,se),g=!0,o!==void 0&&(o=se),w}return ke&&g||(E.f&xe)!==0?b.v:L(b)}}function Mi(t){return new Ii(t)}var ee,F;class Ii{constructor(n){I(this,ee);I(this,F);var i;var e=new Map,s=(o,a)=>{var l=ss(a,!1,!1);return e.set(o,l),l};const r=new Proxy({...n.props||{},$$events:{}},{get(o,a){return L(e.get(a)??s(a,Reflect.get(o,a)))},has(o,a){return a===Fn?!0:(L(e.get(a)??s(a,Reflect.get(o,a))),Reflect.has(o,a))},set(o,a,l){return G(e.get(a)??s(a,l),l),Reflect.set(o,a,l)}});z(this,F,(n.hydrate?yi:ws)(n.component,{target:n.target,anchor:n.anchor,props:r,context:n.context,intro:n.intro??!1,recover:n.recover})),(!((i=n==null?void 0:n.props)!=null&&i.$$host)||n.sync===!1)&&V(),z(this,ee,r.$$events);for(const o of Object.keys(_(this,F)))o==="$set"||o==="$destroy"||o==="$on"||ze(this,o,{get(){return _(this,F)[o]},set(a){_(this,F)[o]=a},enumerable:!0});_(this,F).$set=o=>{Object.assign(r,o)},_(this,F).$destroy=()=>{wi(_(this,F))}}$set(n){_(this,F).$set(n)}$on(n,e){_(this,ee)[n]=_(this,ee)[n]||[];const s=(...r)=>e.call(this,...r);return _(this,ee)[n].push(s),()=>{_(this,ee)[n]=_(this,ee)[n].filter(r=>r!==s)}}$destroy(){_(this,F).$destroy()}}ee=new WeakMap,F=new WeakMap;let Es;typeof HTMLElement=="function"&&(Es=class extends HTMLElement{constructor(n,e,s){super();h(this,"$$ctor");h(this,"$$s");h(this,"$$c");h(this,"$$cn",!1);h(this,"$$d",{});h(this,"$$r",!1);h(this,"$$p_d",{});h(this,"$$l",{});h(this,"$$l_u",new Map);h(this,"$$me");this.$$ctor=n,this.$$s=e,s&&this.attachShadow({mode:"open"})}addEventListener(n,e,s){if(this.$$l[n]=this.$$l[n]||[],this.$$l[n].push(e),this.$$c){const r=this.$$c.$on(n,e);this.$$l_u.set(e,r)}super.addEventListener(n,e,s)}removeEventListener(n,e,s){if(super.removeEventListener(n,e,s),this.$$c){const r=this.$$l_u.get(e);r&&(r(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(r){return i=>{const o=document.createElement("slot");r!=="default"&&(o.name=r),Kt(i,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const e={},s=Ai(this);for(const r of this.$$s)r in s&&(r==="default"&&!this.$$d.children?(this.$$d.children=n(r),e.default=!0):e[r]=n(r));for(const r of this.attributes){const i=this.$$g_p(r.name);i in this.$$d||(this.$$d[i]=at(i,r.value,this.$$p_d,"toProp"))}for(const r in this.$$p_d)!(r in this.$$d)&&this[r]!==void 0&&(this.$$d[r]=this[r],delete this[r]);this.$$c=Mi({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$host:this}}),this.$$me=Zr(()=>{Kr(()=>{var r;this.$$r=!0;for(const i of ct(this.$$c)){if(!((r=this.$$p_d[i])!=null&&r.reflect))continue;this.$$d[i]=this.$$c[i];const o=at(i,this.$$d[i],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,o)}this.$$r=!1})});for(const r in this.$$l)for(const i of this.$$l[r]){const o=this.$$c.$on(r,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(n,e,s){var r;this.$$r||(n=this.$$g_p(n),this.$$d[n]=at(n,s,this.$$p_d,"toProp"),(r=this.$$c)==null||r.$set({[n]:this.$$d[n]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(n){return ct(this.$$p_d).find(e=>this.$$p_d[e].attribute===n||!this.$$p_d[e].attribute&&e.toLowerCase()===n)||n}});function at(t,n,e,s){var i;const r=(i=e[t])==null?void 0:i.type;if(n=r==="Boolean"&&typeof n!="boolean"?n!=null:n,!s||!e[t])return n;if(s==="toAttribute")switch(r){case"Object":case"Array":return n==null?null:JSON.stringify(n);case"Boolean":return n?"":null;case"Number":return n??null;default:return n}else switch(r){case"Object":case"Array":return n&&JSON.parse(n);case"Boolean":return n;case"Number":return n!=null?+n:n;default:return n}}function Ai(t){const n={};return t.childNodes.forEach(e=>{n[e.slot||"default"]=!0}),n}function xs(t,n,e,s,r,i){let o=class extends Es{constructor(){super(t,e,r),this.$$p_d=n}static get observedAttributes(){return ct(n).map(a=>(n[a].attribute||a).toLowerCase())}};return ct(n).forEach(a=>{ze(o.prototype,a,{get(){return this.$$c&&a in this.$$c?this.$$c[a]:this.$$d[a]},set(l){var u;l=at(a,l,n),this.$$d[a]=l;var c=this.$$c;if(c){var d=(u=ge(c,a))==null?void 0:u.get;d?c[a]=l:c.$set({[a]:l})}}})}),s.forEach(a=>{ze(o.prototype,a,{get(){var l;return(l=this.$$c)==null?void 0:l[a]}})}),t.element=o,o}var Ni=pi('<button class="header svelte-188d8wh"><span><svg viewBox="0 0 16 16" fill="none" width="16" height="16"><path d="M5 6l3 3 3-3" stroke="#aaa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span> <span class="header-text"> </span></button> <div><!></div>',1);const Pi={hash:"svelte-188d8wh",code:`:host {display:block;border:1px solid var(--dark-background-l);border-radius:4px;overflow:hidden;background:var(--dark-background);width:50%;max-width:700px;}.header.svelte-188d8wh {display:flex;align-items:center;cursor:pointer;padding:1rem;background:var(--dark-background-e);border:none;font-family:var(--global-font);width:100%;}.caret.svelte-188d8wh {transition:transform 0.2s;margin-right:1rem;width:1em;height:1em;display:inline-block;vertical-align:middle;transform:rotate(-90deg);}:host([expanded]) .caret.svelte-188d8wh,\r
.caret.expanded.svelte-188d8wh {transform:rotate(0deg);}.content.svelte-188d8wh {padding:1rem;display:none;}.content.expanded.svelte-188d8wh {display:block;}`};function Oi(t,n){Yt(n,!1),Cs(t,Pi);let e=Q(n,"header",12,""),s=ss(!1);function r(){G(s,!L(s))}var i=Ni(),o=Vr(i),a=X(o);let l;var c=j(a,2),d=X(c,!0);Y(c),Y(o);var u=j(o,2);let f;var p=X(u);return bi(p,n,"default",{}),Y(u),ds((v,g)=>{A(o,"aria-expanded",L(s)),l=En(a,1,"caret svelte-188d8wh",null,l,v),Pt(d,e()),f=En(u,1,"content svelte-188d8wh",null,f,g)},[()=>({expanded:L(s)}),()=>({expanded:L(s)})]),bn("click",o,r),bn("keydown",o,v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),r())}),Kt(t,i),Xt({get header(){return e()},set header(v){e(v),V()}})}customElements.define("collapse-view",xs(Oi,{header:{}},["default"],[],!0));var zi=vi('<svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" class="svelte-z14osc"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%"></stop><stop offset="100%"></stop></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%"></stop><stop offset="100%"></stop></linearGradient><filter x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="5" dy="5" stdDeviation="10" flood-color="rgba(0,0,0,0.5)"></feDropShadow></filter><filter x="-50%" y="-50%" width="200%" height="200%"><feDropShadow dx="25" dy="25" stdDeviation="25" flood-color="rgba(0,0,0,0.75)"></feDropShadow></filter></defs><g><rect x="0" y="0" width="300" height="300"></rect></g><text x="155" y="170" text-anchor="middle" dominant-baseline="middle" font-size="180" opacity="1.0"> </text><text x="150" y="165" text-anchor="middle" dominant-baseline="middle" font-size="180" stroke="rgba(255,255,255,0.3)" stroke-width="1"> </text></svg>');const Di={hash:"svelte-z14osc",code:":host {display:inline-block;}svg.svelte-z14osc {filter:none;}"};function qi(t,n){Yt(n,!1),Cs(t,Di);let e=Q(n,"text",12,"Hz"),s=Q(n,"size",12,300),r=Q(n,"radius",12,"0.5rem"),i=Q(n,"shadowColor",12,"var(--haze-color-shadow)"),o=Q(n,"foregroundTopColor",12,"var(--haze-color-foreground-top)"),a=Q(n,"foregroundBottomColor",12,"var(--haze-color-foreground-bottom)"),l=Q(n,"backgroundTopColor",12,"var(--haze-color-background-top)"),c=Q(n,"backgroundBottomColor",12,"var(--haze-color-background-bottom)");const d=Math.random().toString(36).substring(2,9),u=`bgGradient-${d}`,f=`textGradient-${d}`,p=`dropShadow-${d}`,v=`richShadow-${d}`;Ti();var g=zi(),b=X(g),E=X(b),C=X(E),w=j(C);Y(E);var O=j(E),se=X(O),Ct=j(se);Y(O);var Se=j(O),$e=j(Se);Y(b);var re=j(b),$s=X(re);Y(re);var tt=j(re),Rs=X(tt,!0);Y(tt);var nt=j(tt),Ts=X(nt,!0);return Y(nt),Y(g),ds(()=>{xi(g,r()?`border-radius: ${r()};`:""),A(g,"width",s()),A(g,"height",s()),A(E,"id",u),A(C,"stop-color",l()),A(w,"stop-color",c()),A(O,"id",f),A(se,"stop-color",o()),A(Ct,"stop-color",a()),A(Se,"id",p),A($e,"id",v),A($s,"fill",`url(#${u})`),A(tt,"fill",i()),Pt(Rs,e()),A(nt,"fill",`url(#${f})`),A(nt,"filter",`url(#${p}) url(#${v})`),Pt(Ts,e())}),Kt(t,g),Xt({get text(){return e()},set text(M){e(M),V()},get size(){return s()},set size(M){s(M),V()},get radius(){return r()},set radius(M){r(M),V()},get shadowColor(){return i()},set shadowColor(M){i(M),V()},get foregroundTopColor(){return o()},set foregroundTopColor(M){o(M),V()},get foregroundBottomColor(){return a()},set foregroundBottomColor(M){a(M),V()},get backgroundTopColor(){return l()},set backgroundTopColor(M){l(M),V()},get backgroundBottomColor(){return c()},set backgroundBottomColor(M){c(M),V()}})}customElements.define("symbol-icon",xs(qi,{text:{},size:{},radius:{},shadowColor:{},foregroundTopColor:{},foregroundBottomColor:{},backgroundTopColor:{},backgroundBottomColor:{}},[],[],!0));const ks="pane-visibility";function Hi(){const t=localStorage.getItem(ks);if(t)try{const n=JSON.parse(t);if(Array.isArray(n))return n}catch{}return null}function Sn(t){localStorage.setItem(ks,JSON.stringify(t))}window.addEventListener("DOMContentLoaded",()=>{const t=Array.from(document.querySelectorAll("symbol-toggle")),n=document.querySelector("pane-view");let e=Hi();(!e||e.length!==t.length)&&(e=Array(t.length).fill(!0),Sn(e)),t.forEach((l,c)=>{l.checked=e[c]??!0,l.addEventListener("toggle-change",d=>{e[c]=d.detail.checked,Sn(e),n.setVisiblePanes(e)})}),n.setVisiblePanes(e);const s=n.querySelector("#source-pane source-editor");s&&(s.attachEventListeners(),s.initialize("file:///C:/source.hz",St,Ue)),n.querySelector("program-tree");const r=n.querySelector("#ir-pane source-editor");r&&(r.attachEventListeners(),r.initialize("file:///C:/ir.hzi",St,Ue));const i=n.querySelector("#asm-pane source-editor");i&&(i.attachEventListeners(),i.initialize("file:///C:/asm.hzs",St,Ue));const o=new Uint8Array([72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33]),a=n.querySelector("hex-viewer");a&&a.initialize("file:///program.exe",o,16,Ue)});const He=document.querySelector("output-window");He.messages=[];He.visible=!1;var ot;const Wi=()=>{He.visible=!0,ot!==void 0&&clearTimeout(ot),ot=window.setTimeout(()=>{He.visible=!1,ot=void 0},3e3)};let kt=1;const St={notify:t=>{console.log(t);const n=[...He.messages];n.length>0&&n[n.length-1].rawText===t?(kt++,n[n.length-1].text=`${t} [x${kt}]`):(kt=1,n.push({id:Date.now().toString(),text:t,rawText:t,visible:!0})),He.messages=n,Wi()}},Bi=new Worker(new URL("/assets/LanguageServerWorker-BOXhEwlU.js",import.meta.url),{type:"module"}),Ue=new Worker(new URL("/assets/LanguageClientWorker-2arvf2PA.js",import.meta.url),{type:"module"}),Ss=new MessageChannel,zt=Ss.port1,Dt=Ss.port2;Bi.postMessage({type:"connect",port:zt},[zt]);Ue.postMessage({type:"connect",port:Dt},[Dt]);zt.start();Dt.start();
