var Ss=Object.defineProperty;var Vn=e=>{throw TypeError(e)};var Ts=(e,n,t)=>n in e?Ss(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var g=(e,n,t)=>Ts(e,typeof n!="symbol"?n+"":n,t),rn=(e,n,t)=>n.has(e)||Vn("Cannot "+t);var w=(e,n,t)=>(rn(e,n,"read from private field"),t?t.call(e):n.get(e)),G=(e,n,t)=>n.has(e)?Vn("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),K=(e,n,t,r)=>(rn(e,n,"write to private field"),r?r.call(e,t):n.set(e,t),t),pt=(e,n,t)=>(rn(e,n,"access private method"),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();class $s{constructor(n){g(this,"original");g(this,"addBuffer");g(this,"pieces");this.original=n,this.addBuffer="",this.pieces=[{buffer:"original",start:0,length:n.length}]}insert(n,t){if(t.length===0)return;const r=this.addBuffer.length;this.addBuffer+=t;let s=0,i=0;for(;i<this.pieces.length;i++){const c=this.pieces[i];if(s+c.length>=n)break;s+=c.length}if(i===this.pieces.length){this.pieces.push({buffer:"add",start:r,length:t.length});return}const o=this.pieces[i],a=n-s,l=[];a>0&&l.push({buffer:o.buffer,start:o.start,length:a}),l.push({buffer:"add",start:r,length:t.length}),a<o.length&&l.push({buffer:o.buffer,start:o.start+a,length:o.length-a}),this.pieces.splice(i,1,...l)}delete(n,t){let r=0,s=0;for(;s<this.pieces.length&&r+this.pieces[s].length<=n;)r+=this.pieces[s].length,s++;const i=s,o=n-r;let a=t;const l=[];for(;a>0&&s<this.pieces.length;){const c=this.pieces[s],d=s===i?o:0,h=c.length-d;Math.max(0,c.length-h),d>0&&l.push({buffer:c.buffer,start:c.start,length:d}),h<c.length&&l.push({buffer:c.buffer,start:c.start+d+a,length:c.length-(d+a)}),a-=h,s++}this.pieces.splice(i,s-i,...l)}getText(){let n="";for(const t of this.pieces){const r=t.buffer==="original"?this.original:this.addBuffer;n+=r.substr(t.start,t.length)}return n}}var Yn;(e=>{e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(Yn||(Yn={}));var Xn;(e=>{e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Xn||(Xn={}));var Gn;(e=>{e.None=0,e.Full=1,e.Incremental=2})(Gn||(Gn={}));var Zn;(e=>{e.Text=1,e.Read=2,e.Write=3})(Zn||(Zn={}));var Jn;(e=>{e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Jn||(Jn={}));var Qn;(e=>{e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Qn||(Qn={}));const Ls=`
    .editor-shell {
        position: relative;
        font-family: Consolas;
        height: 300px;
    }
    .highlight-layer, .input-layer {
        white-space: pre-wrap;
        word-break: break-word;
        padding: 8px;
        line-height: 1.5;
        height: 100%;
        min-height: 100%;
        box-sizing: border-box;
    }
    .highlight-layer {
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        pointer-events: none;
        z-index: 1;
        color: #ccc;
        margin: 0;
        padding: 0;
    }
    .input-layer {
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        margin: 0 0 0 2rem;
        padding: 0;
        background: transparent;
        caret-color: var(--accent);
        z-index: 2;
        outline: none;
        user-select: none;
    }
`,_r=new CSSStyleSheet;_r.replaceSync(Ls);const Rs=.2,Ms=3;function zt(e){let n="";return e.childNodes.forEach((t,r,s)=>{t.nodeType===Node.TEXT_NODE?n+=t.data:t.tagName==="BR"?n+=`
`:t.tagName==="DIV"?(n+=zt(t),r<s.length-1&&(n+=`
`)):t.nodeType===Node.ELEMENT_NODE&&(n+=zt(t))}),n}function Kn(e){let n=0;const t=window.getSelection();if(t&&t.rangeCount>0){const r=t.getRangeAt(0),s=r.cloneRange();s.selectNodeContents(e),s.setEnd(r.endContainer,r.endOffset),n=s.toString().length}return n}function Is(e,n){const t=window.getSelection();if(!t)return;let r=0,s=[e],i,o=!1;for(;s.length&&!o&&(i=s.pop(),!!i);)if(i.nodeType===Node.TEXT_NODE){const a=i.length;if(r+a>=n){const l=document.createRange();l.setStart(i,n-r),l.collapse(!0),t.removeAllRanges(),t.addRange(l),o=!0}else r+=a}else{let a=Array.from(i.childNodes);for(let l=a.length-1;l>=0;l--)s.push(a[l])}}class As extends HTMLElement{constructor(){super();g(this,"_pieceTable");g(this,"_consoleListener",null);g(this,"_inputRef",null);g(this,"_highlightRef",null);g(this,"_sourceUri","");g(this,"_lastText","");g(this,"_client",null);g(this,"_hasInitialized",!1);g(this,"_editorZoom",1);g(this,"_cursorLine",null);g(this,"_cursorColumn",null);g(this,"_lastCaretOffset",null);g(this,"_zoomPlugin");g(this,"_boundInputCallback",this.inputCallback.bind(this));g(this,"_boundScrollCallback",this.scrollCallback.bind(this));g(this,"_boundKeydownCallback",this.keydownCallback.bind(this));g(this,"_boundWheelCallback",this.wheelCallback.bind(this));this._pieceTable=new $s("function nvr main = () {}"),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[_r]}connectedCallback(){const t=this.getAttribute("data-plugin")||"";t&&(this._zoomPlugin=document.querySelector(`#${t}`))}disconnectedCallback(){var t;(t=this._client)==null||t.postMessage({type:"execute",method:"closeDocument",params:{uri:this._sourceUri}})}initialize(t,r,s){var i;this._hasInitialized=!0,this._consoleListener||(this._consoleListener=r),s&&(this._client=s,this._client.addEventListener("message",o=>{var a,l,c;o.data.type==="log"?(a=this._consoleListener)==null||a.notify(o.data.message):o.data.type==="error"?(l=this._consoleListener)==null||l.notify(o.data.message):o.data.type==="compileResult"&&((c=this._consoleListener)==null||c.notify(JSON.stringify(o.data.result)))}),this._client.addEventListener("messageerror",o=>{var a;(a=this._consoleListener)==null||a.notify(o.data)}),this._sourceUri=t),(i=this._client)==null||i.postMessage({type:"execute",method:"openDocument",params:{uri:this._sourceUri,sourceCode:this._pieceTable.getText()}}),this.render()}inputCallback(t){this.handleInputChange(t)}scrollCallback(t){this.syncScroll()}keydownCallback(t){this.handleKeyDown(t)}wheelCallback(t){if(t.shiftKey){t.preventDefault();const r=-t.deltaY*.001;let s=this._editorZoom+r;s=Math.max(Rs,Math.min(Ms,s)),this._editorZoom=s,this.updateEditorZoom()}}attachEventListeners(){var t,r,s,i,o,a,l,c;(t=this._inputRef)==null||t.addEventListener("input",this._boundInputCallback),(r=this._inputRef)==null||r.addEventListener("scroll",this._boundScrollCallback),(s=this._inputRef)==null||s.addEventListener("keydown",this._boundKeydownCallback),(i=this._inputRef)==null||i.addEventListener("wheel",this._boundWheelCallback,{passive:!1}),(o=this._inputRef)==null||o.addEventListener("keyup",()=>this.updateCursorPositionCache()),(a=this._inputRef)==null||a.addEventListener("mouseup",()=>this.updateCursorPositionCache()),(l=this._inputRef)==null||l.addEventListener("focus",()=>this.updateCursorPositionCache()),(c=this._inputRef)==null||c.addEventListener("blur",()=>this.updateCursorPositionCache()),document.addEventListener("selectionchange",()=>this.updateCursorPositionCache())}detachEventListeners(){var t,r,s,i,o,a,l,c;(t=this._inputRef)==null||t.removeEventListener("input",this._boundInputCallback),(r=this._inputRef)==null||r.removeEventListener("scroll",this._boundScrollCallback),(s=this._inputRef)==null||s.removeEventListener("keydown",this._boundKeydownCallback),(i=this._inputRef)==null||i.removeEventListener("wheel",this._boundWheelCallback),(o=this._inputRef)==null||o.removeEventListener("keyup",()=>this.updateCursorPositionCache()),(a=this._inputRef)==null||a.removeEventListener("mouseup",()=>this.updateCursorPositionCache()),(l=this._inputRef)==null||l.removeEventListener("focus",()=>this.updateCursorPositionCache()),(c=this._inputRef)==null||c.removeEventListener("blur",()=>this.updateCursorPositionCache()),document.removeEventListener("selectionchange",()=>this.updateCursorPositionCache())}updateCursorPositionCache(){if(!this._inputRef){this._cursorLine=null,this._cursorColumn=null,this._lastCaretOffset=null;return}const t=window.getSelection();if(!t||t.rangeCount===0||!t.isCollapsed){this._cursorLine=null,this._cursorColumn=null,this._lastCaretOffset=null;return}const r=Kn(this._inputRef);if(r===this._lastCaretOffset)return;this._lastCaretOffset=r;const s=zt(this._inputRef);let i=0,o=0,a=0;for(;a<r;a++)s[a]===`
`?(i++,o=0):o++;this._cursorLine=i+1,this._cursorColumn=o+1,this.updateEditorZoom()}showCursorInfo(){return this._cursorLine!==null&&this._cursorColumn!==null?`LN:${this._cursorLine} COL:${this._cursorColumn} | `:""}updateEditorZoom(){const t=Math.floor(this._editorZoom*100);this.style.setProperty("--editor-zoom",`${t}%`),this.shadowRoot&&this.shadowRoot.host.style.setProperty("--editor-zoom",`${t}%`),this._inputRef&&(this._inputRef.style.fontSize=`${this._editorZoom}rem`),this._highlightRef&&(this._highlightRef.style.fontSize=`${this._editorZoom}rem`),this._zoomPlugin.setAttribute("dataPlugin",`${t}%`)}handleInputChange(t){if(!this._inputRef)return;const r=zt(this._inputRef),s=Kn(this._inputRef);let i=0;for(;i<this._lastText.length&&i<r.length&&this._lastText[i]===r[i];)i++;let o=this._lastText.length-1,a=r.length-1;for(;o>=i&&a>=i&&this._lastText[o]===r[a];)o--,a--;o>=i&&this._pieceTable.delete(i,o-i+1),a>=i&&this._pieceTable.insert(i,r.slice(i,a+1)),this._lastText=r,this.renderHighlight([]),Is(this._inputRef,s),this.updateCursorPositionCache()}handleKeyDown(t){t.key==="Tab"&&(t.preventDefault(),document.execCommand("insertText",!1,"    ")),t.key==="Enter"&&(t.preventDefault(),document.execCommand("insertLineBreak")),setTimeout(()=>this.updateCursorPositionCache(),0)}renderHighlight(t){var r;this._highlightRef&&(this._pieceTable.getText(),(r=this._client)==null||r.postMessage({type:"execute",method:"recycle",params:{uri:this._sourceUri,deltas:t}}))}syncScroll(){this._inputRef&&this._highlightRef&&(this._highlightRef.scrollTop=this._inputRef.scrollTop,this._highlightRef.scrollLeft=this._inputRef.scrollLeft)}render(){if(!this._hasInitialized)throw new Error("call initialize() on SourceEditorElement before rendering.");const t=this._pieceTable.getText();this.shadowRoot.innerHTML=`
            <div class="editor-shell">
                <pre class="highlight-layer"></pre>
                <div class="input-layer" contenteditable="true" spellcheck="false"></div>
            </div>
        `,this._highlightRef=this.shadowRoot.querySelector(".highlight-layer"),this._inputRef=this.shadowRoot.querySelector(".input-layer"),this._inputRef&&(this._inputRef.textContent=t,this._lastText=t),this.attachEventListeners(),this.updateEditorZoom(),this.renderHighlight([]),this.updateCursorPositionCache()}}customElements.define("source-editor",As);class Ps{constructor(n=[],t=[]){g(this,"nodes",new Map);g(this,"connections",new Map);n.forEach(r=>this.nodes.set(r.id,r)),t.forEach(r=>this.connect(r.from,r.to))}static connectionKey(n,t){return[n.nodeId,n.clickspotId,t.nodeId,t.clickspotId].sort().join("|")}getNodes(){return Array.from(this.nodes.values())}getAllConnections(){return Array.from(this.connections.values()).flatMap(n=>Array.from(n))}getConnections(n){const t=new Set;for(const r of this.connections.values())for(const s of r)(s.from.nodeId===n||s.to.nodeId===n)&&t.add(s);return t}addNode(n){this.nodes.set(n.id,n)}removeNode(n){this.nodes.delete(n);for(const[t,r]of Array.from(this.connections.entries()))for(const s of r)(s.from.nodeId===t||s.to.nodeId===t)&&r.delete(s),r.size===0&&this.connections.delete(t)}updateNodePosition(n,t){const r=this.nodes.get(n);r&&(r.position=t)}setParent(n,t){const r=this.nodes.get(n);r&&(r.parentId=t)}connect(n,t){var a,l;if(n.nodeId===t.nodeId)return;let r=this.connections.get(n.nodeId);r||(r=new Set,this.connections.set(n.nodeId,r)),r.add({from:n,to:t});const s=document.querySelector("program-tree");s&&(s.setNodeConnected(n.nodeId,n.clickspotId,!0),s.setNodeConnected(t.nodeId,t.clickspotId,!0));var i=(a=this.nodes.get(n.nodeId))==null?void 0:a.clickspots.find(c=>c.id===n.clickspotId);i&&(i.isConnected=!0);var o=(l=this.nodes.get(t.nodeId))==null?void 0:l.clickspots.find(c=>c.id===t.clickspotId);o&&(o.isConnected=!0)}disconnect(n){var s,i;for(const[o,a]of this.connections.entries())for(const l of a)if(l.from.nodeId===n.nodeId&&l.from.clickspotId===n.clickspotId||l.to.nodeId===n.nodeId&&l.to.clickspotId===n.clickspotId){const c=document.querySelector("program-tree");c&&(c.setNodeConnected(l.from.nodeId,l.from.clickspotId,!1),c.setNodeConnected(l.to.nodeId,l.to.clickspotId,!1));var t=(s=this.nodes.get(l.from.nodeId))==null?void 0:s.clickspots.find(d=>d.id===l.from.clickspotId);t&&(t.isConnected=!1);var r=(i=this.nodes.get(l.to.nodeId))==null?void 0:i.clickspots.find(d=>d.id===l.to.clickspotId);r&&(r.isConnected=!1),a.delete(l),a.size===0&&this.connections.delete(o);break}}load(n,t){this.nodes.clear(),this.connections.clear(),n.forEach(r=>this.nodes.set(r.id,r)),t.forEach(r=>this.connect(r.from,r.to))}}const Ns=`
    :host {
        position: absolute;
    }

    .node {
        margin: 1rem;
        height: 100px;
        width: 200px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        -webkit-user-select: none;
        user-select: none;
        background: none;
        border-radius: var(--corner-radius);
        will-change: transform;
    }

    .node-header {
        font-size: 8pt;
        width: 100%;
        border-radius: var(--corner-radius) var(--corner-radius) 0 0;
        border: 1px solid var(--node-border);
        background: var(--keyword);
        display: flex;
        flex-direction: row;
        align-items: center;
    }
        .node-header .node-icon {
            height: 15px;
            padding: 0 1px;
        }

    .node-body {
        border-radius: 0 0 var(--corner-radius) var(--corner-radius);
        border: 1px solid var(--node-border);
        border-top: none;
        background: var(--dark-background-e);
        flex: 1;
        width: 100%;
    }

    .node-clickspot-container {
        position: absolute;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
    }
        .node-clickspot-container.left {
            left: 0;
            top: 0;
            transform: translateX(-50%);
        }
        .node-clickspot-container.right {
            right: 0;
            top: 0;
            transform: translateX(50%);
        }
        .node-clickspot-container.bottom {
            height: initial;
            width: 100%;
            flex-direction: row;
            bottom: 0;
            left: 0;
            transform: translateY(50%);
        }

    .node-clickspot {
        aspect-ratio: 1 / 1;
        width: var(--clickspot-width);
        background: var(--light-background-d);
        border: dashed 1px var(--light-background-ll);
        border-radius: 50%;
    }
        .node-clickspot.connected {
            background: var(--accent);
            border-color: var(--accent-hovered);
        }
        .node-clickspot:hover {
            background: var(--light-background);
        }
        .node-clickspot.connected:hover {
            background: var(--accent-hovered);
        }
`,mr=new CSSStyleSheet;mr.replaceSync(Ns);class Os extends HTMLElement{constructor(){super();g(this,"onMove");g(this,"onConnectStart");g(this,"onConnectEnd");g(this,"onDisconnect");g(this,"onTempLine");g(this,"isClickspotConnected");g(this,"screenToWorld");g(this,"worldToScreen");g(this,"_areCallbacksSet",!1);g(this,"_contentRef");g(this,"_nodeId","");g(this,"_position",{x:0,y:0});g(this,"_clickspots",[]);g(this,"_isDragging",!1);g(this,"_dragOffset",{x:0,y:0});this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[mr]}static get observedAttributes(){return["id","x","y"]}setCallbacks(t){Object.assign(this,t),this._areCallbacksSet=!0}connectedCallback(){this.render()}attributeChangedCallback(t,r,s){t==="node-id"&&s&&(this._nodeId=s),this.render()}set data(t){this._nodeId=t.nodeId,this._position=t.position,this._clickspots=t.clickspots,this._isDragging=!1,this._dragOffset={x:0,y:0},this.render()}elementFromPoint(t,r){const s=this.shadowRoot.elementFromPoint(t,r);return s||null}clickspotFromId(t){return this.shadowRoot.querySelector(`#${t}`)}getBoundingClientRect(){const t=this.shadowRoot.querySelector(`#${this._nodeId}`);return t?t.getBoundingClientRect():new DOMRect(0,0,0,0)}getRealNode(){return this.shadowRoot.querySelector(`#${this._nodeId}`)}updateTransform(t){this._position=t,this._contentRef&&(this._contentRef.style.transform=`translate3d(${this._position.x}px, ${this._position.y}px, 0)`)}setConnected(t,r){const s=this.clickspotFromId(t);s&&s.classList.toggle("connected",r)}attachEventListeners(){var t,r;(t=this.shadowRoot.querySelector(".node-header"))==null||t.addEventListener("mousedown",s=>{this.startNodeDrag(s)}),(r=this.shadowRoot.querySelectorAll(".node-clickspot"))==null||r.forEach(s=>{s.addEventListener("mousedown",i=>{this.handleClickspotMouseDown(s.getAttribute("id"),i)})})}getLocationByClassList(t){return t.contains("left")?"left":t.contains("right")?"right":t.contains("bottom")?"bottom":null}startNodeDrag(t){if(t.button!==0)return;this._isDragging=!0;const r=this.screenToWorld({x:t.clientX,y:t.clientY});this._dragOffset={x:r.x-this._position.x,y:r.y-this._position.y};const s=o=>{var l;if(!this._isDragging)return;const a=this.screenToWorld({x:o.clientX,y:o.clientY});(l=this.onMove)==null||l.call(this,{x:a.x-this._dragOffset.x,y:a.y-this._dragOffset.y})},i=()=>{this._isDragging=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",i)}handleClickspotMouseDown(t,r){if(r.button===0)if(this.isClickspotConnected({nodeId:this._nodeId,clickspotId:t,location:null}))this.onDisconnect({nodeId:this._nodeId,clickspotId:t,location:null});else{const s=r.target.closest(".node-clickspot");if(!s){this.onTempLine(null);return}this._isDragging=!0;const i=s.getBoundingClientRect(),o={x:i.left+i.width/2,y:i.top+i.height/2},a=this.screenToWorld(o),l=r.target.closest(".node");if(!l){this.onTempLine(null);return}const c=l.getAttribute("id");if(!c){this.onTempLine(null);return}const d=s.closest(".node-clickspot-container");if(!d){this.onTempLine(null);return}const h=this.getLocationByClassList(d.classList);this.onConnectStart({nodeId:c,clickspotId:t,location:h});const u=f=>{if(!this._isDragging){this.onTempLine(null);return}const v={x:f.clientX,y:f.clientY},y=this.screenToWorld(v);this.onTempLine([{start:{x:a.x,y:a.y},end:{x:y.x,y:y.y}},h])},p=f=>{this._isDragging=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",p);const v={x:f.clientX,y:f.clientY},y=Array.from(this.parentElement.querySelectorAll("tree-node"));let E=null,k=null;for(const ne of y){const V=ne.getBoundingClientRect();if(v.x>=V.left&&v.x<=V.right&&v.y>=V.top&&v.y<=V.bottom){const O=ne.elementFromPoint(v.x,v.y);if(O&&O.classList.contains("node-clickspot")&&!O.classList.contains("connected")){E=ne.getRealNode(),k=O;break}}}if(!E){this.onTempLine(null);return}if(!k||!k.classList.contains("node-clickspot")||k.classList.contains("connected")){this.onTempLine(null);return}const m=k.getAttribute("id"),_=E.getAttribute("id");if(!m||!_){this.onTempLine(null);return}const M=k.closest(".node-clickspot-container");if(!M){this.onTempLine(null);return}const z=this.getLocationByClassList(M.classList);_&&_!==c&&this.onConnectEnd({nodeId:c,clickspotId:t,location:h},{nodeId:_,clickspotId:m,location:z}),this.onTempLine(null)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",p)}}render(){this.shadowRoot.innerHTML=`
            <div
                id="${this._nodeId}"
                class="node shadowed"
            >
                <div class="node-header">
                    <img src="/res/expression.svg" class="node-icon" />
                    <span>Exponentiation Expression</span>
                </div>
                <div class="node-body">
                    ${["left","bottom","right"].map(t=>`
                        <div class="node-clickspot-container ${t}">
                            ${this._clickspots.filter(r=>r.location===t).map(r=>`
                                <button
                                    class="node-clickspot"
                                    id="${r.id}"
                                    class="${r.isConnected?"connected":""}"
                                ></button>
                            `).join("")}
                        </div>
                    `).join("")}
                    <div class="node-content">
                        <slot></slot>
                    </div>
                </div>
            </div>
        `,this._contentRef=this.shadowRoot.querySelector(`#${this._nodeId}`),this.updateTransform(this._position),this._areCallbacksSet&&this.attachEventListeners()}}customElements.define("tree-node",Os);const Ds=`
    .wrapper {
        transform: translate(calc(-1 * var(--transform-size) / 2), calc(-1 * var(--transform-size) / 2));
    }
    .container {
        position: absolute;
        width: var(--transform-size);
        height: var(--transform-size);
        user-select: none;
        overflow: hidden;
        will-change: transform, scale, zoom;
        transform-origin: 50% 50%;
    }
`,yr=new CSSStyleSheet;yr.replaceSync(Ds);const Ke=class Ke extends HTMLElement{constructor(){super();g(this,"_container");g(this,"_scale",1);g(this,"_scalePlugin");g(this,"_isPanning",!1);g(this,"_position",{x:0,y:0});g(this,"_lastPosition",{x:0,y:0});this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onWheel=this.onWheel.bind(this),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[yr],this._scalePlugin=document.querySelector("#ast-zoom-plugin")}connectedCallback(){this.render(),this.updateTransform(),this._container.addEventListener("mousedown",this.onMouseDown),this._container.addEventListener("wheel",this.onWheel,{passive:!1})}disconnectedCallback(){this._container.removeEventListener("mousedown",this.onMouseDown),this._container.removeEventListener("wheel",this.onWheel),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}screenToWorld(t){return{x:(t.x-this._position.x)/this._scale,y:(t.y-this._position.y)/this._scale}}worldToScreen(t){return{x:t.x*this._scale+this._position.x,y:t.y*this._scale+this._position.y}}getTransform(){return{scale:this._scale,position:{...this._position}}}updateTransform(){this._container.style.transform=`translate(${this._position.x}px, ${this._position.y}px) scale(${this._scale})`,this._scalePlugin.setAttribute("dataPlugin",`${Math.floor(parseFloat(this._scale.toFixed(2))*100)}%`)}onMouseDown(t){let r=t.target;for(;r;){if(r.nodeName.toLowerCase()==="tree-node")return;r=r.parentElement}this._isPanning=!0,this._lastPosition={x:t.clientX-this._position.x,y:t.clientY-this._position.y},window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this._container.style.cursor="grabbing"}onMouseMove(t){this._isPanning&&(this._position.x=t.clientX-this._lastPosition.x,this._position.y=t.clientY-this._lastPosition.y,this.updateTransform())}onMouseUp(){this._isPanning=!1,window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this._container.style.cursor="grab",setTimeout(()=>{this._isPanning||(this._container.style.cursor="default")},1e3)}onWheel(t){t.preventDefault();const r=-t.deltaY*.001,s=Math.min(Ke.maxScale,Math.max(Ke.minScale,this._scale+r)),i=this.getBoundingClientRect(),o=t.clientX-i.left,a=t.clientY-i.top,l=o-this._position.x,c=a-this._position.y,d=s/this._scale;this._position.x=o-l*d,this._position.y=a-c*d,this._scale=s,this.updateTransform()}render(){this.shadowRoot.innerHTML=`
            <div class="wrapper">
                <div class="container">
                    <slot name="transformed-view-slot"></slot>
                </div>
            </div>
        `,this._container=this.shadowRoot.querySelector(".container")}};g(Ke,"minScale",.2),g(Ke,"maxScale",3);let ln=Ke;customElements.define("transformed-view",ln);const zs=`
    transformed-view {
        display: block;
        width: 100%;
        height: 100%;
    }
    #connections-canvas {
        position:absolute;
        top:0;
        left:0;
        width: var(--transform-size);
        height: var(--transform-size);
        pointer-events:none;
    }
    #transform-content {
        position: absolute;
        top: 0;
        left: 0;
        width: var(--transform-size);
        height: var(--transform-size);
        transform: translate(50%, 50%);
    }
`,wr=new CSSStyleSheet;wr.replaceSync(zs);class br extends HTMLElement{constructor(){super();g(this,"_nodeManager");g(this,"_transformedViewRef");g(this,"_contentRef");g(this,"_connectionsCanvas");g(this,"_canvasRef");this._nodeManager=new Ps([{id:"node1",label:"Hello, 123123",position:{x:100,y:100},clickspots:[{id:"clickspot-a",location:"left"},{id:"clickspot-b",location:"right"},{id:"clickspot-e",location:"bottom"}]},{id:"node2",label:"This is a new test node",position:{x:400,y:200},clickspots:[{id:"clickspot-c",location:"left"},{id:"clickspot-d",location:"bottom"}]},{id:"node3",label:"Testing testing testing",position:{x:550,y:400},clickspots:[{id:"clickspot-f",location:"left"},{id:"clickspot-g",location:"left"}]}]),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[wr]}connectedCallback(){this.render()}attributeChangedCallback(t,r,s){}setNodeConnected(t,r,s){const i=this.shadowRoot.querySelector(`tree-node[data-node-id="${t}"]`);i&&i.setConnected(r,s)}getClickspotCenterScreen(t,r){const s=this.shadowRoot.querySelector(`tree-node[data-node-id="${t}"]`);if(!s||!this._connectionsCanvas)return null;const i=s.clickspotFromId(r);if(!i)return null;const o=i.getBoundingClientRect(),a=this._connectionsCanvas.getBoundingClientRect();return{x:o.left+o.width/2-a.left,y:o.top+o.height/2-a.top}}isClickspotConnected(t){const r=this._nodeManager.getConnections(t.nodeId);for(const s of r)if(s.from.clickspotId===t.clickspotId||s.to.clickspotId===t.clickspotId)return!0;return!1}handleConnectStart(t){}handleConnectEnd(t,r){t&&(t.nodeId!==r.nodeId||t.clickspotId!==r.clickspotId)&&(this._nodeManager.connect(t,r),this.handleTempLine(null)),this.renderLines()}handleRemoveLines(t){this._nodeManager.disconnect(t),!(!this._connectionsCanvas||!this._canvasRef)&&this.renderLines()}handleNodeMove(t,r){this._nodeManager.updateNodePosition(t,r);const s=this.shadowRoot.querySelector(`tree-node[data-node-id="${t}"]`);s&&s.updateTransform(r),this.renderLines()}clearLines(){!this._connectionsCanvas||!this._canvasRef||this._canvasRef.clearRect(0,0,this._connectionsCanvas.width,this._connectionsCanvas.height)}renderLines(){if(!this._connectionsCanvas||!this._canvasRef||!this._transformedViewRef)return;this.clearLines();const t=this._nodeManager.getAllConnections();for(const r of t){const s=this.getClickspotCenterScreen(r.from.nodeId,r.from.clickspotId),i=this.getClickspotCenterScreen(r.to.nodeId,r.to.clickspotId);!s||!i||!r.from.location||this.drawBezierPathScreen(s,i,r.from.location,r.to.location,"rgb(143, 132, 213)",2,!1)}}handleTempLine(t){var d;if(this.renderLines(),!t||!this._canvasRef)return;const{start:r,end:s}=t[0],i=t[1],o=this.getBoundingClientRect()||{left:0,top:0},a=(d=this._transformedViewRef)==null?void 0:d.getTransform();a&&(r.x*=a.scale,r.y*=a.scale,s.x*=a.scale,s.y*=a.scale);const l={x:r.x-o.left,y:r.y-o.top},c={x:s.x-o.left,y:s.y-o.top};this.drawBezierPathScreen(l,c,i,null,"rgb(171, 167, 200)",2,!0)}getBezierPath(t,r,s){const{start:i,end:o}=t,a=100;let l=s;if(!s&&r){const p=o.x-i.x,f=o.y-i.y,v=Math.atan2(f,p)*180/Math.PI;r==="left"?v>-45&&v<45?l="left":v>=45&&v<=135?l="bottom":l=null:r==="right"?v>135||v<-135?l="right":v>=-135&&v<=-45?l="bottom":l=null:r==="bottom"&&(v>135||v<-135?l="right":v>-45&&v<45?l="left":v>=45&&v<=135&&(l="bottom"))}let c=i.x,d=i.y;r==="left"?c-=a:r==="right"?c+=a:r==="bottom"&&(d+=a);let h=o.x,u=o.y;return l==="left"?h-=a:l==="right"?h+=a:l==="bottom"&&(u+=a),[i.x,i.y,c,d,h,u,o.x,o.y]}drawBezierPathScreen(t,r,s,i,o,a,l){var v;if(!this._canvasRef)return;const c=(v=this._transformedViewRef)==null?void 0:v.getTransform();c&&(t.x/=c.scale,t.y/=c.scale,r.x/=c.scale,r.y/=c.scale);const d=100;let h=t.x,u=t.y;s==="left"?h-=d:s==="right"?h+=d:s==="bottom"&&(u+=d);let p=r.x,f=r.y;i==="left"?p-=d:i==="right"?p+=d:i==="bottom"&&(f+=d),this._canvasRef.save(),l?this._canvasRef.setLineDash([4,4]):this._canvasRef.setLineDash([]),this._canvasRef.beginPath(),this._canvasRef.moveTo(t.x,t.y),this._canvasRef.bezierCurveTo(h,u,p,f,r.x,r.y),this._canvasRef.strokeStyle=o,this._canvasRef.lineWidth=a,this._canvasRef.stroke(),this._canvasRef.restore()}resizeCanvas(){if(!this._connectionsCanvas)return;const t=this._connectionsCanvas.parentElement;if(t){const r=t.getBoundingClientRect();this._connectionsCanvas.width=r.width,this._connectionsCanvas.height=r.height}}renderNodes(){if(!this._contentRef)return;const t=new Map;this._contentRef.querySelectorAll("tree-node").forEach(s=>{const i=s.getAttribute("id");i&&t.set(i,s)});const r=new Set;for(const s of this._nodeManager.getNodes()){r.add(s.id);let i=t.get(s.id);i||(i=document.createElement("tree-node"),i.data={nodeId:s.id,position:s.position,clickspots:s.clickspots},i.setCallbacks({onMove:a=>this.handleNodeMove(s.id,a),onConnectStart:a=>this.handleConnectStart(a),onConnectEnd:(a,l)=>this.handleConnectEnd(a,l),onDisconnect:a=>this.handleRemoveLines(a),onTempLine:a=>this.handleTempLine(a),isClickspotConnected:a=>this.isClickspotConnected(a),screenToWorld:a=>{var l;return((l=this._transformedViewRef)==null?void 0:l.screenToWorld(a))??a},worldToScreen:a=>{var l;return((l=this._transformedViewRef)==null?void 0:l.worldToScreen(a))??a}}),i.setAttribute("data-node-id",s.id),this._contentRef.appendChild(i));const o=i.querySelector(".node-content");o&&(o.textContent=s.label)}t.forEach((s,i)=>{r.has(i)||s.remove()})}render(){this.shadowRoot.innerHTML=`
            <transformed-view id="program-tree-transformed-view">
                <div id="transform-content" slot="transformed-view-slot">
                    <canvas id="connections-canvas"></canvas>
                </div>
            </transformed-view>
        `,this._transformedViewRef=this.shadowRoot.querySelector("#program-tree-transformed-view"),this._contentRef=this._transformedViewRef.querySelector("#transform-content"),this._connectionsCanvas=this._contentRef.querySelector("#connections-canvas"),this._canvasRef=this._connectionsCanvas.getContext("2d"),window.addEventListener("resize",()=>{this.resizeCanvas(),this.renderLines()}),this.resizeCanvas(),this.renderLines(),this.renderNodes()}}g(br,"observedAttributes",[]);customElements.define("program-tree",br);class qs extends HTMLElement{constructor(){super(...arguments);g(this,"tabsContent");g(this,"pages",[])}connectedCallback(){this.render(),window.addEventListener("popstate",r=>{var i;const s=((i=r.state)==null?void 0:i.tab)??this.getTabIndexFromUrl();typeof s=="number"&&s>=0&&s<this.pages.length&&this.activatePage(s,!1)});const t=this.getTabIndexFromUrl();typeof t=="number"&&t>=0&&t<this.pages.length&&this.activatePage(t,!1)}getTabIndexFromUrl(){let t=window.location.pathname.replace(/^\//,"");t.startsWith("clarity/")&&(t=t.substring(8));const r=Array.from(this.querySelectorAll("my-tab"));for(let s=0;s<r.length;s++)if(r[s].getAttribute("route")===t)return s;return 0}activatePage(t,r=!0){if(this.pages.forEach((s,i)=>{const o=this.tabsContent.querySelectorAll("input"),a=i===t;s.classList.toggle("active",a),o[i]&&(o[i].checked=a)}),r){const i=Array.from(this.querySelectorAll("my-tab"))[t].getAttribute("route")||"",a=`${window.location.origin}/clarity/${i}`;history.pushState({tab:t},"",a)}}render(){const t=this.querySelector("my-header");if(t){const i=t.children[0];if(i){let o=document.createElement("div");o.className="tabs-bar",i.classList.add("tabs-header"),o.appendChild(i),this.prepend(o)}t.remove()}this.tabsContent=document.createElement("div"),this.tabsContent.className="tabs-content";const r=this.querySelector(".tabs-bar");r?r.append(this.tabsContent):this.prepend(this.tabsContent),Array.from(this.querySelectorAll("my-tab")).forEach((i,o)=>{const a=i.getAttribute("label")||`Tab ${o+1}`,l=`tab-${o}`,c=`tabpanel-${o}`,d=document.createElement("input");d.type="radio",d.id=l,d.checked=o===0,d.addEventListener("change",()=>this.activatePage(o,!0));const h=document.createElement("label");h.htmlFor=l,h.textContent=a;const u=document.createElement("span");u.className="tab-radio-wrapper",u.appendChild(d),u.appendChild(h),this.tabsContent.appendChild(u),i.classList.add("page"),i.setAttribute("id",c),o===0&&i.classList.add("active"),this.pages.push(i)})}}customElements.define("my-tabview",qs);class Hs extends HTMLElement{}customElements.define("my-tab",Hs);class Bs extends HTMLElement{}customElements.define("my-header",Bs);class Ws extends HTMLElement{constructor(){super()}connectedCallback(){this.render()}render(){const n=document.createElement("div");n.className="article-list";const t=this.querySelectorAll("my-article");for(let s=0;s<t.length;s++){const i=t[s],o=i.querySelector("my-article-header");if(!o){console.warn(`Article ${s} does not have a header.`);continue}const a=document.createElement("div");a.className="article-item shadowed hoverable",a.innerHTML=o.outerHTML,a.addEventListener("click",()=>{const l=this.querySelector(".article-content-container");l&&(n.style.display="none",l.style.display="flex",l.innerHTML=i.innerHTML)}),n.appendChild(a)}this.innerHTML="";let r=document.createElement("div");r.className="article-content-container",r.style.display="none",this.appendChild(n),this.appendChild(r)}}class Fs extends HTMLElement{constructor(){super(...arguments);g(this,"_rendered",!1)}connectedCallback(){this.render()}render(){if(this._rendered)return;this._rendered=!0;const t=this.getAttribute("article-title")||"Untitled Article",r=this.getAttribute("article-description")||"",s=document.createElement("header"),i=document.createElement("div"),o=document.createElement("h1");o.textContent=t;const a=document.createElement("p");a.className="article-desc",a.textContent=r,i.appendChild(o),i.appendChild(a),s.appendChild(i);const l=this.querySelector("symbol-icon");l&&s.prepend(l);const c=document.createElement("section"),d=document.createElement("main"),h=document.createElement("article"),u=this.querySelector("my-article-content");u&&h.appendChild(u),d.appendChild(h);const p=document.createElement("aside"),f=document.createElement("span");f.textContent="More Articles";const v=document.createElement("nav");v.className="article-nav",p.appendChild(f),p.appendChild(v),c.appendChild(d),c.appendChild(p);const y=document.createElement("footer"),E=document.createElement("div");E.innerHTML=`
            <span>Source code available at <a href="https://github.com/connorjlink/clarity">https://github.com/connorjlink/clarity</a>.</span>
            <br>
            <span>&copy; 2025 Connor J. Link. All Rights Reserved.</span>
        `,y.appendChild(E),this.textContent="",this.appendChild(s),this.appendChild(c),this.appendChild(y),Array.from(document.querySelectorAll("my-article-header symbol-icon"))}}class Us extends HTMLElement{connectedCallback(){this.render()}render(){const n=this.getAttribute("article-title")||"Untitled Article",t=this.getAttribute("article-description")||"No description provided.",r=this.querySelector("symbol-icon");this.innerHTML=`
            <div class="article-header">
                ${r?r.outerHTML:""}
                <div>
                    <h2 class="article-title">${n}</h2>
                    <p class="article-desc">${t}</p>
                </div>
            </div>
        `}}customElements.define("my-articleselector",Ws);customElements.define("my-article-header",Us);customElements.define("my-article",Fs);const kr=`
    :host {
        display: block;
        width: 100%;
        height: 100%;
    }
    
    :host *, :host *::before, :host *::after {
        box-sizing: border-box;
    }

    pane-view {
        overflow-x: hidden;
    }

    .pane-row {
        display: grid;
        grid-template-rows: 1fr;
        will-change: grid-template-columns;
        height: 100%;
        width: 100%;
    }

    .pane-column {
        width: 100%;
        position: relative;
        background: var(--dark-background-d);
        z-index: 1;
    }
        .pane-column.hidden {
            display: none;
        }
    
    .handle {
        width: 1px;
        cursor: col-resize;
        background: var(--node-border);
        z-index: 3;
        height: 100%;
        transition: background-color 100ms ease-in-out;
    }
        .handle:hover {
            background: var(--accent-hovered);
            width: 2px;
        }
        .handle.dragging {
            background: var(--accent-selected);
        }

    .pane-descriptor {
        padding: 0.5rem;
        background: var(--dark-background-e);
        border-top: 1px solid var(--node-border);
        border-bottom: 1px solid var(--node-border);
        width: 100%;
        position: relative;
        z-index: 2;
    }
`,js=new CSSStyleSheet;js.replaceSync(kr);const er="resizable-pane-widths";class Vs extends HTMLElement{constructor(){super();g(this,"columns",[]);g(this,"handles",[]);g(this,"widths",[]);g(this,"draggingIndex",null);g(this,"startX",0);g(this,"startWidths",[]);g(this,"visible",[]);g(this,"originalPanes",[]);g(this,"onHandleMouseDown",t=>{const r=t.target;this.draggingIndex=parseInt(r.dataset.index),this.startX=t.clientX,this.startWidths=this.getCurrentWidths(),r.classList.add("dragging"),t.preventDefault()});g(this,"onMouseMove",t=>{if(this.draggingIndex===null)return;const r=t.clientX-this.startX,s=this.draggingIndex;let i=[...this.startWidths];const o=50;i[s]+=r,i[s+1]-=r;for(let l=s+1;l<i.length;l++)if(i[l]<o){const c=o-i[l];i[l]=o,l+1<i.length&&(i[l+1]-=c)}for(let l=s;l>=0;l--)if(i[l]<o){const c=o-i[l];i[l]=o,l-1>=0&&(i[l-1]-=c)}for(let l=i.length-1;l>=0;l--)i[l]<o&&(i[l]=o);for(let l=0;l<i.length;l++)i[l]<o&&(i[l]=o);const a=i.reduce((l,c)=>l+c,0);this.widths=i.map(l=>l/a),this.applyWidths(),this.startWidths=i,this.startX=t.clientX});g(this,"onMouseUp",t=>{this.draggingIndex!==null&&(this.handles[this.draggingIndex].classList.remove("dragging"),this.saveWidths(),this.draggingIndex=null)})}connectedCallback(){this.originalPanes.length===0&&(this.originalPanes=Array.from(this.querySelectorAll(".pane-column"))),this.loadWidths(),this.render(),this.applyWidths(),this.addHandleEvents()}disconnectedCallback(){this.removeHandleEvents()}setVisiblePanes(t){this.visible=t,this.render(),this.applyWidths(),this.addHandleEvents()}render(){this.innerHTML=`<style>${kr}</style>`;const t=document.createElement("div");t.className="pane-row",this.columns=[],this.handles=[],this.originalPanes.forEach((r,s)=>{if(Array.from(r.querySelectorAll(".handle")).forEach(i=>i.remove()),this.visible[s]&&(t.appendChild(r),this.columns.push(r),this.columns.length-1<this.visible.filter(Boolean).length-1)){const i=document.createElement("div");i.className="handle",i.dataset.index=(this.columns.length-1).toString(),t.appendChild(i),this.handles.push(i)}}),this.appendChild(t)}addHandleEvents(){this.handles.forEach(t=>{t.addEventListener("mousedown",this.onHandleMouseDown)}),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)}removeHandleEvents(){this.handles.forEach(t=>{t.removeEventListener("mousedown",this.onHandleMouseDown)}),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}getCurrentWidths(){return this.columns.map(t=>t.getBoundingClientRect().width)}applyWidths(){this.widths.length!==this.columns.length&&(this.widths=Array(this.columns.length).fill(1/this.columns.length));const t=this.querySelector(".pane-row");if(!t)return;let r="";for(let i=0;i<this.columns.length;i++)r+=`${this.widths[i]*100}% `,i<this.columns.length-1&&(r+="1px ");t.style.gridTemplateColumns=r.trim();let s=1;this.columns.forEach(i=>{i.classList.contains("hidden")||(i.style.gridColumn=`${s}`,s+=2)}),this.handles.forEach((i,o)=>{i.style.gridColumn=`${2*(o+1)}`})}saveWidths(){localStorage.setItem(er,JSON.stringify(this.widths))}loadWidths(){const t=localStorage.getItem(er);if(t)try{const r=JSON.parse(t);Array.isArray(r)&&r.length===this.columns.length&&(this.widths=r)}catch{}}}customElements.define("pane-view",Vs);const Ys="5";var gr;typeof window<"u"&&((gr=window.__svelte??(window.__svelte={})).v??(gr.v=new Set)).add(Ys);let ft=!1,Xs=!1;function Gs(){ft=!0}Gs();const Zs=1,Js=2,Qs=16,Ks=1,ei=2,ti=4,ni=8,ri=16,si=1,ii=2,Er="[",xn="[!",Cn="]",et={},Y=Symbol(),oi="http://www.w3.org/1999/xhtml",xr=!1;var Xt=Array.isArray,ai=Array.prototype.indexOf,Sn=Array.from,qt=Object.keys,at=Object.defineProperty,Ie=Object.getOwnPropertyDescriptor,Cr=Object.getOwnPropertyDescriptors,li=Object.prototype,ci=Array.prototype,Tn=Object.getPrototypeOf,tr=Object.isExtensible;function di(e){return e()}function Ht(e){for(var n=0;n<e.length;n++)e[n]()}function ui(){var e,n,t=new Promise((r,s)=>{e=r,n=s});return{promise:t,resolve:e,reject:n}}const ae=2,$n=4,Gt=8,Tt=16,Ce=32,Fe=64,Sr=128,de=256,Bt=512,U=1024,te=2048,Oe=4096,ue=8192,Ue=16384,Ln=32768,Rn=65536,nr=1<<17,fi=1<<18,Mn=1<<19,In=1<<20,cn=1<<21,An=1<<22,qe=1<<23,He=Symbol("$state"),Tr=Symbol("legacy props"),hi=Symbol(""),Pn=new class extends Error{constructor(){super(...arguments);g(this,"name","StaleReactionError");g(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},$r=3,yt=8;function vi(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Lr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function pi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function gi(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function _i(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function mi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function yi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function wi(){throw new Error("https://svelte.dev/e/hydration_failed")}function bi(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ki(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ei(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function xi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Zt(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let T=!1;function Ee(e){T=e}let P;function me(e){if(e===null)throw Zt(),et;return P=e}function $t(){return me(Se(P))}function L(e){if(T){if(Se(P)!==null)throw Zt(),et;P=e}}function Z(e=1){if(T){for(var n=e,t=P;n--;)t=Se(t);P=t}}function dn(){for(var e=0,n=P;;){if(n.nodeType===yt){var t=n.data;if(t===Cn){if(e===0)return n;e-=1}else(t===Er||t===xn)&&(e+=1)}var r=Se(n);n.remove(),n=r}}function Rr(e){if(!e||e.nodeType!==yt)throw Zt(),et;return e.data}function Mr(e){return e===this.v}function Ci(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function Ir(e){return!Ci(e,this.v)}let N=null;function Wt(e){N=e}function je(e,n=!1,t){N={p:N,c:null,e:null,s:e,x:null,l:ft&&!n?{s:null,u:null,$:[]}:null}}function Ve(e){var n=N,t=n.e;if(t!==null){n.e=null;for(var r of t)Zr(r)}return e!==void 0&&(n.x=e),N=n.p,e??{}}function Lt(){return!ft||N!==null&&N.l===null}const Si=new WeakMap;function Ti(e){var n=x;if(n===null)return C.f|=qe,e;if((n.f&Ln)===0){if((n.f&Sr)===0)throw!n.parent&&e instanceof Error&&Ar(e),e;n.b.error(e)}else Nn(e,n)}function Nn(e,n){for(;n!==null;){if((n.f&Sr)!==0)try{n.b.error(e);return}catch(t){e=t}n=n.parent}throw e instanceof Error&&Ar(e),e}function Ar(e){const n=Si.get(e);n&&(at(e,"message",{value:n.message}),at(e,"stack",{value:n.stack}))}const $i=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback;let wt=[],bt=[];function Pr(){var e=wt;wt=[],Ht(e)}function Nr(){var e=bt;bt=[],Ht(e)}function On(e){wt.length===0&&queueMicrotask(Pr),wt.push(e)}function Li(e){bt.length===0&&$i(Nr),bt.push(e)}function Ri(){wt.length>0&&Pr(),bt.length>0&&Nr()}function Mi(){for(var e=x.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&vi(),e}function Jt(e){var n=ae|te,t=C!==null&&(C.f&ae)!==0?C:null;return x===null||t!==null&&(t.f&de)!==0?n|=de:x.f|=Mn,{ctx:N,deps:null,effects:null,equals:Mr,f:n,fn:e,reactions:null,rv:0,v:Y,wv:0,parent:t??x,ac:null}}function Ii(e,n){let t=x;t===null&&pi();var r=t.b,s=void 0,i=kt(Y),o=null,a=!C;return Wi(()=>{try{var l=e()}catch(p){l=Promise.reject(p)}var c=()=>l;s=(o==null?void 0:o.then(c,c))??Promise.resolve(l),o=s;var d=ee,h=r.pending;a&&(r.update_pending_count(1),h||d.increment());const u=(p,f=void 0)=>{o=null,h||d.activate(),f?f!==Pn&&(i.f|=qe,Ut(i,f)):((i.f&qe)!==0&&(i.f^=qe),Ut(i,p)),a&&(r.update_pending_count(-1),h||d.decrement()),zr()};if(s.then(u,p=>u(null,p||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(l=>{function c(d){function h(){d===s?l(i):c(s)}d.then(h,h)}c(s)})}function Dn(e){const n=Jt(e);return n.equals=Ir,n}function Or(e){var n=e.effects;if(n!==null){e.effects=null;for(var t=0;t<n.length;t+=1)ye(n[t])}}function Ai(e){for(var n=e.parent;n!==null;){if((n.f&ae)===0)return n;n=n.parent}return null}function zn(e){var n,t=x;Ne(Ai(e));try{Or(e),n=as(e)}finally{Ne(t)}return n}function Dr(e){var n=zn(e);if(e.equals(n)||(e.v=n,e.wv=is()),!Ye)if(Re!==null)Re.set(e,e.v);else{var t=(Me||(e.f&de)!==0)&&e.deps!==null?Oe:U;j(e,t)}}function Pi(e,n,t){const r=Lt()?Jt:Dn;if(n.length===0){t(e.map(r));return}var s=ee,i=x,o=Ni(),a=Mi();Promise.all(n.map(l=>Ii(l))).then(l=>{s==null||s.activate(),o();try{t([...e.map(r),...l])}catch(c){(i.f&Ue)===0&&Nn(c,i)}s==null||s.deactivate(),zr()}).catch(l=>{a.error(l)})}function Ni(){var e=x,n=C,t=N;return function(){Ne(e),we(n),Wt(t)}}function zr(){Ne(null),we(null),Wt(null)}const Pt=new Set;let ee=null,Re=null,rr=new Set,Ft=[];function qr(){const e=Ft.shift();Ft.length>0&&queueMicrotask(qr),e()}let Je=[],Qt=null,un=!1;var xt,st,it,$e,Ct,St,De,ot,Le,be,ze,xe,Hr,Br,fn;const Yt=class Yt{constructor(){G(this,xe);G(this,xt,new Map);G(this,st,new Map);G(this,it,new Set);G(this,$e,0);G(this,Ct,null);G(this,St,!1);G(this,De,[]);G(this,ot,[]);G(this,Le,[]);G(this,be,[]);G(this,ze,[]);g(this,"skipped_effects",new Set)}capture(n,t){w(this,st).has(n)||w(this,st).set(n,t),w(this,xt).set(n,n.v)}activate(){ee=this}deactivate(){ee=null;for(const n of rr)if(rr.delete(n),n(),ee!==null)break}neuter(){K(this,St,!0)}flush(){Je.length>0?this.flush_effects():pt(this,xe,fn).call(this),ee===this&&(w(this,$e)===0&&Pt.delete(this),this.deactivate())}flush_effects(){var n=tt;un=!0;try{var t=0;for(or(!0);Je.length>0;){if(t++>1e3){var r,s;Oi()}pt(this,xe,Hr).call(this,Je),Be.clear()}}finally{un=!1,or(n),Qt=null}}increment(){K(this,$e,w(this,$e)+1)}decrement(){if(K(this,$e,w(this,$e)-1),w(this,$e)===0){for(const n of w(this,Le))j(n,te),Ae(n);for(const n of w(this,be))j(n,te),Ae(n);for(const n of w(this,ze))j(n,te),Ae(n);K(this,Le,[]),K(this,be,[]),this.flush()}else this.deactivate()}add_callback(n){w(this,it).add(n)}settled(){return(w(this,Ct)??K(this,Ct,ui())).promise}static ensure(n=!0){if(ee===null){const t=ee=new Yt;Pt.add(ee),n&&Yt.enqueue(()=>{ee===t&&t.flush()})}return ee}static enqueue(n){Ft.length===0&&queueMicrotask(qr),Ft.unshift(n)}};xt=new WeakMap,st=new WeakMap,it=new WeakMap,$e=new WeakMap,Ct=new WeakMap,St=new WeakMap,De=new WeakMap,ot=new WeakMap,Le=new WeakMap,be=new WeakMap,ze=new WeakMap,xe=new WeakSet,Hr=function(n){var i;Je=[];var t=null;if(Pt.size>1){t=new Map,Re=new Map;for(const[o,a]of w(this,xt))t.set(o,{v:o.v,wv:o.wv}),o.v=a;for(const o of Pt)if(o!==this)for(const[a,l]of w(o,st))t.has(a)||(t.set(a,{v:a.v,wv:a.wv}),a.v=l)}for(const o of n)pt(this,xe,Br).call(this,o);if(w(this,De).length===0&&w(this,$e)===0){var r=w(this,Le),s=w(this,be);K(this,Le,[]),K(this,be,[]),K(this,ze,[]),pt(this,xe,fn).call(this),sr(r),sr(s),(i=w(this,Ct))==null||i.resolve()}else{for(const o of w(this,Le))j(o,U);for(const o of w(this,be))j(o,U);for(const o of w(this,ze))j(o,U)}if(t){for(const[o,{v:a,wv:l}]of t)o.wv<=l&&(o.v=a);Re=null}for(const o of w(this,De))nt(o);for(const o of w(this,ot))nt(o);K(this,De,[]),K(this,ot,[])},Br=function(n){var d;n.f^=U;for(var t=n.first;t!==null;){var r=t.f,s=(r&(Ce|Fe))!==0,i=s&&(r&U)!==0,o=i||(r&ue)!==0||this.skipped_effects.has(t);if(!o&&t.fn!==null){if(s)t.f^=U;else if((r&$n)!==0)w(this,be).push(t);else if(Mt(t))if((r&An)!==0){var a=(d=t.b)!=null&&d.pending?w(this,ot):w(this,De);a.push(t)}else(t.f&Tt)!==0&&w(this,ze).push(t),nt(t);var l=t.first;if(l!==null){t=l;continue}}var c=t.parent;for(t=t.next;t===null&&c!==null;)t=c.next,c=c.parent}},fn=function(){if(!w(this,St))for(const n of w(this,it))n();w(this,it).clear()};let lt=Yt;function D(e){var n;const t=lt.ensure(!1);for(;;){if(Ri(),Je.length===0)return t===ee&&t.flush(),Qt=null,n;t.flush_effects()}}function Oi(){try{yi()}catch(e){Nn(e,Qt)}}function sr(e){var n=e.length;if(n!==0){for(var t=0;t<n;t++){var r=e[t];if((r.f&(Ue|ue))===0&&Mt(r)){var s=jt;if(nt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ns(r):r.fn=null),jt>s&&(r.f&In)!==0)break}}for(;t<n;t+=1)Ae(e[t])}}function Ae(e){for(var n=Qt=e;n.parent!==null;){n=n.parent;var t=n.f;if(un&&n===x&&(t&Tt)!==0)return;if((t&(Fe|Ce))!==0){if((t&U)===0)return;n.f^=U}}Je.push(n)}const Be=new Map;function kt(e,n){var t={f:0,v:e,reactions:null,equals:Mr,rv:0,wv:0};return t}function Te(e,n){const t=kt(e);return ji(t),t}function ct(e,n=!1,t=!0){var s;const r=kt(e);return n||(r.equals=Ir),ft&&t&&N!==null&&N.l!==null&&((s=N.l).s??(s.s=[])).push(r),r}function ie(e,n,t=!1){C!==null&&(!pe||(C.f&nr)!==0)&&Lt()&&(C.f&(ae|Tt|An|nr))!==0&&!(Q!=null&&Q.includes(e))&&xi();let r=t?Qe(n):n;return Ut(e,r)}function Ut(e,n){if(!e.equals(n)){var t=e.v;Ye?Be.set(e,n):Be.set(e,t),e.v=n,lt.ensure().capture(e,t),(e.f&ae)!==0&&((e.f&te)!==0&&zn(e),j(e,(e.f&de)===0?U:Oe)),e.wv=is(),Wr(e,te),Lt()&&x!==null&&(x.f&U)!==0&&(x.f&(Ce|Fe))===0&&(le===null?Vi([e]):le.push(e))}return n}function sn(e){ie(e,e.v+1)}function Wr(e,n){var t=e.reactions;if(t!==null)for(var r=Lt(),s=t.length,i=0;i<s;i++){var o=t[i],a=o.f;!r&&o===x||((a&te)===0&&j(o,n),(a&ae)!==0?Wr(o,Oe):(a&te)===0&&Ae(o))}}function Qe(e){if(typeof e!="object"||e===null||He in e)return e;const n=Tn(e);if(n!==li&&n!==ci)return e;var t=new Map,r=Xt(e),s=Te(0),i=We,o=a=>{if(We===i)return a();var l=C,c=We;we(null),lr(i);var d=a();return we(l),lr(c),d};return r&&t.set("length",Te(e.length)),new Proxy(e,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&ki();var d=t.get(l);return d===void 0?d=o(()=>{var h=Te(c.value);return t.set(l,h),h}):ie(d,c.value,!0),!0},deleteProperty(a,l){var c=t.get(l);if(c===void 0){if(l in a){const d=o(()=>Te(Y));t.set(l,d),sn(s)}}else ie(c,Y),sn(s);return!0},get(a,l,c){var p;if(l===He)return e;var d=t.get(l),h=l in a;if(d===void 0&&(!h||(p=Ie(a,l))!=null&&p.writable)&&(d=o(()=>{var f=Qe(h?a[l]:Y),v=Te(f);return v}),t.set(l,d)),d!==void 0){var u=S(d);return u===Y?void 0:u}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var d=t.get(l);d&&(c.value=S(d))}else if(c===void 0){var h=t.get(l),u=h==null?void 0:h.v;if(h!==void 0&&u!==Y)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return c},has(a,l){var u;if(l===He)return!0;var c=t.get(l),d=c!==void 0&&c.v!==Y||Reflect.has(a,l);if(c!==void 0||x!==null&&(!d||(u=Ie(a,l))!=null&&u.writable)){c===void 0&&(c=o(()=>{var p=d?Qe(a[l]):Y,f=Te(p);return f}),t.set(l,c));var h=S(c);if(h===Y)return!1}return d},set(a,l,c,d){var m;var h=t.get(l),u=l in a;if(r&&l==="length")for(var p=c;p<h.v;p+=1){var f=t.get(p+"");f!==void 0?ie(f,Y):p in a&&(f=o(()=>Te(Y)),t.set(p+"",f))}if(h===void 0)(!u||(m=Ie(a,l))!=null&&m.writable)&&(h=o(()=>Te(void 0)),ie(h,Qe(c)),t.set(l,h));else{u=h.v!==Y;var v=o(()=>Qe(c));ie(h,v)}var y=Reflect.getOwnPropertyDescriptor(a,l);if(y!=null&&y.set&&y.set.call(d,c),!u){if(r&&typeof l=="string"){var E=t.get("length"),k=Number(l);Number.isInteger(k)&&k>=E.v&&ie(E,k+1)}sn(s)}return!0},ownKeys(a){S(s);var l=Reflect.ownKeys(a).filter(h=>{var u=t.get(h);return u===void 0||u.v!==Y});for(var[c,d]of t)d.v!==Y&&!(c in a)&&l.push(c);return l},setPrototypeOf(){Ei()}})}var ir,Fr,Ur,jr;function hn(){if(ir===void 0){ir=window,Fr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,t=Text.prototype;Ur=Ie(n,"firstChild").get,jr=Ie(n,"nextSibling").get,tr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),tr(t)&&(t.__t=void 0)}}function dt(e=""){return document.createTextNode(e)}function Pe(e){return Ur.call(e)}function Se(e){return jr.call(e)}function R(e,n){if(!T)return Pe(e);var t=Pe(P);if(t===null)t=P.appendChild(dt());else if(n&&t.nodeType!==$r){var r=dt();return t==null||t.before(r),me(r),r}return me(t),t}function gt(e,n){if(!T){var t=Pe(e);return t instanceof Comment&&t.data===""?Se(t):t}return P}function $(e,n=1,t=!1){let r=T?P:e;for(var s;n--;)s=r,r=Se(r);if(!T)return r;if(t&&(r==null?void 0:r.nodeType)!==$r){var i=dt();return r===null?s==null||s.after(i):r.before(i),me(i),i}return me(r),r}function Vr(e){e.textContent=""}function Yr(){return!1}function Xr(e){x===null&&C===null&&mi(),C!==null&&(C.f&de)!==0&&x===null&&_i(),Ye&&gi()}function Di(e,n){var t=n.last;t===null?n.last=n.first=e:(t.next=e,e.prev=t,n.last=e)}function fe(e,n,t,r=!0){var s=x;s!==null&&(s.f&ue)!==0&&(e|=ue);var i={ctx:N,deps:null,nodes_start:null,nodes_end:null,f:e|te,first:null,fn:n,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{nt(i),i.f|=Ln}catch(l){throw ye(i),l}else n!==null&&Ae(i);var o=t&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&Mn)===0;if(!o&&r&&(s!==null&&Di(i,s),C!==null&&(C.f&ae)!==0)){var a=C;(a.effects??(a.effects=[])).push(i)}return i}function Gr(e){const n=fe(Gt,null,!1);return j(n,U),n.teardown=e,n}function vn(e){Xr();var n=x.f,t=!C&&(n&Ce)!==0&&(n&Ln)===0;if(t){var r=N;(r.e??(r.e=[])).push(e)}else return Zr(e)}function Zr(e){return fe($n|In,e,!1)}function zi(e){return Xr(),fe(Gt|In,e,!0)}function qi(e){lt.ensure();const n=fe(Fe,e,!0);return()=>{ye(n)}}function Hi(e){lt.ensure();const n=fe(Fe,e,!0);return(t={})=>new Promise(r=>{t.outro?qn(n,()=>{ye(n),r(void 0)}):(ye(n),r(void 0))})}function Bi(e){return fe($n,e,!1)}function Jr(e,n){var t=N,r={effect:null,ran:!1,deps:e};t.l.$.push(r),r.effect=Rt(()=>{e(),!r.ran&&(r.ran=!0,X(n))})}function Qr(){var e=N;Rt(()=>{for(var n of e.l.$){n.deps();var t=n.effect;(t.f&U)!==0&&j(t,Oe),Mt(t)&&nt(t),n.ran=!1}})}function Wi(e){return fe(An|Mn,e,!0)}function Rt(e,n=0){return fe(Gt|n,e,!0)}function ge(e,n=[],t=[]){Pi(n,t,r=>{fe(Gt,()=>e(...r.map(S)),!0)})}function Kr(e,n=0){var t=fe(Tt|n,e,!0);return t}function ut(e,n=!0){return fe(Ce,e,!0,n)}function es(e){var n=e.teardown;if(n!==null){const t=Ye,r=C;ar(!0),we(null);try{n.call(null)}finally{ar(t),we(r)}}}function ts(e,n=!1){var s;var t=e.first;for(e.first=e.last=null;t!==null;){(s=t.ac)==null||s.abort(Pn);var r=t.next;(t.f&Fe)!==0?t.parent=null:ye(t,n),t=r}}function Fi(e){for(var n=e.first;n!==null;){var t=n.next;(n.f&Ce)===0&&ye(n),n=t}}function ye(e,n=!0){var t=!1;(n||(e.f&fi)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ui(e.nodes_start,e.nodes_end),t=!0),ts(e,n&&!t),Vt(e,0),j(e,Ue);var r=e.transitions;if(r!==null)for(const i of r)i.stop();es(e);var s=e.parent;s!==null&&s.first!==null&&ns(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ui(e,n){for(;e!==null;){var t=e===n?null:Se(e);e.remove(),e=t}}function ns(e){var n=e.parent,t=e.prev,r=e.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),n!==null&&(n.first===e&&(n.first=r),n.last===e&&(n.last=t))}function qn(e,n){var t=[];Hn(e,t,!0),rs(t,()=>{ye(e),n&&n()})}function rs(e,n){var t=e.length;if(t>0){var r=()=>--t||n();for(var s of e)s.out(r)}else n()}function Hn(e,n,t){if((e.f&ue)===0){if(e.f^=ue,e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&n.push(o);for(var r=e.first;r!==null;){var s=r.next,i=(r.f&Rn)!==0||(r.f&Ce)!==0;Hn(r,n,i?t:!1),r=s}}}function Bn(e){ss(e,!0)}function ss(e,n){if((e.f&ue)!==0){e.f^=ue,(e.f&U)===0&&(j(e,te),Ae(e));for(var t=e.first;t!==null;){var r=t.next,s=(t.f&Rn)!==0||(t.f&Ce)!==0;ss(t,s?n:!1),t=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&i.in()}}let tt=!1;function or(e){tt=e}let Ye=!1;function ar(e){Ye=e}let C=null,pe=!1;function we(e){C=e}let x=null;function Ne(e){x=e}let Q=null;function ji(e){C!==null&&(Q===null?Q=[e]:Q.push(e))}let J=null,re=0,le=null;function Vi(e){le=e}let jt=1,Et=0,We=Et;function lr(e){We=e}let Me=!1;function is(){return++jt}function Mt(e){var h;var n=e.f;if((n&te)!==0)return!0;if((n&Oe)!==0){var t=e.deps,r=(n&de)!==0;if(t!==null){var s,i,o=(n&Bt)!==0,a=r&&x!==null&&!Me,l=t.length;if((o||a)&&(x===null||(x.f&Ue)===0)){var c=e,d=c.parent;for(s=0;s<l;s++)i=t[s],(o||!((h=i==null?void 0:i.reactions)!=null&&h.includes(c)))&&(i.reactions??(i.reactions=[])).push(c);o&&(c.f^=Bt),a&&d!==null&&(d.f&de)===0&&(c.f^=de)}for(s=0;s<l;s++)if(i=t[s],Mt(i)&&Dr(i),i.wv>e.wv)return!0}(!r||x!==null&&!Me)&&j(e,U)}return!1}function os(e,n,t=!0){var r=e.reactions;if(r!==null&&!(Q!=null&&Q.includes(e)))for(var s=0;s<r.length;s++){var i=r[s];(i.f&ae)!==0?os(i,n,!1):n===i&&(t?j(i,te):(i.f&U)!==0&&j(i,Oe),Ae(i))}}function as(e){var f;var n=J,t=re,r=le,s=C,i=Me,o=Q,a=N,l=pe,c=We,d=e.f;J=null,re=0,le=null,Me=(d&de)!==0&&(pe||!tt||C===null),C=(d&(Ce|Fe))===0?e:null,Q=null,Wt(e.ctx),pe=!1,We=++Et,e.ac!==null&&(e.ac.abort(Pn),e.ac=null);try{e.f|=cn;var h=(0,e.fn)(),u=e.deps;if(J!==null){var p;if(Vt(e,re),u!==null&&re>0)for(u.length=re+J.length,p=0;p<J.length;p++)u[re+p]=J[p];else e.deps=u=J;if(!Me||(d&ae)!==0&&e.reactions!==null)for(p=re;p<u.length;p++)((f=u[p]).reactions??(f.reactions=[])).push(e)}else u!==null&&re<u.length&&(Vt(e,re),u.length=re);if(Lt()&&le!==null&&!pe&&u!==null&&(e.f&(ae|Oe|te))===0)for(p=0;p<le.length;p++)os(le[p],e);return s!==null&&s!==e&&(Et++,le!==null&&(r===null?r=le:r.push(...le))),(e.f&qe)!==0&&(e.f^=qe),h}catch(v){return Ti(v)}finally{e.f^=cn,J=n,re=t,le=r,C=s,Me=i,Q=o,Wt(a),pe=l,We=c}}function Yi(e,n){let t=n.reactions;if(t!==null){var r=ai.call(t,e);if(r!==-1){var s=t.length-1;s===0?t=n.reactions=null:(t[r]=t[s],t.pop())}}t===null&&(n.f&ae)!==0&&(J===null||!J.includes(n))&&(j(n,Oe),(n.f&(de|Bt))===0&&(n.f^=Bt),Or(n),Vt(n,0))}function Vt(e,n){var t=e.deps;if(t!==null)for(var r=n;r<t.length;r++)Yi(e,t[r])}function nt(e){var n=e.f;if((n&Ue)===0){j(e,U);var t=x,r=tt;x=e,tt=!0;try{(n&Tt)!==0?Fi(e):ts(e),es(e);var s=as(e);e.teardown=typeof s=="function"?s:null,e.wv=jt;var i;xr&&Xs&&(e.f&te)!==0&&e.deps}finally{tt=r,x=t}}}function S(e){var n=e.f,t=(n&ae)!==0;if(C!==null&&!pe){var r=x!==null&&(x.f&Ue)!==0;if(!r&&!(Q!=null&&Q.includes(e))){var s=C.deps;if((C.f&cn)!==0)e.rv<Et&&(e.rv=Et,J===null&&s!==null&&s[re]===e?re++:J===null?J=[e]:(!Me||!J.includes(e))&&J.push(e));else{(C.deps??(C.deps=[])).push(e);var i=e.reactions;i===null?e.reactions=[C]:i.includes(C)||i.push(C)}}}else if(t&&e.deps===null&&e.effects===null){var o=e,a=o.parent;a!==null&&(a.f&de)===0&&(o.f^=de)}if(Ye){if(Be.has(e))return Be.get(e);if(t){o=e;var l=o.v;return((o.f&U)===0&&o.reactions!==null||ls(o))&&(l=zn(o)),Be.set(o,l),l}}else if(t){if(o=e,Re!=null&&Re.has(o))return Re.get(o);Mt(o)&&Dr(o)}if((e.f&qe)!==0)throw e.v;return e.v}function ls(e){if(e.v===Y)return!0;if(e.deps===null)return!1;for(const n of e.deps)if(Be.has(n)||(n.f&ae)!==0&&ls(n))return!0;return!1}function X(e){var n=pe;try{return pe=!0,e()}finally{pe=n}}const Xi=-7169;function j(e,n){e.f=e.f&Xi|n}function se(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(He in e)pn(e);else if(!Array.isArray(e))for(let n in e){const t=e[n];typeof t=="object"&&t&&He in t&&pn(t)}}}function pn(e,n=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!n.has(e)){n.add(e),e instanceof Date&&e.getTime();for(let r in e)try{pn(e[r],n)}catch{}const t=Tn(e);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=Cr(t);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}let cr=!1;function cs(){cr||(cr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var n;if(!e.defaultPrevented)for(const t of e.target.elements)(n=t.__on_r)==null||n.call(t)})},{capture:!0}))}function ds(e){var n=C,t=x;we(null),Ne(null);try{return e()}finally{we(n),Ne(t)}}function Gi(e,n,t,r=t){e.addEventListener(n,()=>ds(t));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),cs()}const Zi=new Set,dr=new Set;function Ji(e,n,t,r={}){function s(i){if(r.capture||_t.call(n,i),!i.cancelBubble)return ds(()=>t==null?void 0:t.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?On(()=>{n.addEventListener(e,s,r)}):n.addEventListener(e,s,r),s}function gn(e,n,t,r,s){var i={capture:r,passive:s},o=Ji(e,n,t,i);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&Gr(()=>{n.removeEventListener(e,o,i)})}function _t(e){var k;var n=this,t=n.ownerDocument,r=e.type,s=((k=e.composedPath)==null?void 0:k.call(e))||[],i=s[0]||e.target,o=0,a=e.__root;if(a){var l=s.indexOf(a);if(l!==-1&&(n===document||n===window)){e.__root=n;return}var c=s.indexOf(n);if(c===-1)return;l<=c&&(o=l)}if(i=s[o]||e.target,i!==n){at(e,"currentTarget",{configurable:!0,get(){return i||t}});var d=C,h=x;we(null),Ne(null);try{for(var u,p=[];i!==null;){var f=i.assignedSlot||i.parentNode||i.host||null;try{var v=i["__"+r];if(v!=null&&(!i.disabled||e.target===i))if(Xt(v)){var[y,...E]=v;y.apply(i,[e,...E])}else v.call(i,e)}catch(m){u?p.push(m):u=m}if(e.cancelBubble||f===n||f===null)break;i=f}if(u){for(let m of p)queueMicrotask(()=>{throw m});throw u}}finally{e.__root=n,delete e.currentTarget,we(d),Ne(h)}}}function us(e){var n=document.createElement("template");return n.innerHTML=e.replaceAll("<!>","<!---->"),n.content}function rt(e,n){var t=x;t.nodes_start===null&&(t.nodes_start=e,t.nodes_end=n)}function he(e,n){var t=(n&si)!==0,r=(n&ii)!==0,s,i=!e.startsWith("<!>");return()=>{if(T)return rt(P,null),P;s===void 0&&(s=us(i?e:"<!>"+e),t||(s=Pe(s)));var o=r||Fr?document.importNode(s,!0):s.cloneNode(!0);if(t){var a=Pe(o),l=o.lastChild;rt(a,l)}else rt(o,o);return o}}function Qi(e,n,t="svg"){var r=!e.startsWith("<!>"),s=`<${t}>${r?e:"<!>"+e}</${t}>`,i;return()=>{if(T)return rt(P,null),P;if(!i){var o=us(s),a=Pe(o);i=Pe(a)}var l=i.cloneNode(!0);return rt(l,l),l}}function Ki(e,n){return Qi(e,n,"svg")}function oe(e,n){if(T){x.nodes_end=P,$t();return}e!==null&&e.before(n)}const eo=["touchstart","touchmove"];function to(e){return eo.includes(e)}function _e(e,n){var t=n==null?"":typeof n=="object"?n+"":n;t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t+"")}function fs(e,n){return hs(e,n)}function no(e,n){hn(),n.intro=n.intro??!1;const t=n.target,r=T,s=P;try{for(var i=Pe(t);i&&(i.nodeType!==yt||i.data!==Er);)i=Se(i);if(!i)throw et;Ee(!0),me(i),$t();const o=hs(e,{...n,anchor:i});if(P===null||P.nodeType!==yt||P.data!==Cn)throw Zt(),et;return Ee(!1),o}catch(o){if(o===et)return n.recover===!1&&wi(),hn(),Vr(t),Ee(!1),fs(e,n);throw o}finally{Ee(r),me(s)}}const Ze=new Map;function hs(e,{target:n,anchor:t,props:r={},events:s,context:i,intro:o=!0}){hn();var a=new Set,l=h=>{for(var u=0;u<h.length;u++){var p=h[u];if(!a.has(p)){a.add(p);var f=to(p);n.addEventListener(p,_t,{passive:f});var v=Ze.get(p);v===void 0?(document.addEventListener(p,_t,{passive:f}),Ze.set(p,1)):Ze.set(p,v+1)}}};l(Sn(Zi)),dr.add(l);var c=void 0,d=Hi(()=>{var h=t??n.appendChild(dt());return ut(()=>{if(i){je({});var u=N;u.c=i}s&&(r.$$events=s),T&&rt(h,null),c=e(h,r)||{},T&&(x.nodes_end=P),i&&Ve()}),()=>{var f;for(var u of a){n.removeEventListener(u,_t);var p=Ze.get(u);--p===0?(document.removeEventListener(u,_t),Ze.delete(u)):Ze.set(u,p)}dr.delete(l),h!==t&&((f=h.parentNode)==null||f.removeChild(h))}});return _n.set(c,d),c}let _n=new WeakMap;function ro(e,n){const t=_n.get(e);return t?(_n.delete(e),t(n)):Promise.resolve()}function so(e){N===null&&Lr(),ft&&N.l!==null?ao(N).m.push(e):vn(()=>{const n=X(e);if(typeof n=="function")return n})}function io(e,n,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:n,bubbles:t,cancelable:r})}function oo(){const e=N;return e===null&&Lr(),(n,t,r)=>{var i;const s=(i=e.s.$$events)==null?void 0:i[n];if(s){const o=Xt(s)?s.slice():[s],a=io(n,t,r);for(const l of o)l.call(e.x,a);return!a.defaultPrevented}return!0}}function ao(e){var n=e.l;return n.u??(n.u={a:[],b:[],m:[]})}function lo(e,n,t=!1){T&&$t();var r=e,s=null,i=null,o=Y,a=t?Rn:0,l=!1;const c=(p,f=!0)=>{l=!0,u(f,p)};var d=null;function h(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var p=o?s:i,f=o?i:s;p&&Bn(p),f&&qn(f,()=>{o?i=null:s=null})}const u=(p,f)=>{if(o===(o=p))return;let v=!1;if(T){const M=Rr(r)===xn;!!o===M&&(r=dn(),me(r),Ee(!1),v=!0)}var y=Yr(),E=r;if(y&&(d=document.createDocumentFragment(),d.append(E=dt())),o?s??(s=f&&ut(()=>f(E))):i??(i=f&&ut(()=>f(E))),y){var k=ee,m=o?s:i,_=o?i:s;m&&k.skipped_effects.delete(m),_&&k.skipped_effects.add(_),k.add_callback(h)}else h();v&&Ee(!0)};Kr(()=>{l=!1,n(c),l||u(null,null)},a),T&&(r=P)}function on(e,n){return n}function co(e,n,t){for(var r=e.items,s=[],i=n.length,o=0;o<i;o++)Hn(n[o].e,s,!0);var a=i>0&&s.length===0&&t!==null;if(a){var l=t.parentNode;Vr(l),l.append(t),r.clear(),ve(e,n[0].prev,n[i-1].next)}rs(s,()=>{for(var c=0;c<i;c++){var d=n[c];a||(r.delete(d.k),ve(e,d.prev,d.next)),ye(d.e,!a)}})}function Ot(e,n,t,r,s,i=null){var o=e,a={flags:n,items:new Map,first:null};T&&$t();var l=null,c=!1,d=new Map,h=Dn(()=>{var v=t();return Xt(v)?v:v==null?[]:Sn(v)}),u,p;function f(){uo(p,u,a,d,o,s,n,r,t),i!==null&&(u.length===0?l?Bn(l):l=ut(()=>i(o)):l!==null&&qn(l,()=>{l=null}))}Kr(()=>{p??(p=x),u=S(h);var v=u.length;if(c&&v===0)return;c=v===0;let y=!1;if(T){var E=Rr(o)===xn;E!==(v===0)&&(o=dn(),me(o),Ee(!1),y=!0)}if(T){for(var k=null,m,_=0;_<v;_++){if(P.nodeType===yt&&P.data===Cn){o=P,y=!0,Ee(!1);break}var M=u[_],z=r(M,_);m=mn(P,a,k,null,M,z,_,s,n,t),a.items.set(z,m),k=m}v>0&&me(dn())}if(T)v===0&&i&&(l=ut(()=>i(o)));else if(Yr()){var ne=new Set,V=ee;for(_=0;_<v;_+=1){M=u[_],z=r(M,_);var O=a.items.get(z)??d.get(z);O?vs(O,M,_):(m=mn(null,a,null,null,M,z,_,s,n,t,!0),d.set(z,m)),ne.add(z)}for(const[b,I]of a.items)ne.has(b)||V.skipped_effects.add(I.e);V.add_callback(f)}else f();y&&Ee(!0),S(h)}),T&&(o=P)}function uo(e,n,t,r,s,i,o,a,l){var c=n.length,d=t.items,h=t.first,u=h,p,f=null,v=[],y=[],E,k,m,_;for(_=0;_<c;_+=1){if(E=n[_],k=a(E,_),m=d.get(k),m===void 0){var M=r.get(k);if(M!==void 0){r.delete(k),d.set(k,M);var z=f?f.next:u;ve(t,f,M),ve(t,M,z),an(M,z,s),f=M}else{var ne=u?u.e.nodes_start:s;f=mn(ne,t,f,f===null?t.first:f.next,E,k,_,i,o,l)}d.set(k,f),v=[],y=[],u=f.next;continue}if(vs(m,E,_),(m.e.f&ue)!==0&&Bn(m.e),m!==u){if(p!==void 0&&p.has(m)){if(v.length<y.length){var V=y[0],O;f=V.prev;var b=v[0],I=v[v.length-1];for(O=0;O<v.length;O+=1)an(v[O],V,s);for(O=0;O<y.length;O+=1)p.delete(y[O]);ve(t,b.prev,I.next),ve(t,f,b),ve(t,I,V),u=V,f=I,_-=1,v=[],y=[]}else p.delete(m),an(m,u,s),ve(t,m.prev,m.next),ve(t,m,f===null?t.first:f.next),ve(t,f,m),f=m;continue}for(v=[],y=[];u!==null&&u.k!==k;)(u.e.f&ue)===0&&(p??(p=new Set)).add(u),y.push(u),u=u.next;if(u===null)continue;m=u}v.push(m),f=m,u=m.next}if(u!==null||p!==void 0){for(var q=p===void 0?[]:Sn(p);u!==null;)(u.e.f&ue)===0&&q.push(u),u=u.next;var B=q.length;if(B>0){var F=null;co(t,q,F)}}e.first=t.first&&t.first.e,e.last=f&&f.e;for(var A of r.values())ye(A.e);r.clear()}function vs(e,n,t,r){Ut(e.v,n),e.i=t}function mn(e,n,t,r,s,i,o,a,l,c,d){var h=(l&Zs)!==0,u=(l&Qs)===0,p=h?u?ct(s,!1,!1):kt(s):s,f=(l&Js)===0?o:kt(o),v={i:f,v:p,k:i,a:null,e:null,prev:t,next:r};try{if(e===null){var y=document.createDocumentFragment();y.append(e=dt())}return v.e=ut(()=>a(e,p,f,c),T),v.e.prev=t&&t.e,v.e.next=r&&r.e,t===null?d||(n.first=v):(t.next=v,t.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function an(e,n,t){for(var r=e.next?e.next.e.nodes_start:t,s=n?n.e.nodes_start:t,i=e.e.nodes_start;i!==null&&i!==r;){var o=Se(i);s.before(i),i=o}}function ve(e,n,t){n===null?e.first=t:(n.next=t,n.e.next=t&&t.e),t!==null&&(t.prev=n,t.e.prev=n&&n.e)}function yn(e,n,t,r,s){var a;T&&$t();var i=(a=n.$$slots)==null?void 0:a[t],o=!1;i===!0&&(i=n[t==="default"?"children":t],o=!0),i===void 0||i(e,o?()=>r:r)}function ht(e,n){On(()=>{var t=e.getRootNode(),r=t.host?t:t.head??t.ownerDocument.head;if(!r.querySelector("#"+n.hash)){const s=document.createElement("style");s.id=n.hash,s.textContent=n.code,r.appendChild(s)}})}const ur=[...` 	
\r\f \v\uFEFF`];function fo(e,n,t){var r=e==null?"":""+e;if(n&&(r=r?r+" "+n:n),t){for(var s in t)if(t[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,o=0;(o=r.indexOf(s,o))>=0;){var a=o+i;(o===0||ur.includes(r[o-1]))&&(a===r.length||ur.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function ho(e,n){return e==null?null:String(e)}function wn(e,n,t,r,s,i){var o=e.__className;if(T||o!==t||o===void 0){var a=fo(t,r,i);(!T||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):e.className=a),e.__className=t}else if(i&&s!==i)for(var l in i){var c=!!i[l];(s==null||c!==!!s[l])&&e.classList.toggle(l,c)}return i}function ps(e,n,t,r){var s=e.__style;if(T||s!==n){var i=ho(n);(!T||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=n}return r}const vo=Symbol("is custom element"),po=Symbol("is html");function go(e){if(T){var n=!1,t=()=>{if(!n){if(n=!0,e.hasAttribute("value")){var r=e.value;W(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var s=e.checked;W(e,"checked",null),e.checked=s}}};e.__on_r=t,Li(t),cs()}}function W(e,n,t,r){var s=_o(e);T&&(s[n]=e.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&e.nodeName==="LINK")||s[n]!==(s[n]=t)&&(n==="loading"&&(e[hi]=t),t==null?e.removeAttribute(n):typeof t!="string"&&mo(e).includes(n)?e[n]=t:e.setAttribute(n,t))}function _o(e){return e.__attributes??(e.__attributes={[vo]:e.nodeName.includes("-"),[po]:e.namespaceURI===oi})}var fr=new Map;function mo(e){var n=fr.get(e.nodeName);if(n)return n;fr.set(e.nodeName,n=[]);for(var t,r=e,s=Element.prototype;s!==r;){t=Cr(r);for(var i in t)t[i].set&&n.push(i);r=Tn(r)}return n}function yo(e,n,t=n){Gi(e,"change",r=>{var s=r?e.defaultChecked:e.checked;t(s)}),(T&&e.defaultChecked!==e.checked||X(n)==null)&&t(e.checked),Rt(()=>{var r=n();e.checked=!!r})}function bn(e,n,t){var r=Ie(e,n);r&&r.set&&(e[n]=t,Gr(()=>{e[n]=null}))}function hr(e,n){return e===n||(e==null?void 0:e[He])===n}function gs(e={},n,t,r){return Bi(()=>{var s,i;return Rt(()=>{s=i,i=[],X(()=>{e!==t(...i)&&(n(e,...i),s&&hr(t(...s),e)&&n(null,...s))})}),()=>{On(()=>{i&&hr(t(...i),e)&&n(null,...i)})}}),e}function Kt(e=!1){const n=N,t=n.l.u;if(!t)return;let r=()=>se(n.s);if(e){let s=0,i={};const o=Jt(()=>{let a=!1;const l=n.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],a=!0);return a&&s++,s});r=()=>S(o)}t.b.length&&zi(()=>{vr(n,r),Ht(t.b)}),vn(()=>{const s=X(()=>t.m.map(di));return()=>{for(const i of s)typeof i=="function"&&i()}}),t.a.length&&vn(()=>{vr(n,r),Ht(t.a)})}function vr(e,n){if(e.l.s)for(const t of e.l.s)S(t);n()}let Nt=!1;function wo(e){var n=Nt;try{return Nt=!1,[e(),Nt]}finally{Nt=n}}function H(e,n,t,r){var m;var s=!ft||(t&ei)!==0,i=(t&ni)!==0,o=(t&ri)!==0,a=r,l=!0,c=()=>(l&&(l=!1,a=o?X(r):r),a),d;if(i){var h=He in e||Tr in e;d=((m=Ie(e,n))==null?void 0:m.set)??(h&&n in e?_=>e[n]=_:void 0)}var u,p=!1;i?[u,p]=wo(()=>e[n]):u=e[n],u===void 0&&r!==void 0&&(u=c(),d&&(s&&bi(),d(u)));var f;if(s?f=()=>{var _=e[n];return _===void 0?c():(l=!0,_)}:f=()=>{var _=e[n];return _!==void 0&&(a=void 0),_===void 0?a:_},s&&(t&ti)===0)return f;if(d){var v=e.$$legacy;return function(_,M){return arguments.length>0?((!s||!M||v||p)&&d(M?f():_),_):f()}}var y=!1,E=((t&Ks)!==0?Jt:Dn)(()=>(y=!1,f()));i&&S(E);var k=x;return function(_,M){if(arguments.length>0){const z=M?S(E):s&&i?Qe(_):_;return ie(E,z),y=!0,a!==void 0&&(a=z),_}return Ye&&y||(k.f&Ue)!==0?E.v:S(E)}}function bo(e){return new ko(e)}var ke,ce;class ko{constructor(n){G(this,ke);G(this,ce);var i;var t=new Map,r=(o,a)=>{var l=ct(a,!1,!1);return t.set(o,l),l};const s=new Proxy({...n.props||{},$$events:{}},{get(o,a){return S(t.get(a)??r(a,Reflect.get(o,a)))},has(o,a){return a===Tr?!0:(S(t.get(a)??r(a,Reflect.get(o,a))),Reflect.has(o,a))},set(o,a,l){return ie(t.get(a)??r(a,l),l),Reflect.set(o,a,l)}});K(this,ce,(n.hydrate?no:fs)(n.component,{target:n.target,anchor:n.anchor,props:s,context:n.context,intro:n.intro??!1,recover:n.recover})),(!((i=n==null?void 0:n.props)!=null&&i.$$host)||n.sync===!1)&&D(),K(this,ke,s.$$events);for(const o of Object.keys(w(this,ce)))o==="$set"||o==="$destroy"||o==="$on"||at(this,o,{get(){return w(this,ce)[o]},set(a){w(this,ce)[o]=a},enumerable:!0});w(this,ce).$set=o=>{Object.assign(s,o)},w(this,ce).$destroy=()=>{ro(w(this,ce))}}$set(n){w(this,ce).$set(n)}$on(n,t){w(this,ke)[n]=w(this,ke)[n]||[];const r=(...s)=>t.call(this,...s);return w(this,ke)[n].push(r),()=>{w(this,ke)[n]=w(this,ke)[n].filter(s=>s!==r)}}$destroy(){w(this,ce).$destroy()}}ke=new WeakMap,ce=new WeakMap;let _s;typeof HTMLElement=="function"&&(_s=class extends HTMLElement{constructor(n,t,r){super();g(this,"$$ctor");g(this,"$$s");g(this,"$$c");g(this,"$$cn",!1);g(this,"$$d",{});g(this,"$$r",!1);g(this,"$$p_d",{});g(this,"$$l",{});g(this,"$$l_u",new Map);g(this,"$$me");this.$$ctor=n,this.$$s=t,r&&this.attachShadow({mode:"open"})}addEventListener(n,t,r){if(this.$$l[n]=this.$$l[n]||[],this.$$l[n].push(t),this.$$c){const s=this.$$c.$on(n,t);this.$$l_u.set(t,s)}super.addEventListener(n,t,r)}removeEventListener(n,t,r){if(super.removeEventListener(n,t,r),this.$$c){const s=this.$$l_u.get(t);s&&(s(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(s){return i=>{const o=document.createElement("slot");s!=="default"&&(o.name=s),oe(i,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},r=Eo(this);for(const s of this.$$s)s in r&&(s==="default"&&!this.$$d.children?(this.$$d.children=n(s),t.default=!0):t[s]=n(s));for(const s of this.attributes){const i=this.$$g_p(s.name);i in this.$$d||(this.$$d[i]=Dt(i,s.value,this.$$p_d,"toProp"))}for(const s in this.$$p_d)!(s in this.$$d)&&this[s]!==void 0&&(this.$$d[s]=this[s],delete this[s]);this.$$c=bo({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=qi(()=>{Rt(()=>{var s;this.$$r=!0;for(const i of qt(this.$$c)){if(!((s=this.$$p_d[i])!=null&&s.reflect))continue;this.$$d[i]=this.$$c[i];const o=Dt(i,this.$$d[i],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,o)}this.$$r=!1})});for(const s in this.$$l)for(const i of this.$$l[s]){const o=this.$$c.$on(s,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(n,t,r){var s;this.$$r||(n=this.$$g_p(n),this.$$d[n]=Dt(n,r,this.$$p_d,"toProp"),(s=this.$$c)==null||s.$set({[n]:this.$$d[n]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(n){return qt(this.$$p_d).find(t=>this.$$p_d[t].attribute===n||!this.$$p_d[t].attribute&&t.toLowerCase()===n)||n}});function Dt(e,n,t,r){var i;const s=(i=t[e])==null?void 0:i.type;if(n=s==="Boolean"&&typeof n!="boolean"?n!=null:n,!r||!t[e])return n;if(r==="toAttribute")switch(s){case"Object":case"Array":return n==null?null:JSON.stringify(n);case"Boolean":return n?"":null;case"Number":return n??null;default:return n}else switch(s){case"Object":case"Array":return n&&JSON.parse(n);case"Boolean":return n;case"Number":return n!=null?+n:n;default:return n}}function Eo(e){const n={};return e.childNodes.forEach(t=>{n[t.slot||"default"]=!0}),n}function vt(e,n,t,r,s,i){let o=class extends _s{constructor(){super(e,t,s),this.$$p_d=n}static get observedAttributes(){return qt(n).map(a=>(n[a].attribute||a).toLowerCase())}};return qt(n).forEach(a=>{at(o.prototype,a,{get(){return this.$$c&&a in this.$$c?this.$$c[a]:this.$$d[a]},set(l){var h;l=Dt(a,l,n),this.$$d[a]=l;var c=this.$$c;if(c){var d=(h=Ie(c,a))==null?void 0:h.get;d?c[a]=l:c.$set({[a]:l})}}})}),r.forEach(a=>{at(o.prototype,a,{get(){var l;return(l=this.$$c)==null?void 0:l[a]}})}),e.element=o,o}var xo=he('<div class="pane-descriptor svelte-1dhzk6q"> <span class="grow svelte-1dhzk6q"> </span></div>');const Co={hash:"svelte-1dhzk6q",code:".svelte-1dhzk6q, .svelte-1dhzk6q::before, .svelte-1dhzk6q::after {box-sizing:border-box;}.pane-descriptor.svelte-1dhzk6q {display:flex;padding:0.5rem;background:var(--dark-background-e);border-top:1px solid var(--node-border);border-bottom:1px solid var(--node-border);width:100%;position:relative;z-index:2;}.pane-descriptor.svelte-1dhzk6q .grow:where(.svelte-1dhzk6q) {flex:1;text-align:right;color:var(--dark-foreground-ll);}"};function So(e,n){je(n,!1),ht(e,Co);let t=H(n,"dataHeader",12,""),r=H(n,"dataPlugin",12,"");var s=xo(),i=R(s),o=$(i),a=R(o,!0);return L(o),L(s),ge(()=>{_e(i,`${t()??""} `),_e(a,r())}),oe(e,s),Ve({get dataHeader(){return t()},set dataHeader(l){t(l),D()},get dataPlugin(){return r()},set dataPlugin(l){r(l),D()}})}customElements.define("pane-status",vt(So,{dataHeader:{},dataPlugin:{}},[],[],!0));var To=he('<button class="header svelte-188d8wh"><span><svg viewBox="0 0 16 16" fill="none" width="16" height="16"><path d="M5 6l3 3 3-3" stroke="#aaa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span> <span class="header-text"> </span></button> <div><!></div>',1);const $o={hash:"svelte-188d8wh",code:`:host {display:block;border:1px solid var(--dark-background-l);border-radius:4px;overflow:hidden;background:var(--dark-background);width:50%;max-width:700px;}.header.svelte-188d8wh {display:flex;align-items:center;cursor:pointer;padding:1rem;background:var(--dark-background-e);border:none;font-family:var(--global-font);width:100%;}.caret.svelte-188d8wh {transition:transform 0.2s;margin-right:1rem;width:1em;height:1em;display:inline-block;vertical-align:middle;transform:rotate(-90deg);}:host([expanded]) .caret.svelte-188d8wh,\r
.caret.expanded.svelte-188d8wh {transform:rotate(0deg);}.content.svelte-188d8wh {padding:1rem;display:none;}.content.expanded.svelte-188d8wh {display:block;}`};function Lo(e,n){je(n,!1),ht(e,$o);let t=H(n,"header",12,""),r=ct(!1);function s(){ie(r,!S(r))}var i=To(),o=gt(i),a=R(o);let l;var c=$(a,2),d=R(c,!0);L(c),L(o);var h=$(o,2);let u;var p=R(h);return yn(p,n,"default",{}),L(h),ge((f,v)=>{W(o,"aria-expanded",S(r)),l=wn(a,1,"caret svelte-188d8wh",null,l,f),_e(d,t()),u=wn(h,1,"content svelte-188d8wh",null,u,v)},[()=>({expanded:S(r)}),()=>({expanded:S(r)})]),gn("click",o,s),gn("keydown",o,f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),s())}),oe(e,i),Ve({get header(){return t()},set header(f){t(f),D()}})}customElements.define("collapse-view",vt(Lo,{header:{}},["default"],[],!0));var Ro=Ki('<svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" class="svelte-z14osc"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%"></stop><stop offset="100%"></stop></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%"></stop><stop offset="100%"></stop></linearGradient><filter x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="5" dy="5" stdDeviation="10" flood-color="rgba(0,0,0,0.5)"></feDropShadow></filter><filter x="-50%" y="-50%" width="200%" height="200%"><feDropShadow dx="25" dy="25" stdDeviation="25" flood-color="rgba(0,0,0,0.75)"></feDropShadow></filter></defs><g><rect x="0" y="0" width="300" height="300"></rect></g><text x="155" y="170" text-anchor="middle" dominant-baseline="middle" font-size="180" opacity="1.0"> </text><text x="150" y="165" text-anchor="middle" dominant-baseline="middle" font-size="180" stroke="rgba(255,255,255,0.3)" stroke-width="1"> </text></svg>');const Mo={hash:"svelte-z14osc",code:":host {display:inline-block;}svg.svelte-z14osc {filter:none;}"};function Io(e,n){je(n,!1),ht(e,Mo);let t=H(n,"text",12,"Hz"),r=H(n,"size",12,300),s=H(n,"radius",12,"0.5rem"),i=H(n,"shadowColor",12,"var(--haze-color-shadow)"),o=H(n,"foregroundTopColor",12,"var(--haze-color-foreground-top)"),a=H(n,"foregroundBottomColor",12,"var(--haze-color-foreground-bottom)"),l=H(n,"backgroundTopColor",12,"var(--haze-color-background-top)"),c=H(n,"backgroundBottomColor",12,"var(--haze-color-background-bottom)");const d=Math.random().toString(36).substring(2,9),h=`bgGradient-${d}`,u=`textGradient-${d}`,p=`dropShadow-${d}`,f=`richShadow-${d}`;Kt();var v=Ro(),y=R(v),E=R(y),k=R(E),m=$(k);L(E);var _=$(E),M=R(_),z=$(M);L(_);var ne=$(_),V=$(ne);L(y);var O=$(y),b=R(O);L(O);var I=$(O),q=R(I,!0);L(I);var B=$(I),F=R(B,!0);return L(B),L(v),ge(()=>{ps(v,s()?`border-radius: ${s()};`:""),W(v,"width",r()),W(v,"height",r()),W(E,"id",h),W(k,"stop-color",l()),W(m,"stop-color",c()),W(_,"id",u),W(M,"stop-color",o()),W(z,"stop-color",a()),W(ne,"id",p),W(V,"id",f),W(b,"fill",`url(#${h})`),W(I,"fill",i()),_e(q,t()),W(B,"fill",`url(#${u})`),W(B,"filter",`url(#${p}) url(#${f})`),_e(F,t())}),oe(e,v),Ve({get text(){return t()},set text(A){t(A),D()},get size(){return r()},set size(A){r(A),D()},get radius(){return s()},set radius(A){s(A),D()},get shadowColor(){return i()},set shadowColor(A){i(A),D()},get foregroundTopColor(){return o()},set foregroundTopColor(A){o(A),D()},get foregroundBottomColor(){return a()},set foregroundBottomColor(A){a(A),D()},get backgroundTopColor(){return l()},set backgroundTopColor(A){l(A),D()},get backgroundBottomColor(){return c()},set backgroundBottomColor(A){c(A),D()}})}customElements.define("symbol-icon",vt(Io,{text:{},size:{},radius:{},shadowColor:{},foregroundTopColor:{},foregroundBottomColor:{},backgroundTopColor:{},backgroundBottomColor:{}},[],[],!0));var Ao=he(`
                        <th class="hex-offset svelte-1kkc25k"> </th>
                    `,1),Po=he(`
                                <td class="hex-byte svelte-1kkc25k"> </td>
                            `,1),No=he(`
                                <td class="svelte-1kkc25k"></td>
                            `,1),Oo=he(`
                            <!>
                        `,1),Do=he(`
                    <tr class="svelte-1kkc25k">
                        <td class="hex-address svelte-1kkc25k"> </td>
                        <!>
                        <td class="hex-ascii svelte-1kkc25k"> </td>
                    </tr>
                `,1),zo=he(`<div class="hex-shell svelte-1kkc25k"><pre class="hex-highlight-layer svelte-1kkc25k">
        <table class="hex-table svelte-1kkc25k">
            <thead class="svelte-1kkc25k">
                <tr class="svelte-1kkc25k">
                    <th class="hex-address svelte-1kkc25k">Address</th>
                    <th class="svelte-1kkc25k">Offset</th>
                    <th class="hex-ascii svelte-1kkc25k">ASCII</th>
                </tr>
                <tr class="header-spacer-row svelte-1kkc25k"></tr>
                <tr class="hex-offset-row svelte-1kkc25k">
                    <th class="svelte-1kkc25k"></th>
                    <!>
                    <th class="svelte-1kkc25k"></th>
                </tr>
                <tr class="header-spacer-row svelte-1kkc25k"></tr>
            </thead>
            <tbody class="svelte-1kkc25k">
                <!>
            </tbody>
        </table>
    </pre></div>`);const qo={hash:"svelte-1kkc25k",code:".svelte-1kkc25k, .svelte-1kkc25k::before, .svelte-1kkc25k::after {box-sizing:border-box;}.hex-shell.svelte-1kkc25k {color:var(--light-foreground);padding:1rem;overflow-x:hidden;overflow-y:auto;height:100%;width:100%;}.hex-table.svelte-1kkc25k {font-family:var(--global-font);border-collapse:collapse;width:100%;}.hex-table.svelte-1kkc25k th:where(.svelte-1kkc25k), .hex-table.svelte-1kkc25k td:where(.svelte-1kkc25k) {text-align:center;vertical-align:middle;font-size:1em;width:2.5ch;height:1.5em;white-space:nowrap;}.hex-table.svelte-1kkc25k th:where(.svelte-1kkc25k) {color:var(--dark-foreground-l);}.header-spacer-row.svelte-1kkc25k {height:0.5rem;}.hex-offset.svelte-1kkc25k {font-weight:normal;}th.hex-offset.svelte-1kkc25k {color:var(--accent);}.hex-address.svelte-1kkc25k {font-weight:bold;color:var(--light-foreground-l);padding-right:1rem;}.hex-ascii.svelte-1kkc25k {color:var(--secondary);padding-left:1rem;}.hex-highlight-layer.svelte-1kkc25k {margin:0;}"};function Ho(e,n){je(n,!1),ht(e,qo);const t=ct();let r=H(n,"data",28,()=>new Uint8Array),s=H(n,"columns",12,16),i=H(n,"symbols",28,()=>[]),o=H(n,"client",12,null),a=H(n,"sourceUri",12,""),l=H(n,"autoColumns",12,!0),c=null,d=ct();function h(b){for(const I of i())if(b>=I.address&&b<I.address+I.length)return I;return null}function u(b){let I="";for(let q=0;q<s();q++){const B=b+q;if(B<r().length){const F=r()[B];I+=F>=32&&F<=126?String.fromCharCode(F):"."}else I+=" "}return I}function p(){if(!l()||!S(d))return;const b=getComputedStyle(S(d)),I=parseInt(b.fontSize.replace("px",""))||16,q=I*8,B=s()*8,F=I*2,A=S(d).getBoundingClientRect().width-q-B-F,Xe=Math.max(1,A/24);Math.abs(Xe-s())>.5&&s(Math.floor(Xe))}so(()=>(l()&&(c=new ResizeObserver(p),c.observe(S(d))),o()&&a()&&r().length>0&&(o().addEventListener("message",f),o().postMessage({type:"execute",method:"openDocument",params:{uri:a(),sourceCode:Array.from(r()).map(b=>b.toString(16).padStart(2,"0")).join(" ")}})),()=>{c==null||c.disconnect(),o()&&a()&&(o().postMessage({type:"execute",method:"closeDocument",params:{uri:a()}}),o().removeEventListener("message",f))}));function f(b){b.data.type==="symbolInfo"&&b.data.uri===a()&&i(b.data.symbols)}function v(b,I,q=null){a(b),r(I),o(q),o()&&a()&&r().length>0&&o().postMessage({type:"execute",method:"openDocument",params:{uri:a(),sourceCode:Array.from(r()).map(A=>A.toString(16).padStart(2,"0")).join(" ")}});const B=I.length,F=document.querySelector("#exe-hex-plugin");F&&F.setAttribute("dataPlugin",`${B} B`)}Jr(()=>(se(r()),se(s())),()=>{ie(t,Math.ceil(r().length/s()))}),Qr(),Kt();var y=zo(),E=R(y),k=$(R(E)),m=$(R(k)),_=$(R(m)),M=$(R(_),3);Z(3),L(_);var z=$(_,4),ne=$(R(z),3);Ot(ne,1,()=>(se(s()),X(()=>Array(s()))),on,(b,I,q)=>{Z();var B=Ao(),F=$(gt(B)),A=R(F);L(F),Z(),ge(Xe=>_e(A,`+${Xe??""}`),[()=>X(()=>q.toString(16).toUpperCase())]),oe(b,B)}),Z(3),L(z),Z(3),L(m);var V=$(m,2),O=$(R(V));return Ot(O,1,()=>(S(t),X(()=>Array(S(t)))),on,(b,I,q)=>{Z();var B=Do(),F=$(gt(B)),A=$(R(F)),Xe=R(A,!0);L(A);var Wn=$(A,2);Ot(Wn,1,()=>(se(s()),X(()=>Array(s()))),on,(en,Un,tn,Zo)=>{Z();var jn=Oo(),bs=$(gt(jn));{var ks=Ge=>{var It=Po(),nn=$(gt(It)),xs=R(nn);L(nn),Z(),ge((At,Cs)=>{ps(nn,`color: ${At??""}`),_e(xs,`
                                    ${Cs??""}
                                `)},[()=>(se(s()),X(()=>{var At;return((At=h(q*s()+tn))==null?void 0:At.color)||"#ccc"})),()=>(se(r()),se(s()),X(()=>r()[q*s()+tn].toString(16).padStart(2,"0")))]),oe(Ge,It)},Es=Ge=>{var It=No();Z(2),oe(Ge,It)};lo(bs,Ge=>{se(s()),se(r()),X(()=>q*s()+tn<r().length)?Ge(ks):Ge(Es,!1)})}Z(),oe(en,jn)});var Fn=$(Wn,2),ws=R(Fn,!0);L(Fn),Z(),L(F),Z(),ge((en,Un)=>{_e(Xe,en),_e(ws,Un)},[()=>(se(s()),X(()=>(q*s()).toString(16).padStart(8,"0"))),()=>(se(s()),X(()=>u(q*s())))]),oe(b,B)}),Z(),L(V),Z(),L(k),Z(),L(E),L(y),gs(y,b=>ie(d,b),()=>S(d)),ge(()=>W(M,"colspan",s())),oe(e,y),bn(n,"initialize",v),Ve({initialize:v,get data(){return r()},set data(b){r(b),D()},get columns(){return s()},set columns(b){s(b),D()},get symbols(){return i()},set symbols(b){i(b),D()},get client(){return o()},set client(b){o(b),D()},get sourceUri(){return a()},set sourceUri(b){a(b),D()},get autoColumns(){return l()},set autoColumns(b){l(b),D()}})}customElements.define("hex-viewer",vt(Ho,{data:{},columns:{},symbols:{},client:{},sourceUri:{},autoColumns:{}},[],["initialize"],!0));var Bo=he('<div class="container svelte-frylje"><input type="checkbox" class="svelte-frylje"/> <span class="icon on-icon svelte-frylje"><!></span> <span class="icon off-icon svelte-frylje"><!></span></div>');const Wo={hash:"svelte-frylje",code:'.container.svelte-frylje {cursor:pointer;user-select:none;width:fit-content;position:relative;}input[type="checkbox"].svelte-frylje {position:absolute;height:1rem;width:1rem;opacity:0;margin:0;z-index:100;cursor:pointer;}.icon.svelte-frylje {display:none;align-items:center;justify-content:center;width:1rem;height:1rem;}input[type="checkbox"].svelte-frylje:checked ~ .on-icon:where(.svelte-frylje) {display:flex;}input[type="checkbox"].svelte-frylje:not(:checked) ~ .off-icon:where(.svelte-frylje) {display:flex;}'};function Fo(e,n){je(n,!1),ht(e,Wo);let t=H(n,"checked",12,!0),r=H(n,"title",12,"");const s=oo();function i(u){t(u.target.checked),s("toggle-change",{checked:t()})}Kt();var o=Bo(),a=R(o);go(a);var l=$(a,2),c=R(l);yn(c,n,"on-icon",{}),L(l);var d=$(l,2),h=R(d);return yn(h,n,"off-icon",{}),L(d),L(o),ge(()=>W(o,"title",r())),yo(a,t),gn("change",a,i),oe(e,o),Ve({get checked(){return t()},set checked(u){t(u),D()},get title(){return r()},set title(u){r(u),D()}})}customElements.define("symbol-toggle",vt(Fo,{checked:{},title:{}},["on-icon","off-icon"],[],!0));var Uo=he('<div class="console-line svelte-qs1bhk"> </div>'),jo=he('<div><!> <div id="end"></div></div>');const Vo={hash:"svelte-qs1bhk",code:".console.svelte-qs1bhk {background:var(--dark-background-e);color:#e0e0e0;max-height:150px;overflow-y:auto;z-index:1000;padding:0.5rem 1rem;box-shadow:0 -2px 8px rgba(0,0,0,0.3);pointer-events:auto;display:block;transition:opacity 0.3s ease-in-out;opacity:1;}.console.fade-out.svelte-qs1bhk {opacity:0;display:none;pointer-events:none;}.console-line.svelte-qs1bhk {white-space:pre-wrap;word-break:break-all;}"};function Yo(e,n){je(n,!1),ht(e,Vo);let t=H(n,"messages",28,()=>[]),r=H(n,"visible",12,!0),s=ct(null),i=0;function o(u){if(t().length>0&&t()[t().length-1].rawText===u){const p={...t()[t().length-1]},f=p.text.match(/\[x(\d+)\]$/);let v=f?parseInt(f[1])+1:2;p.text=`${u} [x${v}]`,t([...t().slice(0,-1),p])}else t([...t(),{id:(++i).toString(),text:u,rawText:u,visible:!0}]);a()}function a(){r(!0),clearTimeout(l),l=setTimeout(()=>{r(!1)},3e3)}let l;Jr(()=>(S(s),se(t())),()=>{S(s)&&t().length&&S(s).scrollIntoView({behavior:"smooth"})}),Qr(),Kt();var c=jo(),d=R(c);Ot(d,1,t,u=>u.id,(u,p)=>{var f=Uo(),v=R(f,!0);L(f),ge(()=>_e(v,(S(p),X(()=>S(p).text)))),oe(u,f)});var h=$(d,2);return gs(h,u=>ie(s,u),()=>S(s)),L(c),ge(()=>wn(c,1,`console ${r()?"":"fade-out"}`,"svelte-qs1bhk")),oe(e,c),bn(n,"addMessage",o),bn(n,"show",a),Ve({addMessage:o,show:a,get messages(){return t()},set messages(u){t(u),D()},get visible(){return r()},set visible(u){r(u),D()}})}customElements.define("output-window",vt(Yo,{messages:{},visible:{}},[],["addMessage","show"],!0));const ms="pane-visibility";function Xo(){const e=localStorage.getItem(ms);if(e)try{const n=JSON.parse(e);if(Array.isArray(n))return n}catch{}return null}function pr(e){localStorage.setItem(ms,JSON.stringify(e))}customElements.whenDefined("output-window").then(()=>{const e=document.querySelector("output-window"),n={notify:t=>{console.log(t),e.addMessage(t)}};window.addEventListener("DOMContentLoaded",()=>{const t=Array.from(document.querySelectorAll("symbol-toggle")),r=document.querySelector("pane-view");let s=Xo();(!s||s.length!==t.length)&&(s=Array(t.length).fill(!0),pr(s)),t.forEach((d,h)=>{d.checked=s[h]??!0,d.addEventListener("toggle-change",u=>{s[h]=u.detail.checked,pr(s),r.setVisiblePanes(s)})}),r.setVisiblePanes(s);const i=r.querySelector("#source-pane source-editor");i&&(i.attachEventListeners(),i.initialize("file:///C:/source.hz",n,mt)),r.querySelector("program-tree");const o=r.querySelector("#ir-pane source-editor");o&&(o.attachEventListeners(),o.initialize("file:///C:/ir.hzi",n,mt));const a=r.querySelector("#asm-pane source-editor");a&&(a.attachEventListeners(),a.initialize("file:///C:/asm.hzs",n,mt));const l=new Uint8Array([72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33,72,101,120,32,86,105,101,119,101,114,33]),c=r.querySelector("hex-viewer");c&&customElements.whenDefined("hex-viewer").then(()=>{c.initialize("file:///program.exe",l,mt)})})});const Go=new Worker(new URL("/assets/LSPServerWorker-BOXhEwlU.js",import.meta.url),{type:"module"}),mt=new Worker(new URL("/assets/LSPClientWorker-2arvf2PA.js",import.meta.url),{type:"module"}),ys=new MessageChannel,kn=ys.port1,En=ys.port2;Go.postMessage({type:"connect",port:kn},[kn]);mt.postMessage({type:"connect",port:En},[En]);kn.start();En.start();
